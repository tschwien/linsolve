(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ah(e,t){const r=new Set(e.split(","));return n=>r.has(n)}const gt={},qo=[],wr=()=>{},bv=()=>!1,Wu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sh=e=>e.startsWith("onUpdate:"),Wt=Object.assign,lh=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},yv=Object.prototype.hasOwnProperty,Ve=(e,t)=>yv.call(e,t),ke=Array.isArray,Ho=e=>ju(e)==="[object Map]",Xb=e=>ju(e)==="[object Set]",Te=e=>typeof e=="function",Dt=e=>typeof e=="string",hi=e=>typeof e=="symbol",ft=e=>e!==null&&typeof e=="object",Jb=e=>(ft(e)||Te(e))&&Te(e.then)&&Te(e.catch),Yb=Object.prototype.toString,ju=e=>Yb.call(e),vv=e=>ju(e).slice(8,-1),Zb=e=>ju(e)==="[object Object]",uh=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ja=ah(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gu=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},_v=/-(\w)/g,$r=Gu(e=>e.replace(_v,(t,r)=>r?r.toUpperCase():"")),xv=/\B([A-Z])/g,uo=Gu(e=>e.replace(xv,"-$1").toLowerCase()),Xu=Gu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ic=Gu(e=>e?`on${Xu(e)}`:""),si=(e,t)=>!Object.is(e,t),Nc=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Qb=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},wv=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ip;const ey=()=>Ip||(Ip=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ch(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Dt(n)?Cv(n):ch(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Dt(e)||ft(e))return e}const kv=/;(?![^(]*\))/g,Mv=/:([^]+)/,Sv=/\/\*[^]*?\*\//g;function Cv(e){const t={};return e.replace(Sv,"").split(kv).forEach(r=>{if(r){const n=r.split(Mv);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function us(e){let t="";if(Dt(e))t=e;else if(ke(e))for(let r=0;r<e.length;r++){const n=us(e[r]);n&&(t+=n+" ")}else if(ft(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ev="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lv=ah(Ev);function ty(e){return!!e||e===""}const ry=e=>!!(e&&e.__v_isRef===!0),nt=e=>Dt(e)?e:e==null?"":ke(e)||ft(e)&&(e.toString===Yb||!Te(e.toString))?ry(e)?nt(e.value):JSON.stringify(e,ny,2):String(e),ny=(e,t)=>ry(t)?ny(e,t.value):Ho(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],o)=>(r[$c(n,o)+" =>"]=i,r),{})}:Xb(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>$c(r))}:hi(t)?$c(t):ft(t)&&!ke(t)&&!Zb(t)?String(t):t,$c=(e,t="")=>{var r;return hi(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cr;class iy{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=cr;try{return cr=this,t()}finally{cr=r}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function dh(e){return new iy(e)}function Av(e,t=cr){t&&t.active&&t.effects.push(e)}function oy(){return cr}function Dv(e){cr&&cr.cleanups.push(e)}let Yi;class hh{constructor(t,r,n,i){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Av(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,pi();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(Bv(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),mi()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ri,r=Yi;try{return ri=!0,Yi=this,this._runnings++,Np(this),this.fn()}finally{$p(this),this._runnings--,Yi=r,ri=t}}stop(){this.active&&(Np(this),$p(this),this.onStop&&this.onStop(),this.active=!1)}}function Bv(e){return e.value}function Np(e){e._trackId++,e._depsLength=0}function $p(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ay(e.deps[t],e);e.deps.length=e._depsLength}}function ay(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let ri=!0,Yd=0;const sy=[];function pi(){sy.push(ri),ri=!1}function mi(){const e=sy.pop();ri=e===void 0?!0:e}function ph(){Yd++}function mh(){for(Yd--;!Yd&&Zd.length;)Zd.shift()()}function ly(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&ay(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Zd=[];function uy(e,t,r){ph();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Zd.push(n.scheduler)))}mh()}const cy=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},gu=new WeakMap,Zi=Symbol(""),Qd=Symbol("");function or(e,t,r){if(ri&&Yi){let n=gu.get(e);n||gu.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=cy(()=>n.delete(r))),ly(Yi,i)}}function wn(e,t,r,n,i,o){const a=gu.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(r==="length"&&ke(e)){const l=Number(n);a.forEach((u,c)=>{(c==="length"||!hi(c)&&c>=l)&&s.push(u)})}else switch(r!==void 0&&s.push(a.get(r)),t){case"add":ke(e)?uh(r)&&s.push(a.get("length")):(s.push(a.get(Zi)),Ho(e)&&s.push(a.get(Qd)));break;case"delete":ke(e)||(s.push(a.get(Zi)),Ho(e)&&s.push(a.get(Qd)));break;case"set":Ho(e)&&s.push(a.get(Zi));break}ph();for(const l of s)l&&uy(l,4);mh()}function Tv(e,t){const r=gu.get(e);return r&&r.get(t)}const Fv=ah("__proto__,__v_isRef,__isVue"),dy=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hi)),Rp=Ov();function Ov(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=We(this);for(let o=0,a=this.length;o<a;o++)or(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(We)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pi(),ph();const n=We(this)[t].apply(this,r);return mh(),mi(),n}}),e}function Pv(e){hi(e)||(e=String(e));const t=We(this);return or(t,"has",e),t.hasOwnProperty(e)}class hy{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const i=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return o;if(r==="__v_raw")return n===(i?o?Gv:gy:o?fy:my).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=ke(t);if(!i){if(a&&Ve(Rp,r))return Reflect.get(Rp,r,n);if(r==="hasOwnProperty")return Pv}const s=Reflect.get(t,r,n);return(hi(r)?dy.has(r):Fv(r))||(i||or(t,"get",r),o)?s:Mt(s)?a&&uh(r)?s:s.value:ft(s)?i?by(s):ca(s):s}}class py extends hy{constructor(t=!1){super(!1,t)}set(t,r,n,i){let o=t[r];if(!this._isShallow){const l=oo(o);if(!Qo(n)&&!oo(n)&&(o=We(o),n=We(n)),!ke(t)&&Mt(o)&&!Mt(n))return l?!1:(o.value=n,!0)}const a=ke(t)&&uh(r)?Number(r)<t.length:Ve(t,r),s=Reflect.set(t,r,n,i);return t===We(i)&&(a?si(n,o)&&wn(t,"set",r,n):wn(t,"add",r,n)),s}deleteProperty(t,r){const n=Ve(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&wn(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!hi(r)||!dy.has(r))&&or(t,"has",r),n}ownKeys(t){return or(t,"iterate",ke(t)?"length":Zi),Reflect.ownKeys(t)}}class Iv extends hy{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const Nv=new py,$v=new Iv,Rv=new py(!0);const fh=e=>e,Ju=e=>Reflect.getPrototypeOf(e);function qs(e,t,r=!1,n=!1){e=e.__v_raw;const i=We(e),o=We(t);r||(si(t,o)&&or(i,"get",t),or(i,"get",o));const{has:a}=Ju(i),s=n?fh:r?vh:cs;if(a.call(i,t))return s(e.get(t));if(a.call(i,o))return s(e.get(o));e!==i&&e.get(t)}function Hs(e,t=!1){const r=this.__v_raw,n=We(r),i=We(e);return t||(si(e,i)&&or(n,"has",e),or(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function Vs(e,t=!1){return e=e.__v_raw,!t&&or(We(e),"iterate",Zi),Reflect.get(e,"size",e)}function zp(e,t=!1){!t&&!Qo(e)&&!oo(e)&&(e=We(e));const r=We(this);return Ju(r).has.call(r,e)||(r.add(e),wn(r,"add",e,e)),this}function Kp(e,t,r=!1){!r&&!Qo(t)&&!oo(t)&&(t=We(t));const n=We(this),{has:i,get:o}=Ju(n);let a=i.call(n,e);a||(e=We(e),a=i.call(n,e));const s=o.call(n,e);return n.set(e,t),a?si(t,s)&&wn(n,"set",e,t):wn(n,"add",e,t),this}function qp(e){const t=We(this),{has:r,get:n}=Ju(t);let i=r.call(t,e);i||(e=We(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&wn(t,"delete",e,void 0),o}function Hp(){const e=We(this),t=e.size!==0,r=e.clear();return t&&wn(e,"clear",void 0,void 0),r}function Us(e,t){return function(n,i){const o=this,a=o.__v_raw,s=We(a),l=t?fh:e?vh:cs;return!e&&or(s,"iterate",Zi),a.forEach((u,c)=>n.call(i,l(u),l(c),o))}}function Ws(e,t,r){return function(...n){const i=this.__v_raw,o=We(i),a=Ho(o),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=i[e](...n),c=r?fh:t?vh:cs;return!t&&or(o,"iterate",l?Qd:Zi),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:s?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Ln(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zv(){const e={get(o){return qs(this,o)},get size(){return Vs(this)},has:Hs,add:zp,set:Kp,delete:qp,clear:Hp,forEach:Us(!1,!1)},t={get(o){return qs(this,o,!1,!0)},get size(){return Vs(this)},has:Hs,add(o){return zp.call(this,o,!0)},set(o,a){return Kp.call(this,o,a,!0)},delete:qp,clear:Hp,forEach:Us(!1,!0)},r={get(o){return qs(this,o,!0)},get size(){return Vs(this,!0)},has(o){return Hs.call(this,o,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:Us(!0,!1)},n={get(o){return qs(this,o,!0,!0)},get size(){return Vs(this,!0)},has(o){return Hs.call(this,o,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:Us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ws(o,!1,!1),r[o]=Ws(o,!0,!1),t[o]=Ws(o,!1,!0),n[o]=Ws(o,!0,!0)}),[e,r,t,n]}const[Kv,qv,Hv,Vv]=zv();function gh(e,t){const r=t?e?Vv:Hv:e?qv:Kv;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ve(r,i)&&i in n?r:n,i,o)}const Uv={get:gh(!1,!1)},Wv={get:gh(!1,!0)},jv={get:gh(!0,!1)};const my=new WeakMap,fy=new WeakMap,gy=new WeakMap,Gv=new WeakMap;function Xv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jv(e){return e.__v_skip||!Object.isExtensible(e)?0:Xv(vv(e))}function ca(e){return oo(e)?e:bh(e,!1,Nv,Uv,my)}function Yv(e){return bh(e,!1,Rv,Wv,fy)}function by(e){return bh(e,!0,$v,jv,gy)}function bh(e,t,r,n,i){if(!ft(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const a=Jv(e);if(a===0)return e;const s=new Proxy(e,a===2?n:r);return i.set(e,s),s}function Qi(e){return oo(e)?Qi(e.__v_raw):!!(e&&e.__v_isReactive)}function oo(e){return!!(e&&e.__v_isReadonly)}function Qo(e){return!!(e&&e.__v_isShallow)}function yy(e){return e?!!e.__v_raw:!1}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function yh(e){return Object.isExtensible(e)&&Qb(e,"__v_skip",!0),e}const cs=e=>ft(e)?ca(e):e,vh=e=>ft(e)?by(e):e;class vy{constructor(t,r,n,i){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hh(()=>t(this._value),()=>Ql(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=We(this);return(!t._cacheable||t.effect.dirty)&&si(t._value,t._value=t.effect.run())&&Ql(t,4),_y(t),t.effect._dirtyLevel>=2&&Ql(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Zv(e,t,r=!1){let n,i;const o=Te(e);return o?(n=e,i=wr):(n=e.get,i=e.set),new vy(n,i,o||!i,r)}function _y(e){var t;ri&&Yi&&(e=We(e),ly(Yi,(t=e.dep)!=null?t:e.dep=cy(()=>e.dep=void 0,e instanceof vy?e:void 0)))}function Ql(e,t=4,r,n){e=We(e);const i=e.dep;i&&uy(i,t)}function Mt(e){return!!(e&&e.__v_isRef===!0)}function vn(e){return xy(e,!1)}function _h(e){return xy(e,!0)}function xy(e,t){return Mt(e)?e:new Qv(e,t)}class Qv{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:We(t),this._value=r?t:cs(t)}get value(){return _y(this),this._value}set value(t){const r=this.__v_isShallow||Qo(t)||oo(t);t=r?t:We(t),si(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=r?t:cs(t),Ql(this,4))}}function Vo(e){return Mt(e)?e.value:e}const e6={get:(e,t,r)=>Vo(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Mt(i)&&!Mt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function wy(e){return Qi(e)?e:new Proxy(e,e6)}function t6(e){const t=ke(e)?new Array(e.length):{};for(const r in e)t[r]=n6(e,r);return t}class r6{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Tv(We(this._object),this._key)}}function n6(e,t,r){const n=e[t];return Mt(n)?n:new r6(e,t,r)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(e,t,r,n){try{return n?e(...n):e()}catch(i){Yu(i,t,r)}}function Pr(e,t,r,n){if(Te(e)){const i=ni(e,t,r,n);return i&&Jb(i)&&i.catch(o=>{Yu(o,t,r)}),i}if(ke(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Pr(e[o],t,r,n));return i}}function Yu(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,a,s)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){pi(),ni(l,null,10,[e,a,s]),mi();return}}i6(e,r,i,n)}function i6(e,t,r,n=!0){console.error(e)}let ds=!1,e0=!1;const Vt=[];let Jr=0;const Uo=[];let jn=null,Vi=0;const ky=Promise.resolve();let xh=null;function wh(e){const t=xh||ky;return e?t.then(this?e.bind(this):e):t}function o6(e){let t=Jr+1,r=Vt.length;for(;t<r;){const n=t+r>>>1,i=Vt[n],o=hs(i);o<e||o===e&&i.pre?t=n+1:r=n}return t}function kh(e){(!Vt.length||!Vt.includes(e,ds&&e.allowRecurse?Jr+1:Jr))&&(e.id==null?Vt.push(e):Vt.splice(o6(e.id),0,e),My())}function My(){!ds&&!e0&&(e0=!0,xh=ky.then(Cy))}function a6(e){const t=Vt.indexOf(e);t>Jr&&Vt.splice(t,1)}function s6(e){ke(e)?Uo.push(...e):(!jn||!jn.includes(e,e.allowRecurse?Vi+1:Vi))&&Uo.push(e),My()}function Vp(e,t,r=ds?Jr+1:0){for(;r<Vt.length;r++){const n=Vt[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Vt.splice(r,1),r--,n()}}}function Sy(e){if(Uo.length){const t=[...new Set(Uo)].sort((r,n)=>hs(r)-hs(n));if(Uo.length=0,jn){jn.push(...t);return}for(jn=t,Vi=0;Vi<jn.length;Vi++){const r=jn[Vi];r.active!==!1&&r()}jn=null,Vi=0}}const hs=e=>e.id==null?1/0:e.id,l6=(e,t)=>{const r=hs(e)-hs(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Cy(e){e0=!1,ds=!0,Vt.sort(l6);try{for(Jr=0;Jr<Vt.length;Jr++){const t=Vt[Jr];t&&t.active!==!1&&ni(t,t.i,t.i?15:14)}}finally{Jr=0,Vt.length=0,Sy(),ds=!1,xh=null,(Vt.length||Uo.length)&&Cy()}}let pr=null,Zu=null;function bu(e){const t=pr;return pr=e,Zu=e&&e.type.__scopeId||null,t}function Ey(e){Zu=e}function Ly(){Zu=null}function t0(e,t=pr,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Qp(-1);const o=bu(t);let a;try{a=e(...i)}finally{bu(o),n._d&&Qp(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function ki(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[n];l&&(pi(),Pr(l,r,8,[e.el,s,e,t]),mi())}}function Ay(e,t){e.shapeFlag&6&&e.component?Ay(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ms(e,t){return Te(e)?Wt({name:e.name},t,{setup:e}):e}const eu=e=>!!e.type.__asyncLoader,Dy=e=>e.type.__isKeepAlive;function u6(e,t){By(e,"a",t)}function c6(e,t){By(e,"da",t)}function By(e,t,r=Tt){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Qu(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Dy(i.parent.vnode)&&d6(n,t,r,i),i=i.parent}}function d6(e,t,r,n){const i=Qu(t,e,n,!0);Mh(()=>{lh(n[t],i)},r)}function Qu(e,t,r=Tt,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...a)=>{pi();const s=Cs(r),l=Pr(t,r,e,a);return s(),mi(),l});return n?i.unshift(o):i.push(o),o}}const kn=e=>(t,r=Tt)=>{(!tc||e==="sp")&&Qu(e,(...n)=>t(...n),r)},Ty=kn("bm"),Fy=kn("m"),h6=kn("bu"),p6=kn("u"),m6=kn("bum"),Mh=kn("um"),f6=kn("sp"),g6=kn("rtg"),b6=kn("rtc");function y6(e,t=Tt){Qu("ec",e,t)}const Oy="components";function rn(e,t){return _6(Oy,e,!0,t)||e}const v6=Symbol.for("v-ndc");function _6(e,t,r=!0,n=!1){const i=pr||Tt;if(i){const o=i.type;if(e===Oy){const s=p5(o,!1);if(s&&(s===t||s===$r(t)||s===Xu($r(t))))return o}const a=Up(i[e]||o[e],t)||Up(i.appContext[e],t);return!a&&n?o:a}}function Up(e,t){return e&&(e[t]||e[$r(t)]||e[Xu($r(t))])}function x6(e,t,r,n){let i;const o=r;if(ke(e)||Dt(e)){i=new Array(e.length);for(let a=0,s=e.length;a<s;a++)i[a]=t(e[a],a,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o)}else if(ft(e))if(e[Symbol.iterator])i=Array.from(e,(a,s)=>t(a,s,void 0,o));else{const a=Object.keys(e);i=new Array(a.length);for(let s=0,l=a.length;s<l;s++){const u=a[s];i[s]=t(e[u],u,s,o)}}else i=[];return i}const r0=e=>e?Qy(e)?Lh(e):r0(e.parent):null,Ya=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>r0(e.parent),$root:e=>r0(e.root),$emit:e=>e.emit,$options:e=>Sh(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,kh(e.update)}),$nextTick:e=>e.n||(e.n=wh.bind(e.proxy)),$watch:e=>U6.bind(e)}),Rc=(e,t)=>e!==gt&&!e.__isScriptSetup&&Ve(e,t),w6={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:o,accessCache:a,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(Rc(n,t))return a[t]=1,n[t];if(i!==gt&&Ve(i,t))return a[t]=2,i[t];if((u=e.propsOptions[0])&&Ve(u,t))return a[t]=3,o[t];if(r!==gt&&Ve(r,t))return a[t]=4,r[t];n0&&(a[t]=0)}}const c=Ya[t];let d,p;if(c)return t==="$attrs"&&or(e.attrs,"get",""),c(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(r!==gt&&Ve(r,t))return a[t]=4,r[t];if(p=l.config.globalProperties,Ve(p,t))return p[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return Rc(i,t)?(i[t]=r,!0):n!==gt&&Ve(n,t)?(n[t]=r,!0):Ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},a){let s;return!!r[a]||e!==gt&&Ve(e,a)||Rc(t,a)||(s=o[0])&&Ve(s,a)||Ve(n,a)||Ve(Ya,a)||Ve(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ve(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Wp(e){return ke(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let n0=!0;function k6(e){const t=Sh(e),r=e.proxy,n=e.ctx;n0=!1,t.beforeCreate&&jp(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:m,updated:g,activated:y,deactivated:L,beforeDestroy:E,beforeUnmount:C,destroyed:v,unmounted:k,render:I,renderTracked:T,renderTriggered:R,errorCaptured:N,serverPrefetch:z,expose:$,inheritAttrs:be,components:ue,directives:me,filters:Me}=t;if(u&&M6(u,n,null),a)for(const re in a){const he=a[re];Te(he)&&(n[re]=he.bind(r))}if(i){const re=i.call(r,r);ft(re)&&(e.data=ca(re))}if(n0=!0,o)for(const re in o){const he=o[re],Fe=Te(he)?he.bind(r,r):Te(he.get)?he.get.bind(r,r):wr,st=!Te(he)&&Te(he.set)?he.set.bind(r):wr,De=bt({get:Fe,set:st});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>De.value,set:Pe=>De.value=Pe})}if(s)for(const re in s)Py(s[re],n,r,re);if(l){const re=Te(l)?l.call(r):l;Reflect.ownKeys(re).forEach(he=>{tu(he,re[he])})}c&&jp(c,e,"c");function fe(re,he){ke(he)?he.forEach(Fe=>re(Fe.bind(r))):he&&re(he.bind(r))}if(fe(Ty,d),fe(Fy,p),fe(h6,m),fe(p6,g),fe(u6,y),fe(c6,L),fe(y6,N),fe(b6,T),fe(g6,R),fe(m6,C),fe(Mh,k),fe(f6,z),ke($))if($.length){const re=e.exposed||(e.exposed={});$.forEach(he=>{Object.defineProperty(re,he,{get:()=>r[he],set:Fe=>r[he]=Fe})})}else e.exposed||(e.exposed={});I&&e.render===wr&&(e.render=I),be!=null&&(e.inheritAttrs=be),ue&&(e.components=ue),me&&(e.directives=me)}function M6(e,t,r=wr){ke(e)&&(e=i0(e));for(const n in e){const i=e[n];let o;ft(i)?"default"in i?o=Ir(i.from||n,i.default,!0):o=Ir(i.from||n):o=Ir(i),Mt(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[n]=o}}function jp(e,t,r){Pr(ke(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Py(e,t,r,n){const i=n.includes(".")?Xy(r,n):()=>r[n];if(Dt(e)){const o=t[e];Te(o)&&ii(i,o)}else if(Te(e))ii(i,e.bind(r));else if(ft(e))if(ke(e))e.forEach(o=>Py(o,t,r,n));else{const o=Te(e.handler)?e.handler.bind(r):t[e.handler];Te(o)&&ii(i,o,e)}}function Sh(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>yu(l,u,a,!0)),yu(l,t,a)),ft(t)&&o.set(t,l),l}function yu(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&yu(e,o,r,!0),i&&i.forEach(a=>yu(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const s=S6[a]||r&&r[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const S6={data:Gp,props:Xp,emits:Xp,methods:ja,computed:ja,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:ja,directives:ja,watch:E6,provide:Gp,inject:C6};function Gp(e,t){return t?e?function(){return Wt(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function C6(e,t){return ja(i0(e),i0(t))}function i0(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Xt(e,t){return e?[...new Set([].concat(e,t))]:t}function ja(e,t){return e?Wt(Object.create(null),e,t):t}function Xp(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Wt(Object.create(null),Wp(e),Wp(t??{})):t}function E6(e,t){if(!e)return t;if(!t)return e;const r=Wt(Object.create(null),e);for(const n in t)r[n]=Xt(e[n],t[n]);return r}function Iy(){return{app:null,config:{isNativeTag:bv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L6=0;function A6(e,t){return function(n,i=null){Te(n)||(n=Wt({},n)),i!=null&&!ft(i)&&(i=null);const o=Iy(),a=new WeakSet;let s=!1;const l=o.app={_uid:L6++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:f5,get config(){return o.config},set config(u){},use(u,...c){return a.has(u)||(u&&Te(u.install)?(a.add(u),u.install(l,...c)):Te(u)&&(a.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!s){const p=ut(n,i);return p.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),c&&t?t(p,u):e(p,u,d),s=!0,l._container=u,u.__vue_app__=l,Lh(p.component)}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){const c=eo;eo=l;try{return u()}finally{eo=c}}};return l}}let eo=null;function tu(e,t){if(Tt){let r=Tt.provides;const n=Tt.parent&&Tt.parent.provides;n===r&&(r=Tt.provides=Object.create(n)),r[e]=t}}function Ir(e,t,r=!1){const n=Tt||pr;if(n||eo){const i=eo?eo._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Te(t)?t.call(n&&n.proxy):t}}function D6(){return!!(Tt||pr||eo)}const Ny={},$y=()=>Object.create(Ny),Ry=e=>Object.getPrototypeOf(e)===Ny;function B6(e,t,r,n=!1){const i={},o=$y();e.propsDefaults=Object.create(null),zy(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:Yv(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function T6(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=We(i),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(ec(e.emitsOptions,p))continue;const m=t[p];if(l)if(Ve(o,p))m!==o[p]&&(o[p]=m,u=!0);else{const g=$r(p);i[g]=o0(l,s,g,m,e,!1)}else m!==o[p]&&(o[p]=m,u=!0)}}}else{zy(e,t,i,o)&&(u=!0);let c;for(const d in s)(!t||!Ve(t,d)&&((c=uo(d))===d||!Ve(t,c)))&&(l?r&&(r[d]!==void 0||r[c]!==void 0)&&(i[d]=o0(l,s,d,void 0,e,!0)):delete i[d]);if(o!==s)for(const d in o)(!t||!Ve(t,d))&&(delete o[d],u=!0)}u&&wn(e.attrs,"set","")}function zy(e,t,r,n){const[i,o]=e.propsOptions;let a=!1,s;if(t)for(let l in t){if(Ja(l))continue;const u=t[l];let c;i&&Ve(i,c=$r(l))?!o||!o.includes(c)?r[c]=u:(s||(s={}))[c]=u:ec(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(o){const l=We(r),u=s||gt;for(let c=0;c<o.length;c++){const d=o[c];r[d]=o0(i,l,d,u[d],e,!Ve(u,d))}}return a}function o0(e,t,r,n,i,o){const a=e[r];if(a!=null){const s=Ve(a,"default");if(s&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Te(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Cs(i);n=u[r]=l.call(null,t),c()}}else n=l}a[0]&&(o&&!s?n=!1:a[1]&&(n===""||n===uo(r))&&(n=!0))}return n}const F6=new WeakMap;function Ky(e,t,r=!1){const n=r?F6:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,a={},s=[];let l=!1;if(!Te(e)){const c=d=>{l=!0;const[p,m]=Ky(d,t,!0);Wt(a,p),m&&s.push(...m)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return ft(e)&&n.set(e,qo),qo;if(ke(o))for(let c=0;c<o.length;c++){const d=$r(o[c]);Jp(d)&&(a[d]=gt)}else if(o)for(const c in o){const d=$r(c);if(Jp(d)){const p=o[c],m=a[d]=ke(p)||Te(p)?{type:p}:Wt({},p),g=m.type;let y=!1,L=!0;if(ke(g))for(let E=0;E<g.length;++E){const C=g[E],v=Te(C)&&C.name;if(v==="Boolean"){y=!0;break}else v==="String"&&(L=!1)}else y=Te(g)&&g.name==="Boolean";m[0]=y,m[1]=L,(y||Ve(m,"default"))&&s.push(d)}}const u=[a,s];return ft(e)&&n.set(e,u),u}function Jp(e){return e[0]!=="$"&&!Ja(e)}const qy=e=>e[0]==="_"||e==="$stable",Ch=e=>ke(e)?e.map(Xr):[Xr(e)],O6=(e,t,r)=>{if(t._n)return t;const n=t0((...i)=>Ch(t(...i)),r);return n._c=!1,n},Hy=(e,t,r)=>{const n=e._ctx;for(const i in e){if(qy(i))continue;const o=e[i];if(Te(o))t[i]=O6(i,o,n);else if(o!=null){const a=Ch(o);t[i]=()=>a}}},Vy=(e,t)=>{const r=Ch(t);e.slots.default=()=>r},Uy=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},P6=(e,t,r)=>{const n=e.slots=$y();if(e.vnode.shapeFlag&32){const i=t._;i?(Uy(n,t,r),r&&Qb(n,"_",i,!0)):Hy(t,n)}else t&&Vy(e,t)},I6=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,a=gt;if(n.shapeFlag&32){const s=t._;s?r&&s===1?o=!1:Uy(i,t,r):(o=!t.$stable,Hy(t,i)),a=t}else t&&(Vy(e,t),a={default:1});if(o)for(const s in i)!qy(s)&&a[s]==null&&delete i[s]};function a0(e,t,r,n,i=!1){if(ke(e)){e.forEach((p,m)=>a0(p,t&&(ke(t)?t[m]:t),r,n,i));return}if(eu(n)&&!i)return;const o=n.shapeFlag&4?Lh(n.component):n.el,a=i?null:o,{i:s,r:l}=e,u=t&&t.r,c=s.refs===gt?s.refs={}:s.refs,d=s.setupState;if(u!=null&&u!==l&&(Dt(u)?(c[u]=null,Ve(d,u)&&(d[u]=null)):Mt(u)&&(u.value=null)),Te(l))ni(l,s,12,[a,c]);else{const p=Dt(l),m=Mt(l);if(p||m){const g=()=>{if(e.f){const y=p?Ve(d,l)?d[l]:c[l]:l.value;i?ke(y)&&lh(y,o):ke(y)?y.includes(o)||y.push(o):p?(c[l]=[o],Ve(d,l)&&(d[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else p?(c[l]=a,Ve(d,l)&&(d[l]=a)):m&&(l.value=a,e.k&&(c[e.k]=a))};a?(g.id=-1,ir(g,r)):g()}}}const N6=Symbol("_vte"),$6=e=>e.__isTeleport,ir=Q6;function R6(e){return z6(e)}function z6(e,t){const r=ey();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:m=wr,insertStaticContent:g}=e,y=(S,x,F,Y=null,X=null,Q=null,ie=void 0,_=null,w=!!x.dynamicChildren)=>{if(S===x)return;S&&!wa(S,x)&&(Y=ne(S),Pe(S,X,Q,!0),S=null),x.patchFlag===-2&&(w=!1,x.dynamicChildren=null);const{type:D,ref:U,shapeFlag:ee}=x;switch(D){case Ss:L(S,x,F,Y);break;case ao:E(S,x,F,Y);break;case qc:S==null&&C(x,F,Y,ie);break;case Yt:ue(S,x,F,Y,X,Q,ie,_,w);break;default:ee&1?I(S,x,F,Y,X,Q,ie,_,w):ee&6?me(S,x,F,Y,X,Q,ie,_,w):(ee&64||ee&128)&&D.process(S,x,F,Y,X,Q,ie,_,w,Re)}U!=null&&X&&a0(U,S&&S.ref,Q,x||S,!x)},L=(S,x,F,Y)=>{if(S==null)n(x.el=s(x.children),F,Y);else{const X=x.el=S.el;x.children!==S.children&&u(X,x.children)}},E=(S,x,F,Y)=>{S==null?n(x.el=l(x.children||""),F,Y):x.el=S.el},C=(S,x,F,Y)=>{[S.el,S.anchor]=g(S.children,x,F,Y,S.el,S.anchor)},v=({el:S,anchor:x},F,Y)=>{let X;for(;S&&S!==x;)X=p(S),n(S,F,Y),S=X;n(x,F,Y)},k=({el:S,anchor:x})=>{let F;for(;S&&S!==x;)F=p(S),i(S),S=F;i(x)},I=(S,x,F,Y,X,Q,ie,_,w)=>{x.type==="svg"?ie="svg":x.type==="math"&&(ie="mathml"),S==null?T(x,F,Y,X,Q,ie,_,w):z(S,x,X,Q,ie,_,w)},T=(S,x,F,Y,X,Q,ie,_)=>{let w,D;const{props:U,shapeFlag:ee,transition:J,dirs:O}=S;if(w=S.el=a(S.type,Q,U&&U.is,U),ee&8?c(w,S.children):ee&16&&N(S.children,w,null,Y,X,zc(S,Q),ie,_),O&&ki(S,null,Y,"created"),R(w,S,S.scopeId,ie,Y),U){for(const pe in U)pe!=="value"&&!Ja(pe)&&o(w,pe,null,U[pe],Q,Y);"value"in U&&o(w,"value",null,U.value,Q),(D=U.onVnodeBeforeMount)&&Kr(D,Y,S)}O&&ki(S,null,Y,"beforeMount");const K=K6(X,J);K&&J.beforeEnter(w),n(w,x,F),((D=U&&U.onVnodeMounted)||K||O)&&ir(()=>{D&&Kr(D,Y,S),K&&J.enter(w),O&&ki(S,null,Y,"mounted")},X)},R=(S,x,F,Y,X)=>{if(F&&m(S,F),Y)for(let Q=0;Q<Y.length;Q++)m(S,Y[Q]);if(X){let Q=X.subTree;if(x===Q){const ie=X.vnode;R(S,ie,ie.scopeId,ie.slotScopeIds,X.parent)}}},N=(S,x,F,Y,X,Q,ie,_,w=0)=>{for(let D=w;D<S.length;D++){const U=S[D]=_?Gn(S[D]):Xr(S[D]);y(null,U,x,F,Y,X,Q,ie,_)}},z=(S,x,F,Y,X,Q,ie)=>{const _=x.el=S.el;let{patchFlag:w,dynamicChildren:D,dirs:U}=x;w|=S.patchFlag&16;const ee=S.props||gt,J=x.props||gt;let O;if(F&&Mi(F,!1),(O=J.onVnodeBeforeUpdate)&&Kr(O,F,x,S),U&&ki(x,S,F,"beforeUpdate"),F&&Mi(F,!0),(ee.innerHTML&&J.innerHTML==null||ee.textContent&&J.textContent==null)&&c(_,""),D?$(S.dynamicChildren,D,_,F,Y,zc(x,X),Q):ie||he(S,x,_,null,F,Y,zc(x,X),Q,!1),w>0){if(w&16)be(_,ee,J,F,X);else if(w&2&&ee.class!==J.class&&o(_,"class",null,J.class,X),w&4&&o(_,"style",ee.style,J.style,X),w&8){const K=x.dynamicProps;for(let pe=0;pe<K.length;pe++){const ge=K[pe],je=ee[ge],St=J[ge];(St!==je||ge==="value")&&o(_,ge,je,St,X,F)}}w&1&&S.children!==x.children&&c(_,x.children)}else!ie&&D==null&&be(_,ee,J,F,X);((O=J.onVnodeUpdated)||U)&&ir(()=>{O&&Kr(O,F,x,S),U&&ki(x,S,F,"updated")},Y)},$=(S,x,F,Y,X,Q,ie)=>{for(let _=0;_<x.length;_++){const w=S[_],D=x[_],U=w.el&&(w.type===Yt||!wa(w,D)||w.shapeFlag&70)?d(w.el):F;y(w,D,U,null,Y,X,Q,ie,!0)}},be=(S,x,F,Y,X)=>{if(x!==F){if(x!==gt)for(const Q in x)!Ja(Q)&&!(Q in F)&&o(S,Q,x[Q],null,X,Y);for(const Q in F){if(Ja(Q))continue;const ie=F[Q],_=x[Q];ie!==_&&Q!=="value"&&o(S,Q,_,ie,X,Y)}"value"in F&&o(S,"value",x.value,F.value,X)}},ue=(S,x,F,Y,X,Q,ie,_,w)=>{const D=x.el=S?S.el:s(""),U=x.anchor=S?S.anchor:s("");let{patchFlag:ee,dynamicChildren:J,slotScopeIds:O}=x;O&&(_=_?_.concat(O):O),S==null?(n(D,F,Y),n(U,F,Y),N(x.children||[],F,U,X,Q,ie,_,w)):ee>0&&ee&64&&J&&S.dynamicChildren?($(S.dynamicChildren,J,F,X,Q,ie,_),(x.key!=null||X&&x===X.subTree)&&Wy(S,x,!0)):he(S,x,F,U,X,Q,ie,_,w)},me=(S,x,F,Y,X,Q,ie,_,w)=>{x.slotScopeIds=_,S==null?x.shapeFlag&512?X.ctx.activate(x,F,Y,ie,w):Me(x,F,Y,X,Q,ie,w):Ae(S,x,w)},Me=(S,x,F,Y,X,Q,ie)=>{const _=S.component=l5(S,Y,X);if(Dy(S)&&(_.ctx.renderer=Re),u5(_,!1,ie),_.asyncDep){if(X&&X.registerDep(_,fe,ie),!S.el){const w=_.subTree=ut(ao);E(null,w,x,F)}}else fe(_,S,x,F,X,Q,ie)},Ae=(S,x,F)=>{const Y=x.component=S.component;if(J6(S,x,F))if(Y.asyncDep&&!Y.asyncResolved){re(Y,x,F);return}else Y.next=x,a6(Y.update),Y.effect.dirty=!0,Y.update();else x.el=S.el,Y.vnode=x},fe=(S,x,F,Y,X,Q,ie)=>{const _=()=>{if(S.isMounted){let{next:U,bu:ee,u:J,parent:O,vnode:K}=S;{const zt=jy(S);if(zt){U&&(U.el=K.el,re(S,U,ie)),zt.asyncDep.then(()=>{S.isUnmounted||_()});return}}let pe=U,ge;Mi(S,!1),U?(U.el=K.el,re(S,U,ie)):U=K,ee&&Nc(ee),(ge=U.props&&U.props.onVnodeBeforeUpdate)&&Kr(ge,O,U,K),Mi(S,!0);const je=Kc(S),St=S.subTree;S.subTree=je,y(St,je,d(St.el),ne(St),S,X,Q),U.el=je.el,pe===null&&Y6(S,je.el),J&&ir(J,X),(ge=U.props&&U.props.onVnodeUpdated)&&ir(()=>Kr(ge,O,U,K),X)}else{let U;const{el:ee,props:J}=x,{bm:O,m:K,parent:pe}=S,ge=eu(x);if(Mi(S,!1),O&&Nc(O),!ge&&(U=J&&J.onVnodeBeforeMount)&&Kr(U,pe,x),Mi(S,!0),ee&&ye){const je=()=>{S.subTree=Kc(S),ye(ee,S.subTree,S,X,null)};ge?x.type.__asyncLoader().then(()=>!S.isUnmounted&&je()):je()}else{const je=S.subTree=Kc(S);y(null,je,F,Y,S,X,Q),x.el=je.el}if(K&&ir(K,X),!ge&&(U=J&&J.onVnodeMounted)){const je=x;ir(()=>Kr(U,pe,je),X)}(x.shapeFlag&256||pe&&eu(pe.vnode)&&pe.vnode.shapeFlag&256)&&S.a&&ir(S.a,X),S.isMounted=!0,x=F=Y=null}},w=S.effect=new hh(_,wr,()=>kh(D),S.scope),D=S.update=()=>{w.dirty&&w.run()};D.i=S,D.id=S.uid,Mi(S,!0),D()},re=(S,x,F)=>{x.component=S;const Y=S.vnode.props;S.vnode=x,S.next=null,T6(S,x.props,Y,F),I6(S,x.children,F),pi(),Vp(S),mi()},he=(S,x,F,Y,X,Q,ie,_,w=!1)=>{const D=S&&S.children,U=S?S.shapeFlag:0,ee=x.children,{patchFlag:J,shapeFlag:O}=x;if(J>0){if(J&128){st(D,ee,F,Y,X,Q,ie,_,w);return}else if(J&256){Fe(D,ee,F,Y,X,Q,ie,_,w);return}}O&8?(U&16&&oe(D,X,Q),ee!==D&&c(F,ee)):U&16?O&16?st(D,ee,F,Y,X,Q,ie,_,w):oe(D,X,Q,!0):(U&8&&c(F,""),O&16&&N(ee,F,Y,X,Q,ie,_,w))},Fe=(S,x,F,Y,X,Q,ie,_,w)=>{S=S||qo,x=x||qo;const D=S.length,U=x.length,ee=Math.min(D,U);let J;for(J=0;J<ee;J++){const O=x[J]=w?Gn(x[J]):Xr(x[J]);y(S[J],O,F,null,X,Q,ie,_,w)}D>U?oe(S,X,Q,!0,!1,ee):N(x,F,Y,X,Q,ie,_,w,ee)},st=(S,x,F,Y,X,Q,ie,_,w)=>{let D=0;const U=x.length;let ee=S.length-1,J=U-1;for(;D<=ee&&D<=J;){const O=S[D],K=x[D]=w?Gn(x[D]):Xr(x[D]);if(wa(O,K))y(O,K,F,null,X,Q,ie,_,w);else break;D++}for(;D<=ee&&D<=J;){const O=S[ee],K=x[J]=w?Gn(x[J]):Xr(x[J]);if(wa(O,K))y(O,K,F,null,X,Q,ie,_,w);else break;ee--,J--}if(D>ee){if(D<=J){const O=J+1,K=O<U?x[O].el:Y;for(;D<=J;)y(null,x[D]=w?Gn(x[D]):Xr(x[D]),F,K,X,Q,ie,_,w),D++}}else if(D>J)for(;D<=ee;)Pe(S[D],X,Q,!0),D++;else{const O=D,K=D,pe=new Map;for(D=K;D<=J;D++){const jt=x[D]=w?Gn(x[D]):Xr(x[D]);jt.key!=null&&pe.set(jt.key,D)}let ge,je=0;const St=J-K+1;let zt=!1,vi=0;const Cn=new Array(St);for(D=0;D<St;D++)Cn[D]=0;for(D=O;D<=ee;D++){const jt=S[D];if(je>=St){Pe(jt,X,Q,!0);continue}let ar;if(jt.key!=null)ar=pe.get(jt.key);else for(ge=K;ge<=J;ge++)if(Cn[ge-K]===0&&wa(jt,x[ge])){ar=ge;break}ar===void 0?Pe(jt,X,Q,!0):(Cn[ar-K]=D+1,ar>=vi?vi=ar:zt=!0,y(jt,x[ar],F,null,X,Q,ie,_,w),je++)}const Os=zt?q6(Cn):qo;for(ge=Os.length-1,D=St-1;D>=0;D--){const jt=K+D,ar=x[jt],Oe=jt+1<U?x[jt+1].el:Y;Cn[D]===0?y(null,ar,F,Oe,X,Q,ie,_,w):zt&&(ge<0||D!==Os[ge]?De(ar,F,Oe,2):ge--)}}},De=(S,x,F,Y,X=null)=>{const{el:Q,type:ie,transition:_,children:w,shapeFlag:D}=S;if(D&6){De(S.component.subTree,x,F,Y);return}if(D&128){S.suspense.move(x,F,Y);return}if(D&64){ie.move(S,x,F,Re);return}if(ie===Yt){n(Q,x,F);for(let ee=0;ee<w.length;ee++)De(w[ee],x,F,Y);n(S.anchor,x,F);return}if(ie===qc){v(S,x,F);return}if(Y!==2&&D&1&&_)if(Y===0)_.beforeEnter(Q),n(Q,x,F),ir(()=>_.enter(Q),X);else{const{leave:ee,delayLeave:J,afterLeave:O}=_,K=()=>n(Q,x,F),pe=()=>{ee(Q,()=>{K(),O&&O()})};J?J(Q,K,pe):pe()}else n(Q,x,F)},Pe=(S,x,F,Y=!1,X=!1)=>{const{type:Q,props:ie,ref:_,children:w,dynamicChildren:D,shapeFlag:U,patchFlag:ee,dirs:J,cacheIndex:O}=S;if(ee===-2&&(X=!1),_!=null&&a0(_,null,F,S,!0),O!=null&&(x.renderCache[O]=void 0),U&256){x.ctx.deactivate(S);return}const K=U&1&&J,pe=!eu(S);let ge;if(pe&&(ge=ie&&ie.onVnodeBeforeUnmount)&&Kr(ge,x,S),U&6)W(S.component,F,Y);else{if(U&128){S.suspense.unmount(F,Y);return}K&&ki(S,null,x,"beforeUnmount"),U&64?S.type.remove(S,x,F,Re,Y):D&&!D.hasOnce&&(Q!==Yt||ee>0&&ee&64)?oe(D,x,F,!1,!0):(Q===Yt&&ee&384||!X&&U&16)&&oe(w,x,F),Y&&tt(S)}(pe&&(ge=ie&&ie.onVnodeUnmounted)||K)&&ir(()=>{ge&&Kr(ge,x,S),K&&ki(S,null,x,"unmounted")},F)},tt=S=>{const{type:x,el:F,anchor:Y,transition:X}=S;if(x===Yt){pt(F,Y);return}if(x===qc){k(S);return}const Q=()=>{i(F),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(S.shapeFlag&1&&X&&!X.persisted){const{leave:ie,delayLeave:_}=X,w=()=>ie(F,Q);_?_(S.el,Q,w):w()}else Q()},pt=(S,x)=>{let F;for(;S!==x;)F=p(S),i(S),S=F;i(x)},W=(S,x,F)=>{const{bum:Y,scope:X,update:Q,subTree:ie,um:_,m:w,a:D}=S;Yp(w),Yp(D),Y&&Nc(Y),X.stop(),Q&&(Q.active=!1,Pe(ie,S,x,F)),_&&ir(_,x),ir(()=>{S.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},oe=(S,x,F,Y=!1,X=!1,Q=0)=>{for(let ie=Q;ie<S.length;ie++)Pe(S[ie],x,F,Y,X)},ne=S=>{if(S.shapeFlag&6)return ne(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const x=p(S.anchor||S.el),F=x&&x[N6];return F?p(F):x};let ce=!1;const $e=(S,x,F)=>{S==null?x._vnode&&Pe(x._vnode,null,null,!0):y(x._vnode||null,S,x,null,null,null,F),x._vnode=S,ce||(ce=!0,Vp(),Sy(),ce=!1)},Re={p:y,um:Pe,m:De,r:tt,mt:Me,mc:N,pc:he,pbc:$,n:ne,o:e};let Ee,ye;return{render:$e,hydrate:Ee,createApp:A6($e,Ee)}}function zc({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Mi({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function K6(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Wy(e,t,r=!1){const n=e.children,i=t.children;if(ke(n)&&ke(i))for(let o=0;o<n.length;o++){const a=n[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=Gn(i[o]),s.el=a.el),!r&&s.patchFlag!==-2&&Wy(a,s)),s.type===Ss&&(s.el=a.el)}}function q6(e){const t=e.slice(),r=[0];let n,i,o,a,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(o=0,a=r.length-1;o<a;)s=o+a>>1,e[r[s]]<u?o=s+1:a=s;u<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function jy(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jy(t)}function Yp(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const H6=Symbol.for("v-scx"),V6=()=>Ir(H6),js={};function ii(e,t,r){return Gy(e,t,r)}function Gy(e,t,{immediate:r,deep:n,flush:i,once:o,onTrack:a,onTrigger:s}=gt){if(t&&o){const T=t;t=(...R)=>{T(...R),I()}}const l=Tt,u=T=>n===!0?T:Ui(T,n===!1?1:void 0);let c,d=!1,p=!1;if(Mt(e)?(c=()=>e.value,d=Qo(e)):Qi(e)?(c=()=>u(e),d=!0):ke(e)?(p=!0,d=e.some(T=>Qi(T)||Qo(T)),c=()=>e.map(T=>{if(Mt(T))return T.value;if(Qi(T))return u(T);if(Te(T))return ni(T,l,2)})):Te(e)?t?c=()=>ni(e,l,2):c=()=>(m&&m(),Pr(e,l,3,[g])):c=wr,t&&n){const T=c;c=()=>Ui(T())}let m,g=T=>{m=v.onStop=()=>{ni(T,l,4),m=v.onStop=void 0}},y;if(tc)if(g=wr,t?r&&Pr(t,l,3,[c(),p?[]:void 0,g]):c(),i==="sync"){const T=V6();y=T.__watcherHandles||(T.__watcherHandles=[])}else return wr;let L=p?new Array(e.length).fill(js):js;const E=()=>{if(!(!v.active||!v.dirty))if(t){const T=v.run();(n||d||(p?T.some((R,N)=>si(R,L[N])):si(T,L)))&&(m&&m(),Pr(t,l,3,[T,L===js?void 0:p&&L[0]===js?[]:L,g]),L=T)}else v.run()};E.allowRecurse=!!t;let C;i==="sync"?C=E:i==="post"?C=()=>ir(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),C=()=>kh(E));const v=new hh(c,wr,C),k=oy(),I=()=>{v.stop(),k&&lh(k.effects,v)};return t?r?E():L=v.run():i==="post"?ir(v.run.bind(v),l&&l.suspense):v.run(),y&&y.push(I),I}function U6(e,t,r){const n=this.proxy,i=Dt(e)?e.includes(".")?Xy(n,e):()=>n[e]:e.bind(n,n);let o;Te(t)?o=t:(o=t.handler,r=t);const a=Cs(this),s=Gy(i,o.bind(n),r);return a(),s}function Xy(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Ui(e,t=1/0,r){if(t<=0||!ft(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Mt(e))Ui(e.value,t,r);else if(ke(e))for(let n=0;n<e.length;n++)Ui(e[n],t,r);else if(Xb(e)||Ho(e))e.forEach(n=>{Ui(n,t,r)});else if(Zb(e)){for(const n in e)Ui(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ui(e[n],t,r)}return e}const W6=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$r(t)}Modifiers`]||e[`${uo(t)}Modifiers`];function j6(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||gt;let i=r;const o=t.startsWith("update:"),a=o&&W6(n,t.slice(7));a&&(a.trim&&(i=r.map(c=>Dt(c)?c.trim():c)),a.number&&(i=r.map(wv)));let s,l=n[s=Ic(t)]||n[s=Ic($r(t))];!l&&o&&(l=n[s=Ic(uo(t))]),l&&Pr(l,e,6,i);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Pr(u,e,6,i)}}function Jy(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let a={},s=!1;if(!Te(e)){const l=u=>{const c=Jy(u,t,!0);c&&(s=!0,Wt(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!s?(ft(e)&&n.set(e,null),null):(ke(o)?o.forEach(l=>a[l]=null):Wt(a,o),ft(e)&&n.set(e,a),a)}function ec(e,t){return!e||!Wu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ve(e,t[0].toLowerCase()+t.slice(1))||Ve(e,uo(t))||Ve(e,t))}function Kc(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:d,data:p,setupState:m,ctx:g,inheritAttrs:y}=e,L=bu(e);let E,C;try{if(r.shapeFlag&4){const k=i||n,I=k;E=Xr(u.call(I,k,c,d,m,p,g)),C=s}else{const k=t;E=Xr(k.length>1?k(d,{attrs:s,slots:a,emit:l}):k(d,null)),C=t.props?s:G6(s)}}catch(k){Za.length=0,Yu(k,e,1),E=ut(ao)}let v=E;if(C&&y!==!1){const k=Object.keys(C),{shapeFlag:I}=v;k.length&&I&7&&(o&&k.some(sh)&&(C=X6(C,o)),v=ea(v,C,!1,!0))}return r.dirs&&(v=ea(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(r.dirs):r.dirs),r.transition&&(v.transition=r.transition),E=v,bu(L),E}const G6=e=>{let t;for(const r in e)(r==="class"||r==="style"||Wu(r))&&((t||(t={}))[r]=e[r]);return t},X6=(e,t)=>{const r={};for(const n in e)(!sh(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function J6(e,t,r){const{props:n,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Zp(n,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(a[p]!==n[p]&&!ec(u,p))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?Zp(n,a,u):!0:!!a;return!1}function Zp(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!ec(r,o))return!0}return!1}function Y6({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Z6=e=>e.__isSuspense;function Q6(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):s6(e)}const Yt=Symbol.for("v-fgt"),Ss=Symbol.for("v-txt"),ao=Symbol.for("v-cmt"),qc=Symbol.for("v-stc"),Za=[];let mr=null;function fr(e=!1){Za.push(mr=e?null:[])}function e5(){Za.pop(),mr=Za[Za.length-1]||null}let ps=1;function Qp(e){ps+=e,e<0&&mr&&(mr.hasOnce=!0)}function Yy(e){return e.dynamicChildren=ps>0?mr||qo:null,e5(),ps>0&&mr&&mr.push(e),e}function kr(e,t,r,n,i,o){return Yy(we(e,t,r,n,i,o,!0))}function t5(e,t,r,n,i){return Yy(ut(e,t,r,n,i,!0))}function s0(e){return e?e.__v_isVNode===!0:!1}function wa(e,t){return e.type===t.type&&e.key===t.key}const Zy=({key:e})=>e??null,ru=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Dt(e)||Mt(e)||Te(e)?{i:pr,r:e,k:t,f:!!r}:e:null);function we(e,t=null,r=null,n=0,i=null,o=e===Yt?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zy(t),ref:t&&ru(t),scopeId:Zu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:pr};return s?(Eh(l,r),o&128&&e.normalize(l)):r&&(l.shapeFlag|=Dt(r)?8:16),ps>0&&!a&&mr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&mr.push(l),l}const ut=r5;function r5(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===v6)&&(e=ao),s0(e)){const s=ea(e,t,!0);return r&&Eh(s,r),ps>0&&!o&&mr&&(s.shapeFlag&6?mr[mr.indexOf(e)]=s:mr.push(s)),s.patchFlag=-2,s}if(m5(e)&&(e=e.__vccOpts),t){t=n5(t);let{class:s,style:l}=t;s&&!Dt(s)&&(t.class=us(s)),ft(l)&&(yy(l)&&!ke(l)&&(l=Wt({},l)),t.style=ch(l))}const a=Dt(e)?1:Z6(e)?128:$6(e)?64:ft(e)?4:Te(e)?2:0;return we(e,t,r,n,i,a,o,!0)}function n5(e){return e?yy(e)||Ry(e)?Wt({},e):e:null}function ea(e,t,r=!1,n=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=e,u=t?o5(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Zy(u),ref:t&&t.ref?r&&o?ke(o)?o.concat(ru(t)):[o,ru(t)]:ru(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ea(e.ssContent),ssFallback:e.ssFallback&&ea(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Ay(c,l.clone(c)),c}function l0(e=" ",t=0){return ut(Ss,null,e,t)}function i5(e="",t=!1){return t?(fr(),t5(ao,null,e)):ut(ao,null,e)}function Xr(e){return e==null||typeof e=="boolean"?ut(ao):ke(e)?ut(Yt,null,e.slice()):typeof e=="object"?Gn(e):ut(Ss,null,String(e))}function Gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ea(e)}function Eh(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ke(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Eh(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!Ry(t)?t._ctx=pr:i===3&&pr&&(pr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:pr},r=32):(t=String(t),n&64?(r=16,t=[l0(t)]):r=8);e.children=t,e.shapeFlag|=r}function o5(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=us([t.class,n.class]));else if(i==="style")t.style=ch([t.style,n.style]);else if(Wu(i)){const o=t[i],a=n[i];a&&o!==a&&!(ke(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=n[i])}return t}function Kr(e,t,r,n=null){Pr(e,t,7,[r,n])}const a5=Iy();let s5=0;function l5(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||a5,o={uid:s5++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new iy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ky(n,i),emitsOptions:Jy(n,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:n.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=j6.bind(null,o),e.ce&&e.ce(o),o}let Tt=null;const ms=()=>Tt||pr;let vu,u0;{const e=ey(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};vu=t("__VUE_INSTANCE_SETTERS__",r=>Tt=r),u0=t("__VUE_SSR_SETTERS__",r=>tc=r)}const Cs=e=>{const t=Tt;return vu(e),e.scope.on(),()=>{e.scope.off(),vu(t)}},em=()=>{Tt&&Tt.scope.off(),vu(null)};function Qy(e){return e.vnode.shapeFlag&4}let tc=!1;function u5(e,t=!1,r=!1){t&&u0(t);const{props:n,children:i}=e.vnode,o=Qy(e);B6(e,n,o,t),P6(e,i,r);const a=o?c5(e,t):void 0;return t&&u0(!1),a}function c5(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,w6);const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?h5(e):null,o=Cs(e);pi();const a=ni(n,e,0,[e.props,i]);if(mi(),o(),Jb(a)){if(a.then(em,em),t)return a.then(s=>{tm(e,s,t)}).catch(s=>{Yu(s,e,0)});e.asyncDep=a}else tm(e,a,t)}else e4(e,t)}function tm(e,t,r){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ft(t)&&(e.setupState=wy(t)),e4(e,r)}let rm;function e4(e,t,r){const n=e.type;if(!e.render){if(!t&&rm&&!n.render){const i=n.template||Sh(e).template;if(i){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:l}=n,u=Wt(Wt({isCustomElement:o,delimiters:s},a),l);n.render=rm(i,u)}}e.render=n.render||wr}{const i=Cs(e);pi();try{k6(e)}finally{mi(),i()}}}const d5={get(e,t){return or(e,"get",""),e[t]}};function h5(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,d5),slots:e.slots,emit:e.emit,expose:t}}function Lh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(wy(yh(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Ya)return Ya[r](e)},has(t,r){return r in t||r in Ya}})):e.proxy}function p5(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function m5(e){return Te(e)&&"__vccOpts"in e}const bt=(e,t)=>Zv(e,t,tc);function rc(e,t,r){const n=arguments.length;return n===2?ft(t)&&!ke(t)?s0(t)?ut(e,null,[t]):ut(e,t):ut(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&s0(r)&&(r=[r]),ut(e,t,r))}const f5="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const g5="http://www.w3.org/2000/svg",b5="http://www.w3.org/1998/Math/MathML",fn=typeof document<"u"?document:null,nm=fn&&fn.createElement("template"),y5={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?fn.createElementNS(g5,e):t==="mathml"?fn.createElementNS(b5,e):r?fn.createElement(e,{is:r}):fn.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>fn.createTextNode(e),createComment:e=>fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const a=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{nm.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const s=nm.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},v5=Symbol("_vtc");function _5(e,t,r){const n=e[v5];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const im=Symbol("_vod"),x5=Symbol("_vsh"),w5=Symbol(""),k5=/(^|;)\s*display\s*:/;function M5(e,t,r){const n=e.style,i=Dt(r);let o=!1;if(r&&!i){if(t)if(Dt(t))for(const a of t.split(";")){const s=a.slice(0,a.indexOf(":")).trim();r[s]==null&&nu(n,s,"")}else for(const a in t)r[a]==null&&nu(n,a,"");for(const a in r)a==="display"&&(o=!0),nu(n,a,r[a])}else if(i){if(t!==r){const a=n[w5];a&&(r+=";"+a),n.cssText=r,o=k5.test(r)}}else t&&e.removeAttribute("style");im in e&&(e[im]=o?n.display:"",e[x5]&&(n.display="none"))}const om=/\s*!important$/;function nu(e,t,r){if(ke(r))r.forEach(n=>nu(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=S5(e,t);om.test(r)?e.setProperty(uo(n),r.replace(om,""),"important"):e[n]=r}}const am=["Webkit","Moz","ms"],Hc={};function S5(e,t){const r=Hc[t];if(r)return r;let n=$r(t);if(n!=="filter"&&n in e)return Hc[t]=n;n=Xu(n);for(let i=0;i<am.length;i++){const o=am[i]+n;if(o in e)return Hc[t]=o}return t}const sm="http://www.w3.org/1999/xlink";function lm(e,t,r,n,i,o=Lv(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(sm,t.slice(6,t.length)):e.setAttributeNS(sm,t,r):r==null||o&&!ty(r)?e.removeAttribute(t):e.setAttribute(t,o?"":hi(r)?String(r):r)}function C5(e,t,r,n){if(t==="innerHTML"||t==="textContent"){if(r==null)return;e[t]=r;return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,s=r==null?"":String(r);(a!==s||!("_value"in e))&&(e.value=s),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=ty(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(t)}function E5(e,t,r,n){e.addEventListener(t,r,n)}function L5(e,t,r,n){e.removeEventListener(t,r,n)}const um=Symbol("_vei");function A5(e,t,r,n,i=null){const o=e[um]||(e[um]={}),a=o[t];if(n&&a)a.value=n;else{const[s,l]=D5(t);if(n){const u=o[t]=F5(n,i);E5(e,s,u,l)}else a&&(L5(e,s,a,l),o[t]=void 0)}}const cm=/(?:Once|Passive|Capture)$/;function D5(e){let t;if(cm.test(e)){t={};let n;for(;n=e.match(cm);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):uo(e.slice(2)),t]}let Vc=0;const B5=Promise.resolve(),T5=()=>Vc||(B5.then(()=>Vc=0),Vc=Date.now());function F5(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Pr(O5(n,r.value),t,5,[n])};return r.value=e,r.attached=T5(),r}function O5(e,t){if(ke(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const dm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,P5=(e,t,r,n,i,o)=>{const a=i==="svg";t==="class"?_5(e,n,a):t==="style"?M5(e,r,n):Wu(t)?sh(t)||A5(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):I5(e,t,n,a))?(C5(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lm(e,t,n,a,o,t!=="value")):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),lm(e,t,n,a))};function I5(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&dm(t)&&Te(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return dm(t)&&Dt(r)?!1:t in e}const N5=Wt({patchProp:P5},y5);let hm;function $5(){return hm||(hm=R6(N5))}const R5=(...e)=>{const t=$5().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=K5(n);if(!i)return;const o=t._component;!Te(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,z5(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function z5(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function K5(e){return Dt(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const t4=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",da=e=>t4?Symbol(e):"_vr_"+e,q5=da("rvlm"),pm=da("rvd"),Ah=da("r"),r4=da("rl"),c0=da("rvl"),Do=typeof window<"u";function H5(e){return e.__esModule||t4&&e[Symbol.toStringTag]==="Module"}const at=Object.assign;function Uc(e,t){const r={};for(const n in t){const i=t[n];r[n]=Array.isArray(i)?i.map(e):e(i)}return r}const Qa=()=>{},V5=/\/$/,U5=e=>e.replace(V5,"");function Wc(e,t,r="/"){let n,i={},o="",a="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(n=t.slice(0,s),o=t.slice(s+1,l>-1?l:t.length),i=e(o)),l>-1&&(n=n||t.slice(0,l),a=t.slice(l,t.length)),n=X5(n??t,r),{fullPath:n+(o&&"?")+o+a,path:n,query:i,hash:a}}function W5(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function mm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function j5(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&ta(t.matched[n],r.matched[i])&&n4(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function ta(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function n4(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!G5(e[r],t[r]))return!1;return!0}function G5(e,t){return Array.isArray(e)?fm(e,t):Array.isArray(t)?fm(t,e):e===t}function fm(e,t){return Array.isArray(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function X5(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],!(i===1||a==="."))if(a==="..")i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var fs;(function(e){e.pop="pop",e.push="push"})(fs||(fs={}));var es;(function(e){e.back="back",e.forward="forward",e.unknown=""})(es||(es={}));function J5(e){if(!e)if(Do){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U5(e)}const Y5=/^[^#]+#/;function Z5(e,t){return e.replace(Y5,"#")+t}function Q5(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const nc=()=>({left:window.pageXOffset,top:window.pageYOffset});function e8(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=Q5(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function gm(e,t){return(history.state?history.state.position-t:-1)+e}const d0=new Map;function t8(e,t){d0.set(e,t)}function r8(e){const t=d0.get(e);return d0.delete(e),t}let n8=()=>location.protocol+"//"+location.host;function i4(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let s=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),mm(l,"")}return mm(r,e)+n+i}function i8(e,t,r,n){let i=[],o=[],a=null;const s=({state:p})=>{const m=i4(e,location),g=r.value,y=t.value;let L=0;if(p){if(r.value=m,t.value=p,a&&a===g){a=null;return}L=y?p.position-y.position:0}else n(m);i.forEach(E=>{E(r.value,g,{delta:L,type:fs.pop,direction:L?L>0?es.forward:es.back:es.unknown})})};function l(){a=r.value}function u(p){i.push(p);const m=()=>{const g=i.indexOf(p);g>-1&&i.splice(g,1)};return o.push(m),m}function c(){const{history:p}=window;p.state&&p.replaceState(at({},p.state,{scroll:nc()}),"")}function d(){for(const p of o)p();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function bm(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?nc():null}}function o8(e){const{history:t,location:r}=window,n={value:i4(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=e.indexOf("#"),p=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:n8()+e+l;try{t[c?"replaceState":"pushState"](u,"",p),i.value=u}catch(m){console.error(m),r[c?"replace":"assign"](p)}}function a(l,u){const c=at({},t.state,bm(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),n.value=l}function s(l,u){const c=at({},i.value,t.state,{forward:l,scroll:nc()});o(c.current,c,!0);const d=at({},bm(n.value,l,null),{position:c.position+1},u);o(l,d,!1),n.value=l}return{location:n,state:i,push:s,replace:a}}function a8(e){e=J5(e);const t=o8(e),r=i8(e,t.state,t.location,t.replace);function n(o,a=!0){a||r.pauseListeners(),history.go(o)}const i=at({location:"",base:e,go:n,createHref:Z5.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function s8(e){return typeof e=="string"||e&&typeof e=="object"}function o4(e){return typeof e=="string"||typeof e=="symbol"}const An={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},a4=da("nf");var ym;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ym||(ym={}));function ra(e,t){return at(new Error,{type:e,[a4]:!0},t)}function Dn(e,t){return e instanceof Error&&a4 in e&&(t==null||!!(e.type&t))}const vm="[^/]+?",l8={sensitive:!1,strict:!1,start:!0,end:!0},u8=/[.+*?^${}()[\]/\\]/g;function c8(e,t){const r=at({},l8,t),n=[];let i=r.start?"^":"";const o=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const p=u[d];let m=40+(r.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(u8,"\\$&"),m+=40;else if(p.type===1){const{value:g,repeatable:y,optional:L,regexp:E}=p;o.push({name:g,repeatable:y,optional:L});const C=E||vm;if(C!==vm){m+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+k.message)}}let v=y?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(v=L&&u.length<2?`(?:/${v})`:"/"+v),L&&(v+="?"),i+=v,m+=20,L&&(m+=-8),y&&(m+=-20),C===".*"&&(m+=-50)}c.push(m)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const a=new RegExp(i,r.sensitive?"":"i");function s(u){const c=u.match(a),d={};if(!c)return null;for(let p=1;p<c.length;p++){const m=c[p]||"",g=o[p-1];d[g.name]=m&&g.repeatable?m.split("/"):m}return d}function l(u){let c="",d=!1;for(const p of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const m of p)if(m.type===0)c+=m.value;else if(m.type===1){const{value:g,repeatable:y,optional:L}=m,E=g in u?u[g]:"";if(Array.isArray(E)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=Array.isArray(E)?E.join("/"):E;if(!C)if(L)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=C}}return c}return{re:a,score:n,keys:o,parse:s,stringify:l}}function d8(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function h8(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=d8(n[r],i[r]);if(o)return o;r++}return i.length-n.length}const p8={type:0,value:""},m8=/[a-zA-Z0-9_]/;function f8(e){if(!e)return[[]];if(e==="/")return[[p8]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${r})/"${u}": ${m}`)}let r=0,n=r;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,u="",c="";function d(){u&&(r===0?o.push({type:0,value:u}):r===1||r===2||r===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),r=1):p();break;case 4:p(),r=n;break;case 1:l==="("?r=2:m8.test(l)?p():(d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:d(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}function g8(e,t,r){const n=c8(f8(e.path),r),i=at(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function b8(e,t){const r=[],n=new Map;t=xm({strict:!1,end:!0,sensitive:!1},t);function i(c){return n.get(c)}function o(c,d,p){const m=!p,g=v8(c);g.aliasOf=p&&p.record;const y=xm(t,c),L=[g];if("alias"in c){const v=typeof c.alias=="string"?[c.alias]:c.alias;for(const k of v)L.push(at({},g,{components:p?p.record.components:g.components,path:k,aliasOf:p?p.record:g}))}let E,C;for(const v of L){const{path:k}=v;if(d&&k[0]!=="/"){const I=d.record.path,T=I[I.length-1]==="/"?"":"/";v.path=d.record.path+(k&&T+k)}if(E=g8(v,d,y),p?p.alias.push(E):(C=C||E,C!==E&&C.alias.push(E),m&&c.name&&!_m(E)&&a(c.name)),"children"in g){const I=g.children;for(let T=0;T<I.length;T++)o(I[T],E,p&&p.children[T])}p=p||E,l(E)}return C?()=>{a(C)}:Qa}function a(c){if(o4(c)){const d=n.get(c);d&&(n.delete(c),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(c);d>-1&&(r.splice(d,1),c.record.name&&n.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function s(){return r}function l(c){let d=0;for(;d<r.length&&h8(c,r[d])>=0&&(c.record.path!==r[d].record.path||!s4(c,r[d]));)d++;r.splice(d,0,c),c.record.name&&!_m(c)&&n.set(c.record.name,c)}function u(c,d){let p,m={},g,y;if("name"in c&&c.name){if(p=n.get(c.name),!p)throw ra(1,{location:c});y=p.record.name,m=at(y8(d.params,p.keys.filter(C=>!C.optional).map(C=>C.name)),c.params),g=p.stringify(m)}else if("path"in c)g=c.path,p=r.find(C=>C.re.test(g)),p&&(m=p.parse(g),y=p.record.name);else{if(p=d.name?n.get(d.name):r.find(C=>C.re.test(d.path)),!p)throw ra(1,{location:c,currentLocation:d});y=p.record.name,m=at({},d.params,c.params),g=p.stringify(m)}const L=[];let E=p;for(;E;)L.unshift(E.record),E=E.parent;return{name:y,path:g,params:m,matched:L,meta:x8(L)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:a,getRoutes:s,getRecordMatcher:i}}function y8(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function v8(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:_8(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function _8(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function _m(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function x8(e){return e.reduce((t,r)=>at(t,r.meta),{})}function xm(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function s4(e,t){return t.children.some(r=>r===e||s4(e,r))}const l4=/#/g,w8=/&/g,k8=/\//g,M8=/=/g,S8=/\?/g,u4=/\+/g,C8=/%5B/g,E8=/%5D/g,c4=/%5E/g,L8=/%60/g,d4=/%7B/g,A8=/%7C/g,h4=/%7D/g,D8=/%20/g;function Dh(e){return encodeURI(""+e).replace(A8,"|").replace(C8,"[").replace(E8,"]")}function B8(e){return Dh(e).replace(d4,"{").replace(h4,"}").replace(c4,"^")}function h0(e){return Dh(e).replace(u4,"%2B").replace(D8,"+").replace(l4,"%23").replace(w8,"%26").replace(L8,"`").replace(d4,"{").replace(h4,"}").replace(c4,"^")}function T8(e){return h0(e).replace(M8,"%3D")}function F8(e){return Dh(e).replace(l4,"%23").replace(S8,"%3F")}function O8(e){return e==null?"":F8(e).replace(k8,"%2F")}function _u(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function P8(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(u4," "),a=o.indexOf("="),s=_u(a<0?o:o.slice(0,a)),l=a<0?null:_u(o.slice(a+1));if(s in t){let u=t[s];Array.isArray(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function wm(e){let t="";for(let r in e){const n=e[r];if(r=T8(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(n)?n.map(o=>o&&h0(o)):[n&&h0(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function I8(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Array.isArray(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}function ka(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Xn(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,s)=>{const l=d=>{d===!1?s(ra(4,{from:r,to:t})):d instanceof Error?s(d):s8(d)?s(ra(2,{from:t,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=e.call(n&&n.instances[i],t,r,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>s(d))})}function jc(e,t,r,n){const i=[];for(const o of e)for(const a in o.components){let s=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(N8(s)){const u=(s.__vccOpts||s)[t];u&&i.push(Xn(u,r,n,o,a))}else{let l=s();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const c=H5(u)?u.default:u;o.components[a]=c;const p=(c.__vccOpts||c)[t];return p&&Xn(p,r,n,o,a)()}))}}return i}function N8(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function km(e){const t=Ir(Ah),r=Ir(r4),n=bt(()=>t.resolve(Vo(e.to))),i=bt(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=r.matched;if(!c||!d.length)return-1;const p=d.findIndex(ta.bind(null,c));if(p>-1)return p;const m=Mm(l[u-2]);return u>1&&Mm(c)===m&&d[d.length-1].path!==m?d.findIndex(ta.bind(null,l[u-2])):p}),o=bt(()=>i.value>-1&&K8(r.params,n.value.params)),a=bt(()=>i.value>-1&&i.value===r.matched.length-1&&n4(r.params,n.value.params));function s(l={}){return z8(l)?t[Vo(e.replace)?"replace":"push"](Vo(e.to)).catch(Qa):Promise.resolve()}return{route:n,href:bt(()=>n.value.href),isActive:o,isExactActive:a,navigate:s}}const $8=Ms({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:km,setup(e,{slots:t}){const r=ca(km(e)),{options:n}=Ir(Ah),i=bt(()=>({[Sm(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Sm(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:rc("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),R8=$8;function z8(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function K8(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Array.isArray(i)||i.length!==n.length||n.some((o,a)=>o!==i[a]))return!1}return!0}function Mm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Sm=(e,t,r)=>e??t??r,q8=Ms({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const n=Ir(c0),i=bt(()=>e.route||n.value),o=Ir(pm,0),a=bt(()=>i.value.matched[o]);tu(pm,o+1),tu(q5,a),tu(c0,i);const s=vn();return ii(()=>[s.value,a.value,e.name],([l,u,c],[d,p,m])=>{u&&(u.instances[c]=l,p&&p!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!ta(u,p)||!d)&&(u.enterCallbacks[c]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=a.value,c=u&&u.components[e.name],d=e.name;if(!c)return Cm(r.default,{Component:c,route:l});const p=u.props[e.name],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,y=rc(c,at({},m,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(u.instances[d]=null)},ref:s}));return Cm(r.default,{Component:y,route:l})||y}}});function Cm(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const p4=q8;function H8(e){const t=b8(e.routes,e),r=e.parseQuery||P8,n=e.stringifyQuery||wm,i=e.history,o=ka(),a=ka(),s=ka(),l=_h(An);let u=An;Do&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Uc.bind(null,W=>""+W),d=Uc.bind(null,O8),p=Uc.bind(null,_u);function m(W,oe){let ne,ce;return o4(W)?(ne=t.getRecordMatcher(W),ce=oe):ce=W,t.addRoute(ce,ne)}function g(W){const oe=t.getRecordMatcher(W);oe&&t.removeRoute(oe)}function y(){return t.getRoutes().map(W=>W.record)}function L(W){return!!t.getRecordMatcher(W)}function E(W,oe){if(oe=at({},oe||l.value),typeof W=="string"){const ye=Wc(r,W,oe.path),S=t.resolve({path:ye.path},oe),x=i.createHref(ye.fullPath);return at(ye,S,{params:p(S.params),hash:_u(ye.hash),redirectedFrom:void 0,href:x})}let ne;if("path"in W)ne=at({},W,{path:Wc(r,W.path,oe.path).path});else{const ye=at({},W.params);for(const S in ye)ye[S]==null&&delete ye[S];ne=at({},W,{params:d(W.params)}),oe.params=d(oe.params)}const ce=t.resolve(ne,oe),$e=W.hash||"";ce.params=c(p(ce.params));const Re=W5(n,at({},W,{hash:B8($e),path:ce.path})),Ee=i.createHref(Re);return at({fullPath:Re,hash:$e,query:n===wm?I8(W.query):W.query||{}},ce,{redirectedFrom:void 0,href:Ee})}function C(W){return typeof W=="string"?Wc(r,W,l.value.path):at({},W)}function v(W,oe){if(u!==W)return ra(8,{from:oe,to:W})}function k(W){return R(W)}function I(W){return k(at(C(W),{replace:!0}))}function T(W){const oe=W.matched[W.matched.length-1];if(oe&&oe.redirect){const{redirect:ne}=oe;let ce=typeof ne=="function"?ne(W):ne;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=C(ce):{path:ce},ce.params={}),at({query:W.query,hash:W.hash,params:W.params},ce)}}function R(W,oe){const ne=u=E(W),ce=l.value,$e=W.state,Re=W.force,Ee=W.replace===!0,ye=T(ne);if(ye)return R(at(C(ye),{state:$e,force:Re,replace:Ee}),oe||ne);const S=ne;S.redirectedFrom=oe;let x;return!Re&&j5(n,ce,ne)&&(x=ra(16,{to:S,from:ce}),st(ce,ce,!0,!1)),(x?Promise.resolve(x):z(S,ce)).catch(F=>Dn(F)?Dn(F,2)?F:Fe(F):re(F,S,ce)).then(F=>{if(F){if(Dn(F,2))return R(at(C(F.to),{state:$e,force:Re,replace:Ee}),oe||S)}else F=be(S,ce,!0,Ee,$e);return $(S,ce,F),F})}function N(W,oe){const ne=v(W,oe);return ne?Promise.reject(ne):Promise.resolve()}function z(W,oe){let ne;const[ce,$e,Re]=V8(W,oe);ne=jc(ce.reverse(),"beforeRouteLeave",W,oe);for(const ye of ce)ye.leaveGuards.forEach(S=>{ne.push(Xn(S,W,oe))});const Ee=N.bind(null,W,oe);return ne.push(Ee),mo(ne).then(()=>{ne=[];for(const ye of o.list())ne.push(Xn(ye,W,oe));return ne.push(Ee),mo(ne)}).then(()=>{ne=jc($e,"beforeRouteUpdate",W,oe);for(const ye of $e)ye.updateGuards.forEach(S=>{ne.push(Xn(S,W,oe))});return ne.push(Ee),mo(ne)}).then(()=>{ne=[];for(const ye of W.matched)if(ye.beforeEnter&&!oe.matched.includes(ye))if(Array.isArray(ye.beforeEnter))for(const S of ye.beforeEnter)ne.push(Xn(S,W,oe));else ne.push(Xn(ye.beforeEnter,W,oe));return ne.push(Ee),mo(ne)}).then(()=>(W.matched.forEach(ye=>ye.enterCallbacks={}),ne=jc(Re,"beforeRouteEnter",W,oe),ne.push(Ee),mo(ne))).then(()=>{ne=[];for(const ye of a.list())ne.push(Xn(ye,W,oe));return ne.push(Ee),mo(ne)}).catch(ye=>Dn(ye,8)?ye:Promise.reject(ye))}function $(W,oe,ne){for(const ce of s.list())ce(W,oe,ne)}function be(W,oe,ne,ce,$e){const Re=v(W,oe);if(Re)return Re;const Ee=oe===An,ye=Do?history.state:{};ne&&(ce||Ee?i.replace(W.fullPath,at({scroll:Ee&&ye&&ye.scroll},$e)):i.push(W.fullPath,$e)),l.value=W,st(W,oe,ne,Ee),Fe()}let ue;function me(){ue=i.listen((W,oe,ne)=>{const ce=E(W),$e=T(ce);if($e){R(at($e,{replace:!0}),ce).catch(Qa);return}u=ce;const Re=l.value;Do&&t8(gm(Re.fullPath,ne.delta),nc()),z(ce,Re).catch(Ee=>Dn(Ee,12)?Ee:Dn(Ee,2)?(R(Ee.to,ce).then(ye=>{Dn(ye,20)&&!ne.delta&&ne.type===fs.pop&&i.go(-1,!1)}).catch(Qa),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),re(Ee,ce,Re))).then(Ee=>{Ee=Ee||be(ce,Re,!1),Ee&&(ne.delta?i.go(-ne.delta,!1):ne.type===fs.pop&&Dn(Ee,20)&&i.go(-1,!1)),$(ce,Re,Ee)}).catch(Qa)})}let Me=ka(),Ae=ka(),fe;function re(W,oe,ne){Fe(W);const ce=Ae.list();return ce.length?ce.forEach($e=>$e(W,oe,ne)):console.error(W),Promise.reject(W)}function he(){return fe&&l.value!==An?Promise.resolve():new Promise((W,oe)=>{Me.add([W,oe])})}function Fe(W){return fe||(fe=!W,me(),Me.list().forEach(([oe,ne])=>W?ne(W):oe()),Me.reset()),W}function st(W,oe,ne,ce){const{scrollBehavior:$e}=e;if(!Do||!$e)return Promise.resolve();const Re=!ne&&r8(gm(W.fullPath,0))||(ce||!ne)&&history.state&&history.state.scroll||null;return wh().then(()=>$e(W,oe,Re)).then(Ee=>Ee&&e8(Ee)).catch(Ee=>re(Ee,W,oe))}const De=W=>i.go(W);let Pe;const tt=new Set;return{currentRoute:l,addRoute:m,removeRoute:g,hasRoute:L,getRoutes:y,resolve:E,options:e,push:k,replace:I,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:Ae.add,isReady:he,install(W){const oe=this;W.component("RouterLink",R8),W.component("RouterView",p4),W.config.globalProperties.$router=oe,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Vo(l)}),Do&&!Pe&&l.value===An&&(Pe=!0,k(i.location).catch($e=>{}));const ne={};for(const $e in An)ne[$e]=bt(()=>l.value[$e]);W.provide(Ah,oe),W.provide(r4,ca(ne)),W.provide(c0,l);const ce=W.unmount;tt.add(W),W.unmount=function(){tt.delete(W),tt.size<1&&(u=An,ue&&ue(),l.value=An,Pe=!1,fe=!1),ce()}}}}function mo(e){return e.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function V8(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const s=t.matched[a];s&&(e.matched.find(u=>ta(u,s))?n.push(s):r.push(s));const l=e.matched[a];l&&(t.matched.find(u=>ta(u,l))||i.push(l))}return[r,n,i]}const U8={__name:"App",setup(e){return(t,r)=>(fr(),kr("div",null,[ut(Vo(p4))]))}};/*!
  * shared v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const xu=typeof window<"u",fi=(e,t=!1)=>t?Symbol.for(e):Symbol(e),W8=(e,t,r)=>j8({l:e,k:t,s:r}),j8=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Lt=e=>typeof e=="number"&&isFinite(e),G8=e=>f4(e)==="[object Date]",li=e=>f4(e)==="[object RegExp]",ic=e=>Ce(e)&&Object.keys(e).length===0,Rt=Object.assign;let Em;const _n=()=>Em||(Em=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lm(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const X8=Object.prototype.hasOwnProperty;function wu(e,t){return X8.call(e,t)}const ht=Array.isArray,lt=e=>typeof e=="function",se=e=>typeof e=="string",Ne=e=>typeof e=="boolean",Qe=e=>e!==null&&typeof e=="object",J8=e=>Qe(e)&&lt(e.then)&&lt(e.catch),m4=Object.prototype.toString,f4=e=>m4.call(e),Ce=e=>{if(!Qe(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Y8=e=>e==null?"":ht(e)||Ce(e)&&e.toString===m4?JSON.stringify(e,null,2):String(e);function Z8(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}function oc(e){let t=e;return()=>++t}function Q8(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Gs=e=>!Qe(e)||ht(e);function iu(e,t){if(Gs(e)||Gs(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(o=>{Gs(n[o])||Gs(i[o])?i[o]=n[o]:r.push({src:n[o],des:i[o]})})}}/*!
  * message-compiler v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function e_(e,t,r){return{line:e,column:t,offset:r}}function ku(e,t,r){return{start:e,end:t}}const t_=/\{([0-9a-zA-Z]+)\}/g;function g4(e,...t){return t.length===1&&r_(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(t_,(r,n)=>t.hasOwnProperty(n)?t[n]:"")}const b4=Object.assign,Am=e=>typeof e=="string",r_=e=>e!==null&&typeof e=="object";function y4(e,t=""){return e.reduce((r,n,i)=>i===0?r+n:r+t+n,"")}const Bh={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},n_={[Bh.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function i_(e,t,...r){const n=g4(n_[e],...r||[]),i={message:String(n),code:e};return t&&(i.location=t),i}const xe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},o_={[xe.EXPECTED_TOKEN]:"Expected token: '{0}'",[xe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[xe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[xe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[xe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[xe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[xe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[xe.EMPTY_PLACEHOLDER]:"Empty placeholder",[xe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[xe.INVALID_LINKED_FORMAT]:"Invalid linked format",[xe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[xe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[xe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[xe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[xe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[xe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ha(e,t,r={}){const{domain:n,messages:i,args:o}=r,a=g4((i||o_)[e]||"",...o||[]),s=new SyntaxError(String(a));return s.code=e,t&&(s.location=t),s.domain=n,s}function a_(e){throw e}const an=" ",s_="\r",Jt=`
`,l_="\u2028",u_="\u2029";function c_(e){const t=e;let r=0,n=1,i=1,o=0;const a=R=>t[R]===s_&&t[R+1]===Jt,s=R=>t[R]===Jt,l=R=>t[R]===u_,u=R=>t[R]===l_,c=R=>a(R)||s(R)||l(R)||u(R),d=()=>r,p=()=>n,m=()=>i,g=()=>o,y=R=>a(R)||l(R)||u(R)?Jt:t[R],L=()=>y(r),E=()=>y(r+o);function C(){return o=0,c(r)&&(n++,i=0),a(r)&&r++,r++,i++,t[r]}function v(){return a(r+o)&&o++,o++,t[r+o]}function k(){r=0,n=1,i=1,o=0}function I(R=0){o=R}function T(){const R=r+o;for(;R!==r;)C();o=0}return{index:d,line:p,column:m,peekOffset:g,charAt:y,currentChar:L,currentPeek:E,next:C,peek:v,reset:k,resetPeek:I,skipToPeek:T}}const Bn=void 0,d_=".",Dm="'",h_="tokenizer";function p_(e,t={}){const r=t.location!==!1,n=c_(e),i=()=>n.index(),o=()=>e_(n.line(),n.column(),n.index()),a=o(),s=i(),l={currentType:14,offset:s,startLoc:a,endLoc:a,lastType:14,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function d(_,w,D,...U){const ee=u();if(w.column+=D,w.offset+=D,c){const J=r?ku(ee.startLoc,w):null,O=ha(_,J,{domain:h_,args:U});c(O)}}function p(_,w,D){_.endLoc=o(),_.currentType=w;const U={type:w};return r&&(U.loc=ku(_.startLoc,_.endLoc)),D!=null&&(U.value=D),U}const m=_=>p(_,14);function g(_,w){return _.currentChar()===w?(_.next(),w):(d(xe.EXPECTED_TOKEN,o(),0,w),"")}function y(_){let w="";for(;_.currentPeek()===an||_.currentPeek()===Jt;)w+=_.currentPeek(),_.peek();return w}function L(_){const w=y(_);return _.skipToPeek(),w}function E(_){if(_===Bn)return!1;const w=_.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w===95}function C(_){if(_===Bn)return!1;const w=_.charCodeAt(0);return w>=48&&w<=57}function v(_,w){const{currentType:D}=w;if(D!==2)return!1;y(_);const U=E(_.currentPeek());return _.resetPeek(),U}function k(_,w){const{currentType:D}=w;if(D!==2)return!1;y(_);const U=_.currentPeek()==="-"?_.peek():_.currentPeek(),ee=C(U);return _.resetPeek(),ee}function I(_,w){const{currentType:D}=w;if(D!==2)return!1;y(_);const U=_.currentPeek()===Dm;return _.resetPeek(),U}function T(_,w){const{currentType:D}=w;if(D!==8)return!1;y(_);const U=_.currentPeek()===".";return _.resetPeek(),U}function R(_,w){const{currentType:D}=w;if(D!==9)return!1;y(_);const U=E(_.currentPeek());return _.resetPeek(),U}function N(_,w){const{currentType:D}=w;if(!(D===8||D===12))return!1;y(_);const U=_.currentPeek()===":";return _.resetPeek(),U}function z(_,w){const{currentType:D}=w;if(D!==10)return!1;const U=()=>{const J=_.currentPeek();return J==="{"?E(_.peek()):J==="@"||J==="%"||J==="|"||J===":"||J==="."||J===an||!J?!1:J===Jt?(_.peek(),U()):ue(_,!1)},ee=U();return _.resetPeek(),ee}function $(_){y(_);const w=_.currentPeek()==="|";return _.resetPeek(),w}function be(_){const w=y(_),D=_.currentPeek()==="%"&&_.peek()==="{";return _.resetPeek(),{isModulo:D,hasSpace:w.length>0}}function ue(_,w=!0){const D=(ee=!1,J="",O=!1)=>{const K=_.currentPeek();return K==="{"?J==="%"?!1:ee:K==="@"||!K?J==="%"?!0:ee:K==="%"?(_.peek(),D(ee,"%",!0)):K==="|"?J==="%"||O?!0:!(J===an||J===Jt):K===an?(_.peek(),D(!0,an,O)):K===Jt?(_.peek(),D(!0,Jt,O)):!0},U=D();return w&&_.resetPeek(),U}function me(_,w){const D=_.currentChar();return D===Bn?Bn:w(D)?(_.next(),D):null}function Me(_){const w=_.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36}function Ae(_){return me(_,Me)}function fe(_){const w=_.charCodeAt(0);return w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||w===95||w===36||w===45}function re(_){return me(_,fe)}function he(_){const w=_.charCodeAt(0);return w>=48&&w<=57}function Fe(_){return me(_,he)}function st(_){const w=_.charCodeAt(0);return w>=48&&w<=57||w>=65&&w<=70||w>=97&&w<=102}function De(_){return me(_,st)}function Pe(_){let w="",D="";for(;w=Fe(_);)D+=w;return D}function tt(_){L(_);const w=_.currentChar();return w!=="%"&&d(xe.EXPECTED_TOKEN,o(),0,w),_.next(),"%"}function pt(_){let w="";for(;;){const D=_.currentChar();if(D==="{"||D==="}"||D==="@"||D==="|"||!D)break;if(D==="%")if(ue(_))w+=D,_.next();else break;else if(D===an||D===Jt)if(ue(_))w+=D,_.next();else{if($(_))break;w+=D,_.next()}else w+=D,_.next()}return w}function W(_){L(_);let w="",D="";for(;w=re(_);)D+=w;return _.currentChar()===Bn&&d(xe.UNTERMINATED_CLOSING_BRACE,o(),0),D}function oe(_){L(_);let w="";return _.currentChar()==="-"?(_.next(),w+=`-${Pe(_)}`):w+=Pe(_),_.currentChar()===Bn&&d(xe.UNTERMINATED_CLOSING_BRACE,o(),0),w}function ne(_){return _!==Dm&&_!==Jt}function ce(_){L(_),g(_,"'");let w="",D="";for(;w=me(_,ne);)w==="\\"?D+=$e(_):D+=w;const U=_.currentChar();return U===Jt||U===Bn?(d(xe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),U===Jt&&(_.next(),g(_,"'")),D):(g(_,"'"),D)}function $e(_){const w=_.currentChar();switch(w){case"\\":case"'":return _.next(),`\\${w}`;case"u":return Re(_,w,4);case"U":return Re(_,w,6);default:return d(xe.UNKNOWN_ESCAPE_SEQUENCE,o(),0,w),""}}function Re(_,w,D){g(_,w);let U="";for(let ee=0;ee<D;ee++){const J=De(_);if(!J){d(xe.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${w}${U}${_.currentChar()}`);break}U+=J}return`\\${w}${U}`}function Ee(_){return _!=="{"&&_!=="}"&&_!==an&&_!==Jt}function ye(_){L(_);let w="",D="";for(;w=me(_,Ee);)D+=w;return D}function S(_){let w="",D="";for(;w=Ae(_);)D+=w;return D}function x(_){const w=D=>{const U=_.currentChar();return U==="{"||U==="%"||U==="@"||U==="|"||U==="("||U===")"||!U||U===an?D:(D+=U,_.next(),w(D))};return w("")}function F(_){L(_);const w=g(_,"|");return L(_),w}function Y(_,w){let D=null;switch(_.currentChar()){case"{":return w.braceNest>=1&&d(xe.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),_.next(),D=p(w,2,"{"),L(_),w.braceNest++,D;case"}":return w.braceNest>0&&w.currentType===2&&d(xe.EMPTY_PLACEHOLDER,o(),0),_.next(),D=p(w,3,"}"),w.braceNest--,w.braceNest>0&&L(_),w.inLinked&&w.braceNest===0&&(w.inLinked=!1),D;case"@":return w.braceNest>0&&d(xe.UNTERMINATED_CLOSING_BRACE,o(),0),D=X(_,w)||m(w),w.braceNest=0,D;default:{let ee=!0,J=!0,O=!0;if($(_))return w.braceNest>0&&d(xe.UNTERMINATED_CLOSING_BRACE,o(),0),D=p(w,1,F(_)),w.braceNest=0,w.inLinked=!1,D;if(w.braceNest>0&&(w.currentType===5||w.currentType===6||w.currentType===7))return d(xe.UNTERMINATED_CLOSING_BRACE,o(),0),w.braceNest=0,Q(_,w);if(ee=v(_,w))return D=p(w,5,W(_)),L(_),D;if(J=k(_,w))return D=p(w,6,oe(_)),L(_),D;if(O=I(_,w))return D=p(w,7,ce(_)),L(_),D;if(!ee&&!J&&!O)return D=p(w,13,ye(_)),d(xe.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,D.value),L(_),D;break}}return D}function X(_,w){const{currentType:D}=w;let U=null;const ee=_.currentChar();switch((D===8||D===9||D===12||D===10)&&(ee===Jt||ee===an)&&d(xe.INVALID_LINKED_FORMAT,o(),0),ee){case"@":return _.next(),U=p(w,8,"@"),w.inLinked=!0,U;case".":return L(_),_.next(),p(w,9,".");case":":return L(_),_.next(),p(w,10,":");default:return $(_)?(U=p(w,1,F(_)),w.braceNest=0,w.inLinked=!1,U):T(_,w)||N(_,w)?(L(_),X(_,w)):R(_,w)?(L(_),p(w,12,S(_))):z(_,w)?(L(_),ee==="{"?Y(_,w)||U:p(w,11,x(_))):(D===8&&d(xe.INVALID_LINKED_FORMAT,o(),0),w.braceNest=0,w.inLinked=!1,Q(_,w))}}function Q(_,w){let D={type:14};if(w.braceNest>0)return Y(_,w)||m(w);if(w.inLinked)return X(_,w)||m(w);switch(_.currentChar()){case"{":return Y(_,w)||m(w);case"}":return d(xe.UNBALANCED_CLOSING_BRACE,o(),0),_.next(),p(w,3,"}");case"@":return X(_,w)||m(w);default:{if($(_))return D=p(w,1,F(_)),w.braceNest=0,w.inLinked=!1,D;const{isModulo:ee,hasSpace:J}=be(_);if(ee)return J?p(w,0,pt(_)):p(w,4,tt(_));if(ue(_))return p(w,0,pt(_));break}}return D}function ie(){const{currentType:_,offset:w,startLoc:D,endLoc:U}=l;return l.lastType=_,l.lastOffset=w,l.lastStartLoc=D,l.lastEndLoc=U,l.offset=i(),l.startLoc=o(),n.currentChar()===Bn?p(l,14):Q(n,l)}return{nextToken:ie,currentOffset:i,currentPosition:o,context:u}}const m_="parser",f_=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function g_(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(t||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function b_(e={}){const t=e.location!==!1,{onError:r,onWarn:n}=e;function i(v,k,I,T,...R){const N=v.currentPosition();if(N.offset+=T,N.column+=T,r){const z=t?ku(I,N):null,$=ha(k,z,{domain:m_,args:R});r($)}}function o(v,k,I,T,...R){const N=v.currentPosition();if(N.offset+=T,N.column+=T,n){const z=t?ku(I,N):null;n(i_(k,z,R))}}function a(v,k,I){const T={type:v};return t&&(T.start=k,T.end=k,T.loc={start:I,end:I}),T}function s(v,k,I,T){t&&(v.end=k,v.loc&&(v.loc.end=I))}function l(v,k){const I=v.context(),T=a(3,I.offset,I.startLoc);return T.value=k,s(T,v.currentOffset(),v.currentPosition()),T}function u(v,k){const I=v.context(),{lastOffset:T,lastStartLoc:R}=I,N=a(5,T,R);return N.index=parseInt(k,10),v.nextToken(),s(N,v.currentOffset(),v.currentPosition()),N}function c(v,k,I){const T=v.context(),{lastOffset:R,lastStartLoc:N}=T,z=a(4,R,N);return z.key=k,I===!0&&(z.modulo=!0),v.nextToken(),s(z,v.currentOffset(),v.currentPosition()),z}function d(v,k){const I=v.context(),{lastOffset:T,lastStartLoc:R}=I,N=a(9,T,R);return N.value=k.replace(f_,g_),v.nextToken(),s(N,v.currentOffset(),v.currentPosition()),N}function p(v){const k=v.nextToken(),I=v.context(),{lastOffset:T,lastStartLoc:R}=I,N=a(8,T,R);return k.type!==12?(i(v,xe.UNEXPECTED_EMPTY_LINKED_MODIFIER,I.lastStartLoc,0),N.value="",s(N,T,R),{nextConsumeToken:k,node:N}):(k.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Lr(k)),N.value=k.value||"",s(N,v.currentOffset(),v.currentPosition()),{node:N})}function m(v,k){const I=v.context(),T=a(7,I.offset,I.startLoc);return T.value=k,s(T,v.currentOffset(),v.currentPosition()),T}function g(v){const k=v.context(),I=a(6,k.offset,k.startLoc);let T=v.nextToken();if(T.type===9){const R=p(v);I.modifier=R.node,T=R.nextConsumeToken||v.nextToken()}switch(T.type!==10&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(T)),T=v.nextToken(),T.type===2&&(T=v.nextToken()),T.type){case 11:T.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(T)),I.key=m(v,T.value||"");break;case 5:T.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(T)),I.key=c(v,T.value||"");break;case 6:T.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(T)),I.key=u(v,T.value||"");break;case 7:T.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(T)),I.key=d(v,T.value||"");break;default:{i(v,xe.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const R=v.context(),N=a(7,R.offset,R.startLoc);return N.value="",s(N,R.offset,R.startLoc),I.key=N,s(I,R.offset,R.startLoc),{nextConsumeToken:T,node:I}}}return s(I,v.currentOffset(),v.currentPosition()),{node:I}}function y(v){const k=v.context(),I=k.currentType===1?v.currentOffset():k.offset,T=k.currentType===1?k.endLoc:k.startLoc,R=a(2,I,T);R.items=[];let N=null,z=null;do{const ue=N||v.nextToken();switch(N=null,ue.type){case 0:ue.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(ue)),R.items.push(l(v,ue.value||""));break;case 6:ue.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(ue)),R.items.push(u(v,ue.value||""));break;case 4:z=!0;break;case 5:ue.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(ue)),R.items.push(c(v,ue.value||"",!!z)),z&&(o(v,Bh.USE_MODULO_SYNTAX,k.lastStartLoc,0,Lr(ue)),z=null);break;case 7:ue.value==null&&i(v,xe.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Lr(ue)),R.items.push(d(v,ue.value||""));break;case 8:{const me=g(v);R.items.push(me.node),N=me.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const $=k.currentType===1?k.lastOffset:v.currentOffset(),be=k.currentType===1?k.lastEndLoc:v.currentPosition();return s(R,$,be),R}function L(v,k,I,T){const R=v.context();let N=T.items.length===0;const z=a(1,k,I);z.cases=[],z.cases.push(T);do{const $=y(v);N||(N=$.items.length===0),z.cases.push($)}while(R.currentType!==14);return N&&i(v,xe.MUST_HAVE_MESSAGES_IN_PLURAL,I,0),s(z,v.currentOffset(),v.currentPosition()),z}function E(v){const k=v.context(),{offset:I,startLoc:T}=k,R=y(v);return k.currentType===14?R:L(v,I,T,R)}function C(v){const k=p_(v,b4({},e)),I=k.context(),T=a(0,I.offset,I.startLoc);return t&&T.loc&&(T.loc.source=v),T.body=E(k),e.onCacheKey&&(T.cacheKey=e.onCacheKey(v)),I.currentType!==14&&i(k,xe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,v[I.offset]||""),s(T,k.currentOffset(),k.currentPosition()),T}return{parse:C}}function Lr(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function y_(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:o=>(r.helpers.add(o),o)}}function Bm(e,t){for(let r=0;r<e.length;r++)Th(e[r],t)}function Th(e,t){switch(e.type){case 1:Bm(e.cases,t),t.helper("plural");break;case 2:Bm(e.items,t);break;case 6:{Th(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function v_(e,t={}){const r=y_(e);r.helper("normalize"),e.body&&Th(e.body,r);const n=r.context();e.helpers=Array.from(n.helpers)}function __(e){const t=e.body;return t.type===2?Tm(t):t.cases.forEach(r=>Tm(r)),e}function Tm(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const n=e.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;t.push(n.value)}if(t.length===e.items.length){e.static=y4(t);for(let r=0;r<e.items.length;r++){const n=e.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const x_="minifier";function Bo(e){switch(e.t=e.type,e.type){case 0:{const t=e;Bo(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let n=0;n<r.length;n++)Bo(r[n]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let n=0;n<r.length;n++)Bo(r[n]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Bo(t.key),t.k=t.key,delete t.key,t.modifier&&(Bo(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw ha(xe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:x_,args:[e.type]})}delete e.type}const w_="parser";function k_(e,t){const{sourceMap:r,filename:n,breakLineCode:i,needIndent:o}=t,a=t.location!==!1,s={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};a&&e.loc&&(s.source=e.loc.source);const l=()=>s;function u(L,E){s.code+=L}function c(L,E=!0){const C=E?i:"";u(o?C+"  ".repeat(L):C)}function d(L=!0){const E=++s.indentLevel;L&&c(E)}function p(L=!0){const E=--s.indentLevel;L&&c(E)}function m(){c(s.indentLevel)}return{context:l,push:u,indent:d,deindent:p,newline:m,helper:L=>`_${L}`,needIndent:()=>s.needIndent}}function M_(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),na(e,t.key),t.modifier?(e.push(", "),na(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function S_(e,t){const{helper:r,needIndent:n}=e;e.push(`${r("normalize")}([`),e.indent(n());const i=t.items.length;for(let o=0;o<i&&(na(e,t.items[o]),o!==i-1);o++)e.push(", ");e.deindent(n()),e.push("])")}function C_(e,t){const{helper:r,needIndent:n}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(n());const i=t.cases.length;for(let o=0;o<i&&(na(e,t.cases[o]),o!==i-1);o++)e.push(", ");e.deindent(n()),e.push("])")}}function E_(e,t){t.body?na(e,t.body):e.push("null")}function na(e,t){const{helper:r}=e;switch(t.type){case 0:E_(e,t);break;case 1:C_(e,t);break;case 2:S_(e,t);break;case 6:M_(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw ha(xe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:w_,args:[t.type]})}}const L_=(e,t={})=>{const r=Am(t.mode)?t.mode:"normal",n=Am(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,o=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,a=t.needIndent?t.needIndent:r!=="arrow",s=e.helpers||[],l=k_(e,{mode:r,filename:n,sourceMap:i,breakLineCode:o,needIndent:a});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),s.length>0&&(l.push(`const { ${y4(s.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),na(l,e),l.deindent(a),l.push("}"),delete e.helpers;const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};function A_(e,t={}){const r=b4({},t),n=!!r.jit,i=!!r.minify,o=r.optimize==null?!0:r.optimize,s=b_(r).parse(e);return n?(o&&__(s),i&&Bo(s),{ast:s,code:""}):(v_(s,r),L_(s,r))}/*!
  * core-base v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function D_(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_n().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_n().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_n().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const gi=[];gi[0]={w:[0],i:[3,0],"[":[4],o:[7]};gi[1]={w:[1],".":[2],"[":[4],o:[7]};gi[2]={w:[2],i:[3,0],0:[3,0]};gi[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};gi[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};gi[5]={"'":[4,0],o:8,l:[5,0]};gi[6]={'"':[4,0],o:8,l:[6,0]};const B_=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function T_(e){return B_.test(e)}function F_(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function O_(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function P_(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:T_(t)?F_(t):"*"+t}function I_(e){const t=[];let r=-1,n=0,i=0,o,a,s,l,u,c,d;const p=[];p[0]=()=>{a===void 0?a=s:a+=s},p[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},p[2]=()=>{p[0](),i++},p[3]=()=>{if(i>0)i--,n=4,p[0]();else{if(i=0,a===void 0||(a=P_(a),a===!1))return!1;p[1]()}};function m(){const g=e[r+1];if(n===5&&g==="'"||n===6&&g==='"')return r++,s="\\"+g,p[0](),!0}for(;n!==null;)if(r++,o=e[r],!(o==="\\"&&m())){if(l=O_(o),d=gi[n],u=d[l]||d.l||8,u===8||(n=u[0],u[1]!==void 0&&(c=p[u[1]],c&&(s=o,c()===!1))))return;if(n===7)return t}}const Fm=new Map;function N_(e,t){return Qe(e)?e[t]:null}function $_(e,t){if(!Qe(e))return null;let r=Fm.get(t);if(r||(r=I_(t),r&&Fm.set(t,r)),!r)return null;const n=r.length;let i=e,o=0;for(;o<n;){const a=i[r[o]];if(a===void 0||lt(i))return null;i=a,o++}return i}const R_=e=>e,z_=e=>"",K_="text",q_=e=>e.length===0?"":Z8(e),H_=Y8;function Om(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function V_(e){const t=Lt(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Lt(e.named.count)||Lt(e.named.n))?Lt(e.named.count)?e.named.count:Lt(e.named.n)?e.named.n:t:t}function U_(e,t){t.count||(t.count=e),t.n||(t.n=e)}function W_(e={}){const t=e.locale,r=V_(e),n=Qe(e.pluralRules)&&se(t)&&lt(e.pluralRules[t])?e.pluralRules[t]:Om,i=Qe(e.pluralRules)&&se(t)&&lt(e.pluralRules[t])?Om:void 0,o=E=>E[n(r,E.length,i)],a=e.list||[],s=E=>a[E],l=e.named||{};Lt(e.pluralIndex)&&U_(r,l);const u=E=>l[E];function c(E){const C=lt(e.messages)?e.messages(E):Qe(e.messages)?e.messages[E]:!1;return C||(e.parent?e.parent.message(E):z_)}const d=E=>e.modifiers?e.modifiers[E]:R_,p=Ce(e.processor)&&lt(e.processor.normalize)?e.processor.normalize:q_,m=Ce(e.processor)&&lt(e.processor.interpolate)?e.processor.interpolate:H_,g=Ce(e.processor)&&se(e.processor.type)?e.processor.type:K_,L={list:s,named:u,plural:o,linked:(E,...C)=>{const[v,k]=C;let I="text",T="";C.length===1?Qe(v)?(T=v.modifier||T,I=v.type||I):se(v)&&(T=v||T):C.length===2&&(se(v)&&(T=v||T),se(k)&&(I=k||I));const R=c(E)(L),N=I==="vnode"&&ht(R)&&T?R[0]:R;return T?d(T)(N,I):N},message:c,type:g,interpolate:m,normalize:p,values:Rt({},a,l)};return L}let gs=null;function j_(e){gs=e}function G_(e,t,r){gs&&gs.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const X_=J_("function:translate");function J_(e){return t=>gs&&gs.emit(e,t)}const v4=Bh.__EXTEND_POINT__,Si=oc(v4),Y_={NOT_FOUND_KEY:v4,FALLBACK_TO_TRANSLATE:Si(),CANNOT_FORMAT_NUMBER:Si(),FALLBACK_TO_NUMBER_FORMAT:Si(),CANNOT_FORMAT_DATE:Si(),FALLBACK_TO_DATE_FORMAT:Si(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Si(),__EXTEND_POINT__:Si()},_4=xe.__EXTEND_POINT__,Ci=oc(_4),Or={INVALID_ARGUMENT:_4,INVALID_DATE_ARGUMENT:Ci(),INVALID_ISO_DATE_ARGUMENT:Ci(),NOT_SUPPORT_NON_STRING_MESSAGE:Ci(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ci(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ci(),NOT_SUPPORT_LOCALE_TYPE:Ci(),__EXTEND_POINT__:Ci()};function Zr(e){return ha(e,null,void 0)}function Fh(e,t){return t.locale!=null?Pm(t.locale):Pm(e.locale)}let Gc;function Pm(e){if(se(e))return e;if(lt(e)){if(e.resolvedOnce&&Gc!=null)return Gc;if(e.constructor.name==="Function"){const t=e();if(J8(t))throw Zr(Or.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Gc=t}else throw Zr(Or.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Zr(Or.NOT_SUPPORT_LOCALE_TYPE)}function Z_(e,t,r){return[...new Set([r,...ht(t)?t:Qe(t)?Object.keys(t):se(t)?[t]:[r]])]}function x4(e,t,r){const n=se(r)?r:ia,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(n);if(!o){o=[];let a=[r];for(;ht(a);)a=Im(o,a,t);const s=ht(t)||!Ce(t)?t:t.default?t.default:null;a=se(s)?[s]:s,ht(a)&&Im(o,a,!1),i.__localeChainCache.set(n,o)}return o}function Im(e,t,r){let n=!0;for(let i=0;i<t.length&&Ne(n);i++){const o=t[i];se(o)&&(n=Q_(e,t[i],r))}return n}function Q_(e,t,r){let n;const i=t.split("-");do{const o=i.join("-");n=ex(e,o,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function ex(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(ht(r)||Ce(r))&&r[i]&&(n=r[i])}return n}const tx="9.14.0",ac=-1,ia="en-US",Nm="",$m=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function rx(){return{upper:(e,t)=>t==="text"&&se(e)?e.toUpperCase():t==="vnode"&&Qe(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&se(e)?e.toLowerCase():t==="vnode"&&Qe(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&se(e)?$m(e):t==="vnode"&&Qe(e)&&"__v_isVNode"in e?$m(e.children):e}}let w4;function Rm(e){w4=e}let k4;function nx(e){k4=e}let M4;function ix(e){M4=e}let S4=null;const ox=e=>{S4=e},ax=()=>S4;let C4=null;const zm=e=>{C4=e},sx=()=>C4;let Km=0;function lx(e={}){const t=lt(e.onWarn)?e.onWarn:Q8,r=se(e.version)?e.version:tx,n=se(e.locale)||lt(e.locale)?e.locale:ia,i=lt(n)?ia:n,o=ht(e.fallbackLocale)||Ce(e.fallbackLocale)||se(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=Ce(e.messages)?e.messages:{[i]:{}},s=Ce(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},l=Ce(e.numberFormats)?e.numberFormats:{[i]:{}},u=Rt({},e.modifiers||{},rx()),c=e.pluralRules||{},d=lt(e.missing)?e.missing:null,p=Ne(e.missingWarn)||li(e.missingWarn)?e.missingWarn:!0,m=Ne(e.fallbackWarn)||li(e.fallbackWarn)?e.fallbackWarn:!0,g=!!e.fallbackFormat,y=!!e.unresolving,L=lt(e.postTranslation)?e.postTranslation:null,E=Ce(e.processor)?e.processor:null,C=Ne(e.warnHtmlMessage)?e.warnHtmlMessage:!0,v=!!e.escapeParameter,k=lt(e.messageCompiler)?e.messageCompiler:w4,I=lt(e.messageResolver)?e.messageResolver:k4||N_,T=lt(e.localeFallbacker)?e.localeFallbacker:M4||Z_,R=Qe(e.fallbackContext)?e.fallbackContext:void 0,N=e,z=Qe(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,$=Qe(N.__numberFormatters)?N.__numberFormatters:new Map,be=Qe(N.__meta)?N.__meta:{};Km++;const ue={version:r,cid:Km,locale:n,fallbackLocale:o,messages:a,modifiers:u,pluralRules:c,missing:d,missingWarn:p,fallbackWarn:m,fallbackFormat:g,unresolving:y,postTranslation:L,processor:E,warnHtmlMessage:C,escapeParameter:v,messageCompiler:k,messageResolver:I,localeFallbacker:T,fallbackContext:R,onWarn:t,__meta:be};return ue.datetimeFormats=s,ue.numberFormats=l,ue.__datetimeFormatters=z,ue.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&G_(ue,r,be),ue}function Oh(e,t,r,n,i){const{missing:o,onWarn:a}=e;if(o!==null){const s=o(e,r,t,i);return se(s)?s:t}else return t}function Ma(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function ux(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function cx(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let n=r+1;n<t.length;n++)if(ux(e,t[n]))return!0;return!1}function Xc(e){return r=>dx(r,e)}function dx(e,t){const r=t.b||t.body;if((r.t||r.type)===1){const n=r,i=n.c||n.cases;return e.plural(i.reduce((o,a)=>[...o,qm(e,a)],[]))}else return qm(e,r)}function qm(e,t){const r=t.s||t.static;if(r)return e.type==="text"?r:e.normalize([r]);{const n=(t.i||t.items).reduce((i,o)=>[...i,p0(e,o)],[]);return e.normalize(n)}}function p0(e,t){const r=t.t||t.type;switch(r){case 3:{const n=t;return n.v||n.value}case 9:{const n=t;return n.v||n.value}case 4:{const n=t;return e.interpolate(e.named(n.k||n.key))}case 5:{const n=t;return e.interpolate(e.list(n.i!=null?n.i:n.index))}case 6:{const n=t,i=n.m||n.modifier;return e.linked(p0(e,n.k||n.key),i?p0(e,i):void 0,e.type)}case 7:{const n=t;return n.v||n.value}case 8:{const n=t;return n.v||n.value}default:throw new Error(`unhandled node type on format message part: ${r}`)}}const E4=e=>e;let Oo=Object.create(null);const oa=e=>Qe(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function L4(e,t={}){let r=!1;const n=t.onError||a_;return t.onError=i=>{r=!0,n(i)},{...A_(e,t),detectError:r}}const hx=(e,t)=>{if(!se(e))throw Zr(Or.NOT_SUPPORT_NON_STRING_MESSAGE);{Ne(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||E4)(e),i=Oo[n];if(i)return i;const{code:o,detectError:a}=L4(e,t),s=new Function(`return ${o}`)();return a?s:Oo[n]=s}};function px(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&se(e)){Ne(t.warnHtmlMessage)&&t.warnHtmlMessage;const n=(t.onCacheKey||E4)(e),i=Oo[n];if(i)return i;const{ast:o,detectError:a}=L4(e,{...t,location:!1,jit:!0}),s=Xc(o);return a?s:Oo[n]=s}else{const r=e.cacheKey;if(r){const n=Oo[r];return n||(Oo[r]=Xc(e))}else return Xc(e)}}const Hm=()=>"",xr=e=>lt(e);function Vm(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:o,fallbackLocale:a,messages:s}=e,[l,u]=m0(...t),c=Ne(u.missingWarn)?u.missingWarn:e.missingWarn,d=Ne(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,p=Ne(u.escapeParameter)?u.escapeParameter:e.escapeParameter,m=!!u.resolvedMessage,g=se(u.default)||Ne(u.default)?Ne(u.default)?o?l:()=>l:u.default:r?o?l:()=>l:"",y=r||g!=="",L=Fh(e,u);p&&mx(u);let[E,C,v]=m?[l,L,s[L]||{}]:A4(e,l,L,a,d,c),k=E,I=l;if(!m&&!(se(k)||oa(k)||xr(k))&&y&&(k=g,I=k),!m&&(!(se(k)||oa(k)||xr(k))||!se(C)))return i?ac:l;let T=!1;const R=()=>{T=!0},N=xr(k)?k:D4(e,l,C,k,I,R);if(T)return k;const z=bx(e,C,v,u),$=W_(z),be=fx(e,N,$),ue=n?n(be,l):be;if(__INTLIFY_PROD_DEVTOOLS__){const me={timestamp:Date.now(),key:se(l)?l:xr(k)?k.key:"",locale:C||(xr(k)?k.locale:""),format:se(k)?k:xr(k)?k.source:"",message:ue};me.meta=Rt({},e.__meta,ax()||{}),X_(me)}return ue}function mx(e){ht(e.list)?e.list=e.list.map(t=>se(t)?Lm(t):t):Qe(e.named)&&Object.keys(e.named).forEach(t=>{se(e.named[t])&&(e.named[t]=Lm(e.named[t]))})}function A4(e,t,r,n,i,o){const{messages:a,onWarn:s,messageResolver:l,localeFallbacker:u}=e,c=u(e,n,r);let d={},p,m=null;const g="translate";for(let y=0;y<c.length&&(p=c[y],d=a[p]||{},(m=l(d,t))===null&&(m=d[t]),!(se(m)||oa(m)||xr(m)));y++)if(!cx(p,c)){const L=Oh(e,t,p,o,g);L!==t&&(m=L)}return[m,p,d]}function D4(e,t,r,n,i,o){const{messageCompiler:a,warnHtmlMessage:s}=e;if(xr(n)){const u=n;return u.locale=u.locale||r,u.key=u.key||t,u}if(a==null){const u=()=>n;return u.locale=r,u.key=t,u}const l=a(n,gx(e,r,i,n,s,o));return l.locale=r,l.key=t,l.source=n,l}function fx(e,t,r){return t(r)}function m0(...e){const[t,r,n]=e,i={};if(!se(t)&&!Lt(t)&&!xr(t)&&!oa(t))throw Zr(Or.INVALID_ARGUMENT);const o=Lt(t)?String(t):(xr(t),t);return Lt(r)?i.plural=r:se(r)?i.default=r:Ce(r)&&!ic(r)?i.named=r:ht(r)&&(i.list=r),Lt(n)?i.plural=n:se(n)?i.default=n:Ce(n)&&Rt(i,n),[o,i]}function gx(e,t,r,n,i,o){return{locale:t,key:r,warnHtmlMessage:i,onError:a=>{throw o&&o(a),a},onCacheKey:a=>W8(t,r,a)}}function bx(e,t,r,n){const{modifiers:i,pluralRules:o,messageResolver:a,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,p={locale:t,modifiers:i,pluralRules:o,messages:m=>{let g=a(r,m);if(g==null&&c){const[,,y]=A4(c,m,t,s,l,u);g=a(y,m)}if(se(g)||oa(g)){let y=!1;const E=D4(e,m,t,g,m,()=>{y=!0});return y?Hm:E}else return xr(g)?g:Hm}};return e.processor&&(p.processor=e.processor),n.list&&(p.list=n.list),n.named&&(p.named=n.named),Lt(n.plural)&&(p.pluralIndex=n.plural),p}function Um(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:a}=e,{__datetimeFormatters:s}=e,[l,u,c,d]=f0(...t),p=Ne(c.missingWarn)?c.missingWarn:e.missingWarn;Ne(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const m=!!c.part,g=Fh(e,c),y=a(e,i,g);if(!se(l)||l==="")return new Intl.DateTimeFormat(g,d).format(u);let L={},E,C=null;const v="datetime format";for(let T=0;T<y.length&&(E=y[T],L=r[E]||{},C=L[l],!Ce(C));T++)Oh(e,l,E,p,v);if(!Ce(C)||!se(E))return n?ac:l;let k=`${E}__${l}`;ic(d)||(k=`${k}__${JSON.stringify(d)}`);let I=s.get(k);return I||(I=new Intl.DateTimeFormat(E,Rt({},C,d)),s.set(k,I)),m?I.formatToParts(u):I.format(u)}const B4=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function f0(...e){const[t,r,n,i]=e,o={};let a={},s;if(se(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Zr(Or.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();s=new Date(u);try{s.toISOString()}catch{throw Zr(Or.INVALID_ISO_DATE_ARGUMENT)}}else if(G8(t)){if(isNaN(t.getTime()))throw Zr(Or.INVALID_DATE_ARGUMENT);s=t}else if(Lt(t))s=t;else throw Zr(Or.INVALID_ARGUMENT);return se(r)?o.key=r:Ce(r)&&Object.keys(r).forEach(l=>{B4.includes(l)?a[l]=r[l]:o[l]=r[l]}),se(n)?o.locale=n:Ce(n)&&(a=n),Ce(i)&&(a=i),[o.key||"",s,o,a]}function Wm(e,t,r){const n=e;for(const i in r){const o=`${t}__${i}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function jm(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:o,localeFallbacker:a}=e,{__numberFormatters:s}=e,[l,u,c,d]=g0(...t),p=Ne(c.missingWarn)?c.missingWarn:e.missingWarn;Ne(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const m=!!c.part,g=Fh(e,c),y=a(e,i,g);if(!se(l)||l==="")return new Intl.NumberFormat(g,d).format(u);let L={},E,C=null;const v="number format";for(let T=0;T<y.length&&(E=y[T],L=r[E]||{},C=L[l],!Ce(C));T++)Oh(e,l,E,p,v);if(!Ce(C)||!se(E))return n?ac:l;let k=`${E}__${l}`;ic(d)||(k=`${k}__${JSON.stringify(d)}`);let I=s.get(k);return I||(I=new Intl.NumberFormat(E,Rt({},C,d)),s.set(k,I)),m?I.formatToParts(u):I.format(u)}const T4=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function g0(...e){const[t,r,n,i]=e,o={};let a={};if(!Lt(t))throw Zr(Or.INVALID_ARGUMENT);const s=t;return se(r)?o.key=r:Ce(r)&&Object.keys(r).forEach(l=>{T4.includes(l)?a[l]=r[l]:o[l]=r[l]}),se(n)?o.locale=n:Ce(n)&&(a=n),Ce(i)&&(a=i),[o.key||"",s,o,a]}function Gm(e,t,r){const n=e;for(const i in r){const o=`${t}__${i}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}D_();/*!
  * vue-i18n v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const yx="9.14.0";function vx(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(_n().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(_n().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(_n().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(_n().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(_n().__INTLIFY_PROD_DEVTOOLS__=!1)}const F4=Y_.__EXTEND_POINT__,sn=oc(F4);sn(),sn(),sn(),sn(),sn(),sn(),sn(),sn(),sn();const O4=Or.__EXTEND_POINT__,tr=oc(O4),At={UNEXPECTED_RETURN_TYPE:O4,INVALID_ARGUMENT:tr(),MUST_BE_CALL_SETUP_TOP:tr(),NOT_INSTALLED:tr(),NOT_AVAILABLE_IN_LEGACY_MODE:tr(),REQUIRED_VALUE:tr(),INVALID_VALUE:tr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:tr(),NOT_INSTALLED_WITH_PROVIDE:tr(),UNEXPECTED_ERROR:tr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:tr(),BRIDGE_SUPPORT_VUE_2_ONLY:tr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:tr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:tr(),__EXTEND_POINT__:tr()};function Ft(e,...t){return ha(e,null,void 0)}const b0=fi("__translateVNode"),y0=fi("__datetimeParts"),v0=fi("__numberParts"),P4=fi("__setPluralRules"),I4=fi("__injectWithOption"),_0=fi("__dispose");function bs(e){if(!Qe(e))return e;for(const t in e)if(wu(e,t))if(!t.includes("."))Qe(e[t])&&bs(e[t]);else{const r=t.split("."),n=r.length-1;let i=e,o=!1;for(let a=0;a<n;a++){if(r[a]in i||(i[r[a]]={}),!Qe(i[r[a]])){o=!0;break}i=i[r[a]]}o||(i[r[n]]=e[t],delete e[t]),Qe(i[r[n]])&&bs(i[r[n]])}return e}function sc(e,t){const{messages:r,__i18n:n,messageResolver:i,flatJson:o}=t,a=Ce(r)?r:ht(n)?{}:{[e]:{}};if(ht(n)&&n.forEach(s=>{if("locale"in s&&"resource"in s){const{locale:l,resource:u}=s;l?(a[l]=a[l]||{},iu(u,a[l])):iu(u,a)}else se(s)&&iu(JSON.parse(s),a)}),i==null&&o)for(const s in a)wu(a,s)&&bs(a[s]);return a}function N4(e){return e.type}function $4(e,t,r){let n=Qe(t.messages)?t.messages:{};"__i18nGlobal"in r&&(n=sc(e.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(o=>{e.mergeLocaleMessage(o,n[o])});{if(Qe(t.datetimeFormats)){const o=Object.keys(t.datetimeFormats);o.length&&o.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(Qe(t.numberFormats)){const o=Object.keys(t.numberFormats);o.length&&o.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function Xm(e){return ut(Ss,null,e,0)}const Jm="__INTLIFY_META__",Ym=()=>[],_x=()=>!1;let Zm=0;function Qm(e){return(t,r,n,i)=>e(r,n,ms()||void 0,i)}const xx=()=>{const e=ms();let t=null;return e&&(t=N4(e)[Jm])?{[Jm]:t}:null};function Ph(e={},t){const{__root:r,__injectWithOption:n}=e,i=r===void 0,o=e.flatJson,a=xu?vn:_h,s=!!e.translateExistCompatible;let l=Ne(e.inheritLocale)?e.inheritLocale:!0;const u=a(r&&l?r.locale.value:se(e.locale)?e.locale:ia),c=a(r&&l?r.fallbackLocale.value:se(e.fallbackLocale)||ht(e.fallbackLocale)||Ce(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:u.value),d=a(sc(u.value,e)),p=a(Ce(e.datetimeFormats)?e.datetimeFormats:{[u.value]:{}}),m=a(Ce(e.numberFormats)?e.numberFormats:{[u.value]:{}});let g=r?r.missingWarn:Ne(e.missingWarn)||li(e.missingWarn)?e.missingWarn:!0,y=r?r.fallbackWarn:Ne(e.fallbackWarn)||li(e.fallbackWarn)?e.fallbackWarn:!0,L=r?r.fallbackRoot:Ne(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.fallbackFormat,C=lt(e.missing)?e.missing:null,v=lt(e.missing)?Qm(e.missing):null,k=lt(e.postTranslation)?e.postTranslation:null,I=r?r.warnHtmlMessage:Ne(e.warnHtmlMessage)?e.warnHtmlMessage:!0,T=!!e.escapeParameter;const R=r?r.modifiers:Ce(e.modifiers)?e.modifiers:{};let N=e.pluralRules||r&&r.pluralRules,z;z=(()=>{i&&zm(null);const O={version:yx,locale:u.value,fallbackLocale:c.value,messages:d.value,modifiers:R,pluralRules:N,missing:v===null?void 0:v,missingWarn:g,fallbackWarn:y,fallbackFormat:E,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:I,escapeParameter:T,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};O.datetimeFormats=p.value,O.numberFormats=m.value,O.__datetimeFormatters=Ce(z)?z.__datetimeFormatters:void 0,O.__numberFormatters=Ce(z)?z.__numberFormatters:void 0;const K=lx(O);return i&&zm(K),K})(),Ma(z,u.value,c.value);function be(){return[u.value,c.value,d.value,p.value,m.value]}const ue=bt({get:()=>u.value,set:O=>{u.value=O,z.locale=u.value}}),me=bt({get:()=>c.value,set:O=>{c.value=O,z.fallbackLocale=c.value,Ma(z,u.value,O)}}),Me=bt(()=>d.value),Ae=bt(()=>p.value),fe=bt(()=>m.value);function re(){return lt(k)?k:null}function he(O){k=O,z.postTranslation=O}function Fe(){return C}function st(O){O!==null&&(v=Qm(O)),C=O,z.missing=v}const De=(O,K,pe,ge,je,St)=>{be();let zt;try{__INTLIFY_PROD_DEVTOOLS__,i||(z.fallbackContext=r?sx():void 0),zt=O(z)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(z.fallbackContext=void 0)}if(pe!=="translate exists"&&Lt(zt)&&zt===ac||pe==="translate exists"&&!zt){const[vi,Cn]=K();return r&&L?ge(r):je(vi)}else{if(St(zt))return zt;throw Ft(At.UNEXPECTED_RETURN_TYPE)}};function Pe(...O){return De(K=>Reflect.apply(Vm,null,[K,...O]),()=>m0(...O),"translate",K=>Reflect.apply(K.t,K,[...O]),K=>K,K=>se(K))}function tt(...O){const[K,pe,ge]=O;if(ge&&!Qe(ge))throw Ft(At.INVALID_ARGUMENT);return Pe(K,pe,Rt({resolvedMessage:!0},ge||{}))}function pt(...O){return De(K=>Reflect.apply(Um,null,[K,...O]),()=>f0(...O),"datetime format",K=>Reflect.apply(K.d,K,[...O]),()=>Nm,K=>se(K))}function W(...O){return De(K=>Reflect.apply(jm,null,[K,...O]),()=>g0(...O),"number format",K=>Reflect.apply(K.n,K,[...O]),()=>Nm,K=>se(K))}function oe(O){return O.map(K=>se(K)||Lt(K)||Ne(K)?Xm(String(K)):K)}const ce={normalize:oe,interpolate:O=>O,type:"vnode"};function $e(...O){return De(K=>{let pe;const ge=K;try{ge.processor=ce,pe=Reflect.apply(Vm,null,[ge,...O])}finally{ge.processor=null}return pe},()=>m0(...O),"translate",K=>K[b0](...O),K=>[Xm(K)],K=>ht(K))}function Re(...O){return De(K=>Reflect.apply(jm,null,[K,...O]),()=>g0(...O),"number format",K=>K[v0](...O),Ym,K=>se(K)||ht(K))}function Ee(...O){return De(K=>Reflect.apply(Um,null,[K,...O]),()=>f0(...O),"datetime format",K=>K[y0](...O),Ym,K=>se(K)||ht(K))}function ye(O){N=O,z.pluralRules=N}function S(O,K){return De(()=>{if(!O)return!1;const pe=se(K)?K:u.value,ge=Y(pe),je=z.messageResolver(ge,O);return s?je!=null:oa(je)||xr(je)||se(je)},()=>[O],"translate exists",pe=>Reflect.apply(pe.te,pe,[O,K]),_x,pe=>Ne(pe))}function x(O){let K=null;const pe=x4(z,c.value,u.value);for(let ge=0;ge<pe.length;ge++){const je=d.value[pe[ge]]||{},St=z.messageResolver(je,O);if(St!=null){K=St;break}}return K}function F(O){const K=x(O);return K??(r?r.tm(O)||{}:{})}function Y(O){return d.value[O]||{}}function X(O,K){if(o){const pe={[O]:K};for(const ge in pe)wu(pe,ge)&&bs(pe[ge]);K=pe[O]}d.value[O]=K,z.messages=d.value}function Q(O,K){d.value[O]=d.value[O]||{};const pe={[O]:K};if(o)for(const ge in pe)wu(pe,ge)&&bs(pe[ge]);K=pe[O],iu(K,d.value[O]),z.messages=d.value}function ie(O){return p.value[O]||{}}function _(O,K){p.value[O]=K,z.datetimeFormats=p.value,Wm(z,O,K)}function w(O,K){p.value[O]=Rt(p.value[O]||{},K),z.datetimeFormats=p.value,Wm(z,O,K)}function D(O){return m.value[O]||{}}function U(O,K){m.value[O]=K,z.numberFormats=m.value,Gm(z,O,K)}function ee(O,K){m.value[O]=Rt(m.value[O]||{},K),z.numberFormats=m.value,Gm(z,O,K)}Zm++,r&&xu&&(ii(r.locale,O=>{l&&(u.value=O,z.locale=O,Ma(z,u.value,c.value))}),ii(r.fallbackLocale,O=>{l&&(c.value=O,z.fallbackLocale=O,Ma(z,u.value,c.value))}));const J={id:Zm,locale:ue,fallbackLocale:me,get inheritLocale(){return l},set inheritLocale(O){l=O,O&&r&&(u.value=r.locale.value,c.value=r.fallbackLocale.value,Ma(z,u.value,c.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:Me,get modifiers(){return R},get pluralRules(){return N||{}},get isGlobal(){return i},get missingWarn(){return g},set missingWarn(O){g=O,z.missingWarn=g},get fallbackWarn(){return y},set fallbackWarn(O){y=O,z.fallbackWarn=y},get fallbackRoot(){return L},set fallbackRoot(O){L=O},get fallbackFormat(){return E},set fallbackFormat(O){E=O,z.fallbackFormat=E},get warnHtmlMessage(){return I},set warnHtmlMessage(O){I=O,z.warnHtmlMessage=O},get escapeParameter(){return T},set escapeParameter(O){T=O,z.escapeParameter=O},t:Pe,getLocaleMessage:Y,setLocaleMessage:X,mergeLocaleMessage:Q,getPostTranslationHandler:re,setPostTranslationHandler:he,getMissingHandler:Fe,setMissingHandler:st,[P4]:ye};return J.datetimeFormats=Ae,J.numberFormats=fe,J.rt=tt,J.te=S,J.tm=F,J.d=pt,J.n=W,J.getDateTimeFormat=ie,J.setDateTimeFormat=_,J.mergeDateTimeFormat=w,J.getNumberFormat=D,J.setNumberFormat=U,J.mergeNumberFormat=ee,J[I4]=n,J[b0]=$e,J[y0]=Ee,J[v0]=Re,J}function wx(e){const t=se(e.locale)?e.locale:ia,r=se(e.fallbackLocale)||ht(e.fallbackLocale)||Ce(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,n=lt(e.missing)?e.missing:void 0,i=Ne(e.silentTranslationWarn)||li(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,o=Ne(e.silentFallbackWarn)||li(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=Ne(e.fallbackRoot)?e.fallbackRoot:!0,s=!!e.formatFallbackMessages,l=Ce(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=lt(e.postTranslation)?e.postTranslation:void 0,d=se(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,m=Ne(e.sync)?e.sync:!0;let g=e.messages;if(Ce(e.sharedMessages)){const T=e.sharedMessages;g=Object.keys(T).reduce((N,z)=>{const $=N[z]||(N[z]={});return Rt($,T[z]),N},g||{})}const{__i18n:y,__root:L,__injectWithOption:E}=e,C=e.datetimeFormats,v=e.numberFormats,k=e.flatJson,I=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:g,flatJson:k,datetimeFormats:C,numberFormats:v,missing:n,missingWarn:i,fallbackWarn:o,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:m,translateExistCompatible:I,__i18n:y,__root:L,__injectWithOption:E}}function x0(e={},t){{const r=Ph(wx(e)),{__extender:n}=e,i={id:r.id,get locale(){return r.locale.value},set locale(o){r.locale.value=o},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(o){r.fallbackLocale.value=o},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return r.getMissingHandler()},set missing(o){r.setMissingHandler(o)},get silentTranslationWarn(){return Ne(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(o){r.missingWarn=Ne(o)?!o:o},get silentFallbackWarn(){return Ne(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(o){r.fallbackWarn=Ne(o)?!o:o},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(o){r.fallbackFormat=o},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(o){r.setPostTranslationHandler(o)},get sync(){return r.inheritLocale},set sync(o){r.inheritLocale=o},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){r.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(o){r.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...o){const[a,s,l]=o,u={};let c=null,d=null;if(!se(a))throw Ft(At.INVALID_ARGUMENT);const p=a;return se(s)?u.locale=s:ht(s)?c=s:Ce(s)&&(d=s),ht(l)?c=l:Ce(l)&&(d=l),Reflect.apply(r.t,r,[p,c||d||{},u])},rt(...o){return Reflect.apply(r.rt,r,[...o])},tc(...o){const[a,s,l]=o,u={plural:1};let c=null,d=null;if(!se(a))throw Ft(At.INVALID_ARGUMENT);const p=a;return se(s)?u.locale=s:Lt(s)?u.plural=s:ht(s)?c=s:Ce(s)&&(d=s),se(l)?u.locale=l:ht(l)?c=l:Ce(l)&&(d=l),Reflect.apply(r.t,r,[p,c||d||{},u])},te(o,a){return r.te(o,a)},tm(o){return r.tm(o)},getLocaleMessage(o){return r.getLocaleMessage(o)},setLocaleMessage(o,a){r.setLocaleMessage(o,a)},mergeLocaleMessage(o,a){r.mergeLocaleMessage(o,a)},d(...o){return Reflect.apply(r.d,r,[...o])},getDateTimeFormat(o){return r.getDateTimeFormat(o)},setDateTimeFormat(o,a){r.setDateTimeFormat(o,a)},mergeDateTimeFormat(o,a){r.mergeDateTimeFormat(o,a)},n(...o){return Reflect.apply(r.n,r,[...o])},getNumberFormat(o){return r.getNumberFormat(o)},setNumberFormat(o,a){r.setNumberFormat(o,a)},mergeNumberFormat(o,a){r.mergeNumberFormat(o,a)},getChoiceIndex(o,a){return-1}};return i.__extender=n,i}}const Ih={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function kx({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((n,i)=>[...n,...i.type===Yt?i.children:[i]],[]):t.reduce((r,n)=>{const i=e[n];return i&&(r[n]=i()),r},{})}function R4(e){return Yt}const Mx=Ms({name:"i18n-t",props:Rt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Lt(e)||!isNaN(e)}},Ih),setup(e,t){const{slots:r,attrs:n}=t,i=e.i18n||Nh({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(r).filter(d=>d!=="_"),a={};e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=se(e.plural)?+e.plural:e.plural);const s=kx(t,o),l=i[b0](e.keypath,s,a),u=Rt({},n),c=se(e.tag)||Qe(e.tag)?e.tag:R4();return rc(c,u,l)}}}),ef=Mx;function Sx(e){return ht(e)&&!se(e[0])}function z4(e,t,r,n){const{slots:i,attrs:o}=t;return()=>{const a={part:!0};let s={};e.locale&&(a.locale=e.locale),se(e.format)?a.key=e.format:Qe(e.format)&&(se(e.format.key)&&(a.key=e.format.key),s=Object.keys(e.format).reduce((p,m)=>r.includes(m)?Rt({},p,{[m]:e.format[m]}):p,{}));const l=n(e.value,a,s);let u=[a.key];ht(l)?u=l.map((p,m)=>{const g=i[p.type],y=g?g({[p.type]:p.value,index:m,parts:l}):[p.value];return Sx(y)&&(y[0].key=`${p.type}-${m}`),y}):se(l)&&(u=[l]);const c=Rt({},o),d=se(e.tag)||Qe(e.tag)?e.tag:R4();return rc(d,c,u)}}const Cx=Ms({name:"i18n-n",props:Rt({value:{type:Number,required:!0},format:{type:[String,Object]}},Ih),setup(e,t){const r=e.i18n||Nh({useScope:e.scope,__useComponent:!0});return z4(e,t,T4,(...n)=>r[v0](...n))}}),tf=Cx,Ex=Ms({name:"i18n-d",props:Rt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ih),setup(e,t){const r=e.i18n||Nh({useScope:e.scope,__useComponent:!0});return z4(e,t,B4,(...n)=>r[y0](...n))}}),rf=Ex;function Lx(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const n=r.__getInstance(t);return n!=null?n.__composer:e.global.__composer}}function Ax(e){const t=a=>{const{instance:s,modifiers:l,value:u}=a;if(!s||!s.$)throw Ft(At.UNEXPECTED_ERROR);const c=Lx(e,s.$),d=nf(u);return[Reflect.apply(c.t,c,[...of(d)]),c]};return{created:(a,s)=>{const[l,u]=t(s);xu&&e.global===u&&(a.__i18nWatcher=ii(u.locale,()=>{s.instance&&s.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{xu&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:s})=>{if(a.__composer){const l=a.__composer,u=nf(s);a.textContent=Reflect.apply(l.t,l,[...of(u)])}},getSSRProps:a=>{const[s]=t(a);return{textContent:s}}}}function nf(e){if(se(e))return{path:e};if(Ce(e)){if(!("path"in e))throw Ft(At.REQUIRED_VALUE,"path");return e}else throw Ft(At.INVALID_VALUE)}function of(e){const{path:t,locale:r,args:n,choice:i,plural:o}=e,a={},s=n||{};return se(r)&&(a.locale=r),Lt(i)&&(a.plural=i),Lt(o)&&(a.plural=o),[t,s,a]}function Dx(e,t,...r){const n=Ce(r[0])?r[0]:{},i=!!n.useI18nComponentName;(Ne(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":ef.name,"I18nT"].forEach(a=>e.component(a,ef)),[tf.name,"I18nN"].forEach(a=>e.component(a,tf)),[rf.name,"I18nD"].forEach(a=>e.component(a,rf))),e.directive("t",Ax(t))}function Bx(e,t,r){return{beforeCreate(){const n=ms();if(!n)throw Ft(At.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=t,this===this.$root)this.$i18n=af(e,o);else{o.__injectWithOption=!0,o.__extender=r.__vueI18nExtend,this.$i18n=x0(o);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=af(e,i);else{this.$i18n=x0({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&$4(t,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,a)=>this.$i18n.te(o,a),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=ms();if(!n)throw Ft(At.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function af(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[P4](t.pluralizationRules||e.pluralizationRules);const r=sc(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(n=>e.mergeLocaleMessage(n,r[n])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const Tx=fi("global-vue-i18n");function Fx(e={},t){const r=__VUE_I18N_LEGACY_API__&&Ne(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=Ne(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,o=new Map,[a,s]=Ox(e,r),l=fi("");function u(p){return o.get(p)||null}function c(p,m){o.set(p,m)}function d(p){o.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(m,...g){if(m.__VUE_I18N_SYMBOL__=l,m.provide(m.__VUE_I18N_SYMBOL__,p),Ce(g[0])){const E=g[0];p.__composerExtend=E.__composerExtend,p.__vueI18nExtend=E.__vueI18nExtend}let y=null;!r&&n&&(y=Hx(m,p.global)),__VUE_I18N_FULL_INSTALL__&&Dx(m,p,...g),__VUE_I18N_LEGACY_API__&&r&&m.mixin(Bx(s,s.__composer,p));const L=m.unmount;m.unmount=()=>{y&&y(),p.dispose(),L()}},get global(){return s},dispose(){a.stop()},__instances:o,__getInstance:u,__setInstance:c,__deleteInstance:d};return p}}function Nh(e={}){const t=ms();if(t==null)throw Ft(At.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ft(At.NOT_INSTALLED);const r=Px(t),n=Nx(r),i=N4(t),o=Ix(e,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw Ft(At.NOT_AVAILABLE_IN_LEGACY_MODE);return Kx(t,o,n,e)}if(o==="global")return $4(n,e,i),n;if(o==="parent"){let l=$x(r,t,e.__useComponent);return l==null&&(l=n),l}const a=r;let s=a.__getInstance(t);if(s==null){const l=Rt({},e);"__i18n"in i&&(l.__i18n=i.__i18n),n&&(l.__root=n),s=Ph(l),a.__composerExtend&&(s[_0]=a.__composerExtend(s)),zx(a,t,s),a.__setInstance(t,s)}return s}function Ox(e,t,r){const n=dh();{const i=__VUE_I18N_LEGACY_API__&&t?n.run(()=>x0(e)):n.run(()=>Ph(e));if(i==null)throw Ft(At.UNEXPECTED_ERROR);return[n,i]}}function Px(e){{const t=Ir(e.isCE?Tx:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ft(e.isCE?At.NOT_INSTALLED_WITH_PROVIDE:At.UNEXPECTED_ERROR);return t}}function Ix(e,t){return ic(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Nx(e){return e.mode==="composition"?e.global:e.global.__composer}function $x(e,t,r=!1){let n=null;const i=t.root;let o=Rx(t,r);for(;o!=null;){const a=e;if(e.mode==="composition")n=a.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const s=a.__getInstance(o);s!=null&&(n=s.__composer,r&&n&&!n[I4]&&(n=null))}if(n!=null||i===o)break;o=o.parent}return n}function Rx(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function zx(e,t,r){Fy(()=>{},t),Mh(()=>{const n=r;e.__deleteInstance(t);const i=n[_0];i&&(i(),delete n[_0])},t)}function Kx(e,t,r,n={}){const i=t==="local",o=_h(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Ft(At.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=Ne(n.inheritLocale)?n.inheritLocale:!se(n.locale),s=vn(!i||a?r.locale.value:se(n.locale)?n.locale:ia),l=vn(!i||a?r.fallbackLocale.value:se(n.fallbackLocale)||ht(n.fallbackLocale)||Ce(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:s.value),u=vn(sc(s.value,n)),c=vn(Ce(n.datetimeFormats)?n.datetimeFormats:{[s.value]:{}}),d=vn(Ce(n.numberFormats)?n.numberFormats:{[s.value]:{}}),p=i?r.missingWarn:Ne(n.missingWarn)||li(n.missingWarn)?n.missingWarn:!0,m=i?r.fallbackWarn:Ne(n.fallbackWarn)||li(n.fallbackWarn)?n.fallbackWarn:!0,g=i?r.fallbackRoot:Ne(n.fallbackRoot)?n.fallbackRoot:!0,y=!!n.fallbackFormat,L=lt(n.missing)?n.missing:null,E=lt(n.postTranslation)?n.postTranslation:null,C=i?r.warnHtmlMessage:Ne(n.warnHtmlMessage)?n.warnHtmlMessage:!0,v=!!n.escapeParameter,k=i?r.modifiers:Ce(n.modifiers)?n.modifiers:{},I=n.pluralRules||i&&r.pluralRules;function T(){return[s.value,l.value,u.value,c.value,d.value]}const R=bt({get:()=>o.value?o.value.locale.value:s.value,set:x=>{o.value&&(o.value.locale.value=x),s.value=x}}),N=bt({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:x=>{o.value&&(o.value.fallbackLocale.value=x),l.value=x}}),z=bt(()=>o.value?o.value.messages.value:u.value),$=bt(()=>c.value),be=bt(()=>d.value);function ue(){return o.value?o.value.getPostTranslationHandler():E}function me(x){o.value&&o.value.setPostTranslationHandler(x)}function Me(){return o.value?o.value.getMissingHandler():L}function Ae(x){o.value&&o.value.setMissingHandler(x)}function fe(x){return T(),x()}function re(...x){return o.value?fe(()=>Reflect.apply(o.value.t,null,[...x])):fe(()=>"")}function he(...x){return o.value?Reflect.apply(o.value.rt,null,[...x]):""}function Fe(...x){return o.value?fe(()=>Reflect.apply(o.value.d,null,[...x])):fe(()=>"")}function st(...x){return o.value?fe(()=>Reflect.apply(o.value.n,null,[...x])):fe(()=>"")}function De(x){return o.value?o.value.tm(x):{}}function Pe(x,F){return o.value?o.value.te(x,F):!1}function tt(x){return o.value?o.value.getLocaleMessage(x):{}}function pt(x,F){o.value&&(o.value.setLocaleMessage(x,F),u.value[x]=F)}function W(x,F){o.value&&o.value.mergeLocaleMessage(x,F)}function oe(x){return o.value?o.value.getDateTimeFormat(x):{}}function ne(x,F){o.value&&(o.value.setDateTimeFormat(x,F),c.value[x]=F)}function ce(x,F){o.value&&o.value.mergeDateTimeFormat(x,F)}function $e(x){return o.value?o.value.getNumberFormat(x):{}}function Re(x,F){o.value&&(o.value.setNumberFormat(x,F),d.value[x]=F)}function Ee(x,F){o.value&&o.value.mergeNumberFormat(x,F)}const ye={get id(){return o.value?o.value.id:-1},locale:R,fallbackLocale:N,messages:z,datetimeFormats:$,numberFormats:be,get inheritLocale(){return o.value?o.value.inheritLocale:a},set inheritLocale(x){o.value&&(o.value.inheritLocale=x)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(u.value)},get modifiers(){return o.value?o.value.modifiers:k},get pluralRules(){return o.value?o.value.pluralRules:I},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:p},set missingWarn(x){o.value&&(o.value.missingWarn=x)},get fallbackWarn(){return o.value?o.value.fallbackWarn:m},set fallbackWarn(x){o.value&&(o.value.missingWarn=x)},get fallbackRoot(){return o.value?o.value.fallbackRoot:g},set fallbackRoot(x){o.value&&(o.value.fallbackRoot=x)},get fallbackFormat(){return o.value?o.value.fallbackFormat:y},set fallbackFormat(x){o.value&&(o.value.fallbackFormat=x)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:C},set warnHtmlMessage(x){o.value&&(o.value.warnHtmlMessage=x)},get escapeParameter(){return o.value?o.value.escapeParameter:v},set escapeParameter(x){o.value&&(o.value.escapeParameter=x)},t:re,getPostTranslationHandler:ue,setPostTranslationHandler:me,getMissingHandler:Me,setMissingHandler:Ae,rt:he,d:Fe,n:st,tm:De,te:Pe,getLocaleMessage:tt,setLocaleMessage:pt,mergeLocaleMessage:W,getDateTimeFormat:oe,setDateTimeFormat:ne,mergeDateTimeFormat:ce,getNumberFormat:$e,setNumberFormat:Re,mergeNumberFormat:Ee};function S(x){x.locale.value=s.value,x.fallbackLocale.value=l.value,Object.keys(u.value).forEach(F=>{x.mergeLocaleMessage(F,u.value[F])}),Object.keys(c.value).forEach(F=>{x.mergeDateTimeFormat(F,c.value[F])}),Object.keys(d.value).forEach(F=>{x.mergeNumberFormat(F,d.value[F])}),x.escapeParameter=v,x.fallbackFormat=y,x.fallbackRoot=g,x.fallbackWarn=m,x.missingWarn=p,x.warnHtmlMessage=C}return Ty(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Ft(At.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const x=o.value=e.proxy.$i18n.__composer;t==="global"?(s.value=x.locale.value,l.value=x.fallbackLocale.value,u.value=x.messages.value,c.value=x.datetimeFormats.value,d.value=x.numberFormats.value):i&&S(x)}),ye}const qx=["locale","fallbackLocale","availableLocales"],sf=["t","rt","d","n","tm","te"];function Hx(e,t){const r=Object.create(null);return qx.forEach(i=>{const o=Object.getOwnPropertyDescriptor(t,i);if(!o)throw Ft(At.UNEXPECTED_ERROR);const a=Mt(o.value)?{get(){return o.value.value},set(s){o.value.value=s}}:{get(){return o.get&&o.get()}};Object.defineProperty(r,i,a)}),e.config.globalProperties.$i18n=r,sf.forEach(i=>{const o=Object.getOwnPropertyDescriptor(t,i);if(!o||!o.value)throw Ft(At.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,o)}),()=>{delete e.config.globalProperties.$i18n,sf.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}vx();__INTLIFY_JIT_COMPILATION__?Rm(px):Rm(hx);nx($_);ix(x4);if(__INTLIFY_PROD_DEVTOOLS__){const e=_n();e.__INTLIFY__=!0,j_(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Vx="EN",Ux="Documentation",Wx="About us",jx="GTCs",Gx="Minimization",Xx="Maximization",Jx="Condition",Yx="Constraint",Zx="Add Constraint",Qx="Solve",e7="Type of problem:",t7="Hi, we are Hannah, Jona, Tom and Nele, a team of 5th semester Business Informatics students at Lingen University of Applied Sciences. As part of our programming project, we have developed LinSolve - the platform that helps you with mathematical problems in the field of Operations Research (OR). Our mission? To solve OR problems quickly and easily - without complicated tools. LinSolve helps you with linear equations, optimization problems and more, in an understandable way. Developed by students for students, we want to make everyday studying easier. Test LinSolve and give us feedback - we look forward to it! Your LinSolve team",r7="About us - The LinSolve team",n7="General Terms and Conditions (GTC) for LinSolve",i7="Scope",o7="These General Terms and Conditions (GTC) govern the use of the LinSolve website and the associated services. By accessing and using the website, you agree to the following terms.",a7="Open Source Lizenz",s7="The underlying code of LinSolve is open source and is subject to the [insert applicable open-source license, e.g., MIT license]. This means that you may download, modify, and redistribute the code as long as the conditions of the respective license are met. For detailed information on the license and its conditions, please refer to the corresponding documentation in the repository.",l7="Disclaimer",u7="LinSolve and its developers assume no liability for the accuracy, completeness, or timeliness of the provided information and calculations. The use of the website is at your own risk. We accept no responsibility for possible errors or damages resulting from the use of the platform.",c7="⁠Changes and Availability",d7="We reserve the right to update, modify, or temporarily or permanently discontinue the website at any time. We are not liable for any downtime or data loss.",h7="LinSolve does not collect personal data unless you voluntarily contact us via feedback forms. In this case, the data will only be used to respond to your inquiries and will not be shared with third parties.",p7={language:Vx,documentation:Ux,aboutUs:Wx,gtcs:jx,minimization:Gx,maximization:Xx,condition:Jx,constraint:Yx,addConstraint:Zx,solve:Qx,optimizationType:e7,aboutUsText:t7,aboutUsHeadline:r7,gtcsHeadline:n7,scope:i7,scopeText:o7,"⁠useOfTheWebsite":" ⁠Use of the Website","⁠useOfTheWebsiteText":"LinSolve is an open-source platform that supports students in solving mathematical problems in the field of Operations Research (OR). All content and tools provided on this website may be used free of charge.",openSourceLizenz:a7,openSourceLizenzText:s7,disclaimer:l7,disclaimerText:u7,changesAndAvailability:c7,changesAndAvailabilityText:d7,"⁠dataProtection":"Data Protection",dataProtectionText:h7,"⁠applicableLaw":"⁠Applicable Law","⁠applicablaLawText":"These GTC are governed by German law."},m7="DE",f7="Dokumentation",g7="Über uns",b7="AGB",y7="Minimierung",v7="Maximierung",_7="Bedingung",x7="Nebenbedingung",w7="Neue Nebenbedingung",k7="Lösen",M7="Art des Problems:",S7="Hi! Wir sind Hannah, Jona, Tom und Nele, ein Team aus Wirtschaftsinformatik-Studierenden der Hochschule Lingen im 5. Semester. Im Rahmen unseres Programmierprojekts haben wir LinSolve entwickelt – die Plattform, die euch bei mathematischen Problemen im Bereich Operations Research (OR) unter die Arme greift. Unsere Mission? OR-Probleme schnell und einfach lösen – ohne komplizierte Tools. LinSolve hilft euch bei linearen Gleichungen, Optimierungsproblemen und mehr, und das auf verständliche Weise. Entwickelt von Studierenden für Studierende, wollen wir den Studienalltag erleichtern. Testet LinSolve und gebt uns Feedback – wir freuen uns drauf! Euer LinSolve-Team ",C7=" Über uns – Das LinSolve-Team",E7="Allgemeine Geschäftsbedingungen (AGB) für LinSolve",L7="Geltungsbereich",A7=" Diese Allgemeinen Geschäftsbedingungen (AGB) regeln die Nutzung der Website LinSolve und der damit verbundenen Dienstleistungen. Durch den Zugriff auf und die Nutzung der Website erklärst du dich mit den folgenden Bedingungen einverstanden.",D7="Der zugrunde liegende Code von LinSolve ist Open Source und unterliegt der [hier passende Open-Source-Lizenz einfügen, z.B. MIT-Lizenz]. Das bedeutet, dass du den Code herunterladen, modifizieren und weiterverbreiten kannst, solange die Bedingungen der jeweiligen Lizenz eingehalten werden. Für detaillierte Informationen zur Lizenz und deren Bedingungen lies bitte die entsprechende Dokumentation im Repository.",B7="Haftungsausschluss",T7="LinSolve und die Entwickler übernehmen keine Haftung für die Richtigkeit, Vollständigkeit oder Aktualität der bereitgestellten Informationen und Berechnungen. Die Nutzung der Website erfolgt auf eigene Gefahr. Für mögliche Fehler oder Schäden, die durch die Nutzung der Plattform entstehen, übernehmen wir keine Verantwortung.",F7="Änderungen und Verfügbarkeit",O7=" Wir behalten uns das Recht vor, die Website jederzeit zu aktualisieren, zu verändern oder vorübergehend oder dauerhaft einzustellen. Für eventuelle Ausfallzeiten oder Datenverluste haften wir nicht.",P7="LinSolve erhebt keine personenbezogenen Daten, es sei denn, du kontaktierst uns freiwillig über Feedback-Formulare oder E-Mail. In diesem Fall werden die Daten ausschließlich zur Beantwortung deiner Anfragen genutzt und nicht an Dritte weitergegeben.",I7={language:m7,documentation:f7,aboutUs:g7,gtcs:b7,minimization:y7,maximization:v7,condition:_7,constraint:x7,addConstraint:w7,solve:k7,optimizationType:M7,aboutUsText:S7,aboutUsHeadline:C7,gtcsHeadline:E7,scope:L7,scopeText:A7,"⁠useOfTheWebsite":"Nutzung der Website","⁠useOfTheWebsiteText":" LinSolve ist eine Open-Source-Plattform, die Studierende bei der Lösung mathematischer Probleme im Bereich Operations Research (OR) unterstützt. Alle auf dieser Website zur Verfügung gestellten Inhalte und Tools dürfen kostenlos genutzt werden.","⁠openSourceLicense":"Open Source Lizenz",openSourceLizenzText:D7,disclaimer:B7,disclaimerText:T7,changesAndAvailability:F7,changesAndAvailabilityText:O7,"⁠dataProtection":"Datenschutz",dataProtectionText:P7,"⁠applicableLaw":"Anwendbares Recht","⁠applicablaLawText":"Diese AGB unterliegen dem deutschen Recht."},N7={en:p7,de:I7};let w0=Fx({locale:"de",fallbackLocale:"de",messages:N7});var $7=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let K4;const lc=e=>K4=e,q4=Symbol();function k0(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ts;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ts||(ts={}));function R7(){const e=dh(!0),t=e.run(()=>vn({}));let r=[],n=[];const i=yh({install(o){lc(i),i._a=o,o.provide(q4,i),o.config.globalProperties.$pinia=i,n.forEach(a=>r.push(a)),n=[]},use(o){return!this._a&&!$7?n.push(o):r.push(o),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return i}const H4=()=>{};function lf(e,t,r,n=H4){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),n())};return!r&&oy()&&Dv(i),i}function fo(e,...t){e.slice().forEach(r=>{r(...t)})}const z7=e=>e(),uf=Symbol(),Jc=Symbol();function M0(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],i=e[r];k0(i)&&k0(n)&&e.hasOwnProperty(r)&&!Mt(n)&&!Qi(n)?e[r]=M0(i,n):e[r]=n}return e}const K7=Symbol();function q7(e){return!k0(e)||!e.hasOwnProperty(K7)}const{assign:Un}=Object;function H7(e){return!!(Mt(e)&&e.effect)}function V7(e,t,r,n){const{state:i,actions:o,getters:a}=t,s=r.state.value[e];let l;function u(){s||(r.state.value[e]=i?i():{});const c=t6(r.state.value[e]);return Un(c,o,Object.keys(a||{}).reduce((d,p)=>(d[p]=yh(bt(()=>{lc(r);const m=r._s.get(e);return a[p].call(m,m)})),d),{}))}return l=V4(e,u,t,r,n,!0),l}function V4(e,t,r={},n,i,o){let a;const s=Un({actions:{}},r),l={deep:!0};let u,c,d=[],p=[],m;const g=n.state.value[e];!o&&!g&&(n.state.value[e]={}),vn({});let y;function L(N){let z;u=c=!1,typeof N=="function"?(N(n.state.value[e]),z={type:ts.patchFunction,storeId:e,events:m}):(M0(n.state.value[e],N),z={type:ts.patchObject,payload:N,storeId:e,events:m});const $=y=Symbol();wh().then(()=>{y===$&&(u=!0)}),c=!0,fo(d,z,n.state.value[e])}const E=o?function(){const{state:z}=r,$=z?z():{};this.$patch(be=>{Un(be,$)})}:H4;function C(){a.stop(),d=[],p=[],n._s.delete(e)}const v=(N,z="")=>{if(uf in N)return N[Jc]=z,N;const $=function(){lc(n);const be=Array.from(arguments),ue=[],me=[];function Me(re){ue.push(re)}function Ae(re){me.push(re)}fo(p,{args:be,name:$[Jc],store:I,after:Me,onError:Ae});let fe;try{fe=N.apply(this&&this.$id===e?this:I,be)}catch(re){throw fo(me,re),re}return fe instanceof Promise?fe.then(re=>(fo(ue,re),re)).catch(re=>(fo(me,re),Promise.reject(re))):(fo(ue,fe),fe)};return $[uf]=!0,$[Jc]=z,$},k={_p:n,$id:e,$onAction:lf.bind(null,p),$patch:L,$reset:E,$subscribe(N,z={}){const $=lf(d,N,z.detached,()=>be()),be=a.run(()=>ii(()=>n.state.value[e],ue=>{(z.flush==="sync"?c:u)&&N({storeId:e,type:ts.direct,events:m},ue)},Un({},l,z)));return $},$dispose:C},I=ca(k);n._s.set(e,I);const R=(n._a&&n._a.runWithContext||z7)(()=>n._e.run(()=>(a=dh()).run(()=>t({action:v}))));for(const N in R){const z=R[N];if(Mt(z)&&!H7(z)||Qi(z))o||(g&&q7(z)&&(Mt(z)?z.value=g[N]:M0(z,g[N])),n.state.value[e][N]=z);else if(typeof z=="function"){const $=v(z,N);R[N]=$,s.actions[N]=z}}return Un(I,R),Un(We(I),R),Object.defineProperty(I,"$state",{get:()=>n.state.value[e],set:N=>{L(z=>{Un(z,N)})}}),n._p.forEach(N=>{Un(I,a.run(()=>N({store:I,app:n._a,pinia:n,options:s})))}),g&&o&&r.hydrate&&r.hydrate(I.$state,g),u=!0,c=!0,I}function $h(e,t,r){let n,i;const o=typeof t=="function";typeof e=="string"?(n=e,i=o?r:t):(i=e,n=e.id);function a(s,l){const u=D6();return s=s||(u?Ir(q4,null):null),s&&lc(s),s=K4,s._s.has(n)||(o?V4(n,t,i,s):V7(n,i,s)),s._s.get(n)}return a.$id=n,a}const U7=$h("i18n",{state:()=>({locale:w0.global.locale}),actions:{setLocale(e){this.locale=e,w0.global.locale=e}}}),W7=$h("dropdown",{state:()=>({isOpen:!1}),actions:{toggleDropdown(){this.isOpen=!this.isOpen}}}),j7="/linsolve/assets/globe-E-gmkbOy.png",bi=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},G7={name:"Header",setup(){const e=U7(),t=W7();return{i18nStore:e,dropdown:t}},methods:{changeLocale(e){this.i18nStore.setLocale(e)},toggleLanguageDropdown(){this.dropdown.toggleDropdown()}}},X7=e=>(Ey("data-v-8de068d5"),e=e(),Ly(),e),J7={class:"header"},Y7=X7(()=>we("h1",{class:"title"},"LinSolve",-1)),Z7={key:0,class:"dropdown-menu"};function Q7(e,t,r,n,i,o){return fr(),kr("header",J7,[Y7,we("img",{src:j7,alt:"language selection",class:"globe",onClick:t[0]||(t[0]=a=>o.toggleLanguageDropdown())}),we("p",{class:"language",onClick:t[1]||(t[1]=a=>o.toggleLanguageDropdown())},nt(e.$t("language")),1),n.dropdown.isOpen?(fr(),kr("div",Z7,[we("p",{class:"dropdown-link",onClick:t[2]||(t[2]=a=>o.changeLocale("de"))},"Deutsch"),we("p",{class:"dropdown-link",onClick:t[3]||(t[3]=a=>o.changeLocale("en"))},"English")])):i5("",!0)])}const Rh=bi(G7,[["render",Q7],["__scopeId","data-v-8de068d5"]]);var e9=Object.defineProperty,t9=Object.defineProperties,r9=Object.getOwnPropertyDescriptors,Mu=Object.getOwnPropertySymbols,U4=Object.prototype.hasOwnProperty,W4=Object.prototype.propertyIsEnumerable,cf=(e,t,r)=>t in e?e9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M=(e,t)=>{for(var r in t||(t={}))U4.call(t,r)&&cf(e,r,t[r]);if(Mu)for(var r of Mu(t))W4.call(t,r)&&cf(e,r,t[r]);return e},B=(e,t)=>t9(e,r9(t)),df=e=>typeof e=="symbol"?e:e+"",Su=(e,t)=>{var r={};for(var n in e)U4.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Mu)for(var n of Mu(e))t.indexOf(n)<0&&W4.call(e,n)&&(r[n]=e[n]);return r};function Pt(e){return Array.isArray(e)}var n9={en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz wirtualną klawiaturę","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.undo":"Скасувати","menu.insert matrix":"Вставити матрицю","menu.borders":"Матричні роздільники","menu.array.add row above":"Додати рядок після","menu.array.add row below":"Додати рядок до","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","tooltip.blackboard":"Чорна дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Скрипт","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Машинка для письма","tooltip.roman-upright":"Римський прямий","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Декорація","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Вирішити","menu.solve-for":"Вирішити для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лайм","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}};function Cr(){return"window"in globalThis&&"document"in globalThis}function j4(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function i9(){try{return window.self!==window.top}catch{return!0}}function G4(){return typeof navigator.vibrate=="function"}function pa(){var e,t;if(!Cr())return"other";let r=(t=(e=navigator.userAgentData)==null?void 0:e.platform)!=null?t:navigator.platform;return/^mac/i.test(r)?navigator.maxTouchPoints===5?"ios":"macos":/^win/i.test(r)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function o9(){if(!Cr())return!0;if(/firefox/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/firefox\/(\d+)/i);return e?parseInt(e[1])>=78:!1}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/edg\/(\d+)/i);return e?parseInt(e[1])>=79:!1}return!0}function hf(){return HTMLElement.prototype.hasOwnProperty("popover")}var Se={strings:n9,_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return Se._locale||(Se._locale=Cr()?navigator.language.slice(0,5):"en-US"),Se._locale},set locale(e){Se._locale=e,Se._numberFormatter=void 0,Se.dirty=!0},get numberFormatter(){if(!Se._numberFormatter)try{Se._numberFormatter=new Intl.NumberFormat(Se.locale)}catch{try{Se._numberFormatter=new Intl.NumberFormat(Se.locale.slice(0,2))}catch{Se._numberFormatter=new Intl.NumberFormat("en-US")}}return Se._numberFormatter},merge(e,t){if(typeof e=="string"&&t)Se.strings[e]=M(M({},Se.strings[e]),t),Se.dirty=!0;else for(let r of Object.keys(e))Se.merge(r,e[r])},get dirty(){return Se._dirty},set dirty(e){Se._dirty||Se._dirty===e||(Se._dirty=!0,setTimeout(()=>{Se._dirty=!1,this._subscribers.forEach(t=>t==null?void 0:t())},0))},subscribe(e){return Se._subscribers.push(e),Se._subscribers.length-1},unsubscribe(e){e<0||e>=Se._subscribers.length||(Se._subscribers[e]=void 0)},update(e){let t=e.querySelectorAll("[data-l10n-tooltip]");for(let r of t){let n=r.getAttribute("data-l10n-tooltip");if(n){let i=ve(n);i&&r.setAttribute("data-tooltip",i)}}t=e.querySelectorAll("[data-l10n-arial-label]");for(let r of t){let n=r.getAttribute("data-l10n-arial-label");if(n){let i=ve(n);i&&r.setAttribute("aria-label",i)}}}};function ve(e,...t){if(e===void 0)return;let r="",n=Se.locale;Se.strings[n]&&(r=Se.strings[n][e]);let i=n.slice(0,2);if(!r&&Se.strings[i]&&(r=Se.strings[i][e]),r||(r=Se.strings.en[e]),!r)return;let o=/(%@|%([0-9]+)\$@)/g,a=o.exec(r),s=0;for(;a;){if(t[s++]){let l=a[2]?parseInt(a[2],10)-1:s-1,u=t[l];typeof u=="number"&&(u=Se.numberFormatter.format(u)),r=r.replace(a[1],u)}a=o.exec(r)}return r=r.replace(/%%/g,"%"),r}var a9={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},s9={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},to={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},ro={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},X4={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},l9={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function uc(e){var t,r,n,i,o,a;let s=e.split("!"),l,u,c,d=255,p=255,m=255,g=-1,y=s.length>0&&s[0].startsWith("-");y&&(s[0]=s[0].slice(1));for(let L=0;L<s.length;L++){l=d,u=p,c=m;let E=(t=s[L].trim().match(/^([A-Za-z\d-]+)/))==null?void 0:t[1],C=E==null?void 0:E.toLowerCase(),v=E&&(a=(o=(i=(n=(r=ro[C])!=null?r:ro[X4[E]])!=null?n:s9[E])!=null?i:l9[E])!=null?o:a9[E])!=null?a:s[L].trim(),k=v.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(k!=null&&k[1]&&k[2]&&k[3])d=Math.max(0,Math.min(255,Number.parseInt(k[1],16))),p=Math.max(0,Math.min(255,Number.parseInt(k[2],16))),m=Math.max(0,Math.min(255,Number.parseInt(k[3],16)));else if(k=v.match(/^#([\da-f]{3})$/i),k!=null&&k[1]){let I=Number.parseInt(k[1][0],16),T=Number.parseInt(k[1][1],16),R=Number.parseInt(k[1][2],16);d=Math.max(0,Math.min(255,I*16+I)),p=Math.max(0,Math.min(255,T*16+T)),m=Math.max(0,Math.min(255,R*16+R))}else if(k=v.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),k!=null&&k[1]&&k[2]&&k[3])d=Math.max(0,Math.min(255,Number.parseInt(k[1]))),p=Math.max(0,Math.min(255,Number.parseInt(k[2]))),m=Math.max(0,Math.min(255,Number.parseInt(k[3])));else return;g>=0&&(d=(1-g)*d+g*l,p=(1-g)*p+g*u,m=(1-g)*m+g*c,g=-1),L+1<s.length&&(g=Math.max(0,Math.min(100,Number.parseInt(s[++L])))/100)}return g>=0&&(d=g*d+(1-g)*l,p=g*p+(1-g)*u,m=g*m+(1-g)*c),y&&(d=255-d,p=255-p,m=255-m),"#"+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)+("00"+Math.round(m).toString(16)).slice(-2)}function zh(e){var t,r;return e=e.trim(),(r=(t=to[e.toLowerCase()])!=null?t:to[X4[e]])!=null?r:uc(e)}function u9(e){if(!e||e[0]!=="#")return;e=e.slice(1);let t;return e.length<=4?(t={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)},e.length===4&&(t.a=parseInt(e[3]+e[3],16)/255)):(t={r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)},e.length===8&&(t.a=parseInt(e[6]+e[7],16)/255)),t&&t.a===void 0&&(t.a=1),t}function Yc(e,t,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(t-e)*r+e:r<3?t:r<4?(t-e)*(4-r)+e:e}function c9(e){let[t,r,n]=[e.h,e.s,e.l];t=(t+360)%360/60,n=Math.max(0,Math.min(n,1)),r=Math.max(0,Math.min(r,1));let i=n<=.5?n*(r+1):n+r-n*r,o=n*2-i;return{r:Math.round(255*Yc(o,i,t+2)),g:Math.round(255*Yc(o,i,t)),b:Math.round(255*Yc(o,i,t-2))}}function Zc(e){return e<0?0:e>255?255:Math.round(e)}function d9(e){let{r:t,g:r,b:n}=e,i=((1<<24)+(Zc(t)<<16)+(Zc(r)<<8)+Zc(n)).toString(16).slice(1);return i[0]===i[1]&&i[2]===i[3]&&i[4]===i[5]&&i[6]===i[7]&&(i=i[0]+i[2]+i[4]),"#"+i}function h9(e){let{r:t,g:r,b:n}=e;t=t/255,r=r/255,n=n/255;let i=Math.min(t,r,n),o=Math.max(t,r,n),a=o-i,s,l;o===i?s=0:t===o?s=(r-n)/a:r===o?s=2+(n-t)/a:n===o&&(s=4+(t-r)/a),s=Math.min(s*60,360),s<0&&(s+=360);let u=(i+o)/2;return o===i?l=0:u<=.5?l=a/(o+i):l=a/(2-o-i),{h:s,s:l,l:u}}function p9(e){let t=u9(e);if(!t)return e;let{h:r,s:n,l:i}=h9(t);return n+=.1,i-=.1,d9(c9({h:r,s:n,l:i}))}var J4={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},S0={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Y4=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function C0(e,t,r){if(!/[A-Za-z\d]/.test(e)||(r==="up"&&(r=void 0),!t&&!r))return;let n=e.codePointAt(0);if(n===void 0)return e;for(let i of Y4)if((!t||i.variant===t)&&(!r||i.style===r)&&n>=i.offset&&n<i.offset+i.len){let o=i.start+n-i.offset;return String.fromCodePoint(S0[o]||o)}}function m9(e){var t;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(let r in S0)if(S0[r]===e){e=(t=r.codePointAt(0))!=null?t:0;break}for(let r of Y4)if(e>=r.start&&e<r.start+r.len)return{char:String.fromCodePoint(e-r.start+r.offset),variant:r.variant,style:r.style};return{char:String.fromCodePoint(e)}}function f9(e){var t;if("{}<>[]$&*#^_%:'˜".includes(e)||e.length>1)return;let r=(t=e.codePointAt(0))!=null?t:0,n=J4[r];if(n)return n;let{char:i,variant:o,style:a}=m9(r);if(!(!o&&!a)){switch(n=i,o){case"double-struck":n=`\\mathbb{${n}}`;break;case"fraktur":n=`\\mathfrak{${n}}`;break;case"script":n=`\\mathscr{${n}}`;break;case"sans-serif":n=`\\mathsf{${n}}`;break;case"monospace":n=`\\mathtt{${n}}`;break;case"calligraphic":n=`\\mathcal{${n}}`;break}switch(a){case"bold":n=`\\mathbf{${n}}`;break;case"italic":n=`\\mathit{${n}}`;break;case"bolditalic":n=`\\mathbfit{${n}}`;break}return n}}function te(e){return e?Array.isArray(e)?e:typeof e=="object"&&"group"in e?e.group:[]:[]}var ys={},Cu=M({},J4),Wo={},Kh={},g9={darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},b9={varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},y9={bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}},v9={iff:{primitive:!0,captureSelection:!0,def:'\\;\\char"27FA\\;'},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2237\\char"3D}}',coloneq:'{\\mathop{\\char"3A\\char"2212}}',Coloneq:'{\\mathop{\\char"2237\\char"2212}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2239}}',Eqcolon:'{\\mathop{\\char"2212\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:y9},"amsmath.sty":{package:b9,primitive:!0},"texvc.sty":{package:g9,primitive:!1}},Po={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},_9=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/,E0,vs;o9()?(E0=new RegExp("\\p{Letter}","u"),vs=new RegExp("[0-9\\p{Letter}]","u")):(E0=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,vs=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/);function L0(e,t,r="mord",n){t!==void 0&&(ys[e]={definitionType:"symbol",type:r,variant:n,codepoint:t},Cu[t]||(Cu[t]=e))}function Bt(e,t,r){if(typeof e=="string"){for(let n=0;n<e.length;n++){let i=e.charAt(n);L0(i,i.codePointAt(0))}return}for(let[n,i,o,a]of e)L0(n,i,o??t,a??r)}function Z4(e,t){for(let r=e;r<=t;r++)L0(String.fromCodePoint(r),r)}function x9(e){var t;return(t=Kh[e])!=null?t:null}function w9(e,t){var r,n;if(t.length===0||t==="\\"||!t.startsWith("\\"))return[];let i=[];for(let a in Wo)a.startsWith(t)&&!Wo[a].infix&&i.push({match:a,frequency:(r=Wo[a].frequency)!=null?r:0});for(let a in ys)a.startsWith(t)&&i.push({match:a,frequency:(n=ys[a].frequency)!=null?n:0});let o=t.substring(1);for(let a of Object.keys(e.options.macros))a.startsWith(o)&&i.push({match:"\\"+a,frequency:0});return i.sort((a,s)=>{var l,u;return a.frequency===s.frequency?a.match.length===s.match.length?a.match<s.match?-1:1:a.match.length-s.match.length:((l=s.frequency)!=null?l:0)-((u=a.frequency)!=null?u:0)}),i.map(a=>a.match)}function pf(e){let t="auto",r=e.match(/:([^=]+)/);return r&&(t=r[1].trim()),t}function Eu(e){if(!e)return[];let t=[],r=e.split("]");if(r[0].startsWith("[")){t.push({isOptional:!0,type:pf(r[0].slice(1))});for(let n=1;n<=r.length;n++)t.push(...Eu(r[n]))}else if(r=e.split("}"),r[0].startsWith("{")){t.push({isOptional:!1,type:pf(r[0].slice(1))});for(let n=1;n<=r.length;n++)t.push(...Eu(r[n]))}return t}function Q4(e){if(!e)return"";let t="",r=!0;for(let n of e)typeof n.value=="string"?t+=n.value:r=!1;return r?t:""}function e2(e,t){typeof e=="string"&&(e=[e]);let r={tabular:!1,params:[],createAtom:t};for(let n of e)Kh[n]=r}function Mn(e,t,r){typeof e=="string"&&(e=[e]);let n={tabular:!0,params:Eu(t),createAtom:r};for(let i of e)Kh[i]=n}function H(e,t,r){var n,i;r||(r={});let o={definitionType:"function",params:Eu(t),ifMode:r.ifMode,isFunction:(n=r.isFunction)!=null?n:!1,applyMode:r.applyMode,infix:(i=r.infix)!=null?i:!1,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if(typeof e=="string")Wo["\\"+e]=o;else for(let a of e)Wo["\\"+a]=o}var Xs;function qh(e){return Xs||(Xs=A0(v9)),e?A0(M(M({},Xs),e)):Xs}function mf(e,t){var r,n,i,o;if(typeof e=="string"){let a=0,s=e;return/(^|[^\\])#1/.test(s)&&(a=1),/(^|[^\\])#2/.test(s)&&(a=2),/(^|[^\\])#3/.test(s)&&(a=3),/(^|[^\\])#4/.test(s)&&(a=4),/(^|[^\\])#5/.test(s)&&(a=5),/(^|[^\\])#6/.test(s)&&(a=6),/(^|[^\\])#7/.test(s)&&(a=7),/(^|[^\\])#8/.test(s)&&(a=8),/(^|[^\\])#9/.test(s)&&(a=9),{expand:(r=t==null?void 0:t.expand)!=null?r:!0,captureSelection:(n=t==null?void 0:t.captureSelection)!=null?n:!0,args:a,def:s}}return M({expand:(i=t==null?void 0:t.expand)!=null?i:!0,captureSelection:(o=t==null?void 0:t.captureSelection)!=null?o:!0,args:0},e)}function A0(e){if(!e)return{};let t={};for(let r of Object.keys(e)){let n=e[r];if(n==null)delete t[r];else if(typeof n=="object"&&"package"in n)for(let i of Object.keys(n.package))t[i]=mf(n.package[i],{expand:!n.primitive,captureSelection:n.captureSelection});else t[r]=mf(n)}return t}function $t(e,t="math"){if(!e||e.length===0)return null;let r=null;if(e.startsWith("\\")){if(r=Wo[e],r)return!r.ifMode||r.ifMode===t?r:null;t==="math"?r=ys[e]:Po[e]&&(r={definitionType:"symbol",type:"mord",codepoint:Po[e]})}else if(t==="math"){if(r=ys[e],!r&&e.length===1){let n=r2("math",e.codePointAt(0));return n.startsWith("\\")?B(M({},$t(n,"math")),{command:n}):null}}else Po[e]?r={definitionType:"symbol",type:"mord",codepoint:Po[e]}:t==="text"&&(r={definitionType:"symbol",type:"mord",codepoint:e.codePointAt(0)});return r??null}function t2(e,t){if(!e.startsWith("\\"))return null;let r=e.slice(1);return t[r]}function r2(e,t){return t===void 0?"":e==="math"&&Cu[t]?Cu[t]:e==="text"&&Object.keys(Po).find(n=>Po[n]===t)||String.fromCodePoint(t)}var gr=[0,.68889,0,0,.72222],Ei=[0,.68889,0,0,.66667],Qc=[0,.68889,0,0,.77778],Js=[0,.68889,0,0,.61111],ff=[.16667,.68889,0,0,.77778],Sa=[0,.68889,0,0,.55556],Ke=[0,0,0,0,.25],gf=[0,.825,0,0,2.33334],bf=[0,.9,0,0,2.33334],Ys=[0,.68889,0,0,.54028],ed=[-.03598,.46402,0,0,.5],Kt=[-.13313,.36687,0,0,1],Zs=[.01354,.52239,0,0,1],yf=[.01354,.52239,0,0,1.11111],vf=[0,.54986,0,0,1],Qs=[0,.69224,0,0,.5],td=[0,.43056,0,0,1],Tn=[.08198,.58198,0,0,.77778],el=[.19444,.69224,0,0,.41667],tl=[.1808,.675,0,0,1],_f=[.19444,.69224,0,0,.83334],xf=[.13667,.63667,0,0,1],wf=[-.064,.437,0,0,1.334],Fn=[.08167,.58167,0,0,.77778],Ca=[0,.69224,0,0,.72222],rd=[0,.69224,0,0,.66667],rl=[-.13313,.36687,0,0,.77778],kf=[.06062,.54986,0,0,.77778],nl=[0,.69224,0,0,.77778],go=[.25583,.75583,0,0,.77778],qr=[.25142,.75726,0,0,.77778],bo=[.20576,.70576,0,0,.77778],Ar=[.30274,.79383,0,0,.77778],Ea=[.22958,.72958,0,0,.77778],Mf=[.1808,.675,0,0,.77778],Hr=[.13667,.63667,0,0,.77778],rr=[.13597,.63597,0,0,.77778],On=[.03517,.54986,0,0,.77778],yo=[0,.675,0,0,.77778],Sf=[.19444,.69224,0,0,.61111],Cf=[0,.54986,0,0,.76042],Ef=[0,.54986,0,0,.66667],Pn=[.0391,.5391,0,0,.77778],Lf=[.03517,.54986,0,0,1.33334],Af=[.38569,.88569,0,0,.77778],il=[.23222,.74111,0,0,.77778],Df=[.19444,.69224,0,0,.77778],Bf=[0,.37788,0,0,.5],ol=[0,.54986,0,0,.72222],Tf=[0,.69224,0,0,.83334],Ff=[.11111,.69224,0,0,.66667],vo=[.26167,.75726,0,0,.77778],Of=[.48256,.98256,0,0,.77778],Pf=[.28481,.79383,0,0,.77778],If=[.08167,.58167,0,0,.22222],Nf=[.08167,.58167,0,0,.38889],$f=[0,.43056,.04028,0,.66667],Rf=[.41951,.91951,0,0,.77778],zf=[.24982,.74947,0,0,.38865],Kf=[.08319,.58283,0,0,.75623],qf=[0,.10803,0,0,.27764],nd=[0,.47534,0,0,.50181],La=[.18906,.47534,0,0,.50181],Hf=[0,.69141,0,0,.50181],Vf=[.24982,.74947,0,0,.27764],id=[0,.69141,0,0,.21471],al=[.25,.75,0,0,.44722],br=[0,.64444,0,0,.575],_o=[.08556,.58556,0,0,.89444],sl=[0,.69444,0,0,.89444],ll=[0,.68611,0,0,.9],od=[0,.68611,0,0,.86944],In=[.25,.75,0,0,.575],ul=[.25,.75,0,0,.31944],Li=[0,.69444,0,0,.63889],xo=[0,.69444,0,0,.31944],Uf=[0,.44444,0,0,.63889],Wf=[0,.44444,0,0,.51111],Nn=[0,.69444,0,0,.575],Dr=[.13333,.63333,0,0,.89444],jf=[0,.44444,0,0,.31944],Gf=[0,.69444,0,0,.86944],Xf=[0,.68611,0,0,.69166],cl=[0,.68611,0,0,.83055],ad=[0,.68611,0,0,.89444],sd=[0,.69444,0,0,.60278],Jf=[.19444,.69444,0,0,.51111],Yf=[0,.69444,0,0,.83055],Vr=[-.10889,.39111,0,0,1.14999],Zf=[.19444,.69444,0,0,.575],Aa=[.19444,.69444,0,0,1.14999],Qf=[.19444,.69444,0,0,.70277],e1=[.05556,.75,0,0,.575],ld=[0,.68611,0,0,.95833],t1=[.08556,.58556,0,0,.76666],ud=[-.02639,.47361,0,0,.575],r1=[0,.44444,0,0,.89444],Ai=[0,.55556,0,0,.76666],n1=[-.10889,.39111,0,0,.89444],cd=[.00222,.50222,0,0,.89444],$n=[.19667,.69667,0,0,.89444],i1=[.08556,.58556,0,0,1.14999],dd=[0,.69444,0,0,.70277],dl=[-.02778,.47222,0,0,.575],hl=[.25,.75,0,0,.51111],o1=[-.13889,.36111,0,0,1.14999],a1=[.19444,.69444,0,0,1.02222],pl=[.12963,.69444,0,0,.89444],s1=[.19444,.69444,0,0,.44722],Rn=[0,.64444,.13167,0,.59111],l1=[.19444,.64444,.13167,0,.59111],hd=[0,.68611,.17208,0,.8961],u1=[.19444,.44444,.105,0,.53222],c1=[0,.44444,.085,0,.82666],d1=[0,.69444,.06709,0,.59111],ml=[0,.69444,.12945,0,.35555],h1=[0,.69444,0,0,.94888],pd=[0,.69444,.11472,0,.59111],p1=[0,.68611,.10778,0,.88555],m1=[0,.69444,.07939,0,.62055],fl=[0,.69444,.12417,0,.30667],zn=[0,.64444,.13556,0,.51111],f1=[.19444,.64444,.13556,0,.51111],gl=[0,.68333,.16389,0,.74333],g1=[.19444,.43056,.08847,0,.46],b1=[0,.43056,.07514,0,.71555],y1=[0,.69444,.06646,0,.51111],v1=[0,.69444,0,0,.83129],_1=[0,.69444,.1225,0,.51111],x1=[0,.68333,.09403,0,.76666],w1=[0,.68333,.11111,0,.76666],k1=[0,.69444,.06961,0,.51444],ln=[0,.69444,0,0,.27778],wo=[.25,.75,0,0,.38889],yr=[0,.64444,0,0,.5],Di=[0,.69444,0,0,.77778],Bi=[0,.68333,0,0,.75],Da=[0,.68333,0,0,.77778],M1=[0,.68333,0,0,.68056],Ba=[0,.68333,0,0,.72222],un=[.25,.75,0,0,.5],bl=[.25,.75,0,0,.27778],wt=[0,.69444,0,0,.5],ko=[0,.69444,0,0,.55556],md=[0,.43056,0,0,.44445],Ta=[0,.43056,0,0,.5],S1=[.19444,.43056,0,0,.55556],C1=[0,.43056,0,0,.55556],vr=[.08333,.58333,0,0,.77778],E1=[0,.43056,0,0,.27778],L1=[0,.66786,0,0,.27778],A1=[0,.69444,0,0,.75],D1=[0,.66786,0,0,.5],B1=[0,.68333,0,0,.625],fd=[.19444,.69444,0,0,.44445],Fa=[0,.69444,0,0,.72222],T1=[.19444,.69444,0,0,.5],Oa=[.19444,.69444,0,0,1],F1=[.011,.511,0,0,1.126],gd=[.19444,.69444,0,0,.61111],bd=[.05556,.75,0,0,.5],O1=[0,.68333,0,0,.83334],P1=[.0391,.5391,0,0,.66667],yd=[-.05555,.44445,0,0,.5],I1=[0,.43056,0,0,.77778],Ti=[0,.55556,0,0,.66667],yl=[-.03625,.46375,0,0,.77778],N1=[-.01688,.48312,0,0,.77778],$1=[.0391,.5391,0,0,1],Kn=[0,.69444,0,0,.61111],vl=[-.03472,.46528,0,0,.5],_l=[.25,.75,0,0,.44445],R1=[-.14236,.35764,0,0,1],xl=[.244,.744,0,0,.412],z1=[.19444,.69444,0,0,.88889],wl=[.12963,.69444,0,0,.77778],K1=[.19444,.69444,0,0,.38889],q1=[.011,.511,0,0,1.638],H1=[.19444,.69444,0,0,0],kl=[0,.44444,0,0,.575],Pa=[.19444,.44444,0,0,.575],V1=[0,.68611,0,0,.75555],U1=[0,.69444,0,0,.66759],W1=[0,.68611,0,0,.80555],j1=[0,.68611,.08229,0,.98229],G1=[0,.68611,0,0,.76666],X1=[0,.44444,0,0,.58472],J1=[.19444,.44444,0,0,.6118],Ia=[.19444,.43056,0,0,.5],Y1=[0,.68333,.02778,.08334,.76278],Z1=[0,.68333,.08125,.05556,.83125],Q1=[0,.43056,0,.05556,.48472],eg=[.19444,.43056,0,.08334,.51702],tg=[.25,.75,0,0,.42778],Nt=[0,.69444,0,0,.55],cn=[0,.69444,0,0,.73334],qn=[0,.69444,0,0,.79445],rg=[0,.69444,0,0,.51945],vd=[0,.69444,0,0,.70278],ng=[0,.69444,0,0,.76389],ig=[.25,.75,0,0,.34306],_d=[0,.69444,0,0,.56111],og=[0,.69444,0,0,.25556],ag=[.19444,.45833,0,0,.56111],sg=[0,.45833,0,0,.56111],Ml=[0,.69444,0,0,.30556],lg=[0,.69444,0,0,.58056],ug=[0,.69444,0,0,.67223],xd=[0,.69444,0,0,.85556],wd=[0,.69444,0,0,.55834],Ur=[0,.65556,.11156,0,.5],kd=[0,.69444,.08094,0,.70834],Md=[.17014,0,0,0,.44445],cg=[0,.69444,.0799,0,.5],dg=[0,.69444,0,0,.73752],hg=[0,.69444,.09205,0,.5],pg=[0,.69444,.09031,0,.77778],Sd=[0,.69444,.07816,0,.27778],mg=[0,.69444,.00316,0,.5],fg=[.19444,.69444,0,0,.83334],gg=[.05556,.75,0,0,.83334],bg=[0,.75,0,0,.5],yg=[.125,.08333,0,0,.27778],vg=[0,.08333,0,0,.27778],Wr=[0,.65556,0,0,.5],Cd=[0,.69444,0,0,.47222],dn=[0,.69444,0,0,.66667],_g=[0,.69444,0,0,.59722],Ed=[0,.69444,0,0,.54167],Ld=[0,.69444,0,0,.70834],xg=[.25,.75,0,0,.28889],Ad=[0,.69444,0,0,.51667],wg=[0,.44444,0,0,.44445],kg=[.19444,.44444,0,0,.51667],Mg=[0,.44444,0,0,.38333],Sg=[0,.44444,0,0,.51667],Cg=[0,.69444,0,0,.83334],Eg=[.35001,.85,0,0,.45834],Lg=[.35001,.85,0,0,.57778],Ag=[.35001,.85,0,0,.41667],Dg=[.35001,.85,0,0,.58334],Sl=[0,.72222,0,0,.55556],Bg=[1e-5,.6,0,0,.66667],Tg=[1e-5,.6,0,0,.77778],Fg=[.25001,.75,0,0,.94445],Og=[.306,.805,.19445,0,.47222],Pg=[.30612,.805,.19445,0,.47222],Mo=[.25001,.75,0,0,.83334],So=[.35001,.85,0,0,.47222],Dd=[.25001,.75,0,0,1.11111],Ig=[.65002,1.15,0,0,.59722],Ng=[.65002,1.15,0,0,.81111],$g=[.65002,1.15,0,0,.47222],Rg=[.65002,1.15,0,0,.66667],Cl=[0,.75,0,0,1],zg=[.55001,1.05,0,0,1.27778],Kg=[.862,1.36,.44445,0,.55556],qg=[.86225,1.36,.44445,0,.55556],Co=[.55001,1.05,0,0,1.11111],El=[.65002,1.15,0,0,.52778],Hg=[.65002,1.15,0,0,.61111],Bd=[.55001,1.05,0,0,1.51112],Vg=[.95003,1.45,0,0,.73611],Ug=[.95003,1.45,0,0,1.04445],Wg=[.95003,1.45,0,0,.52778],Ll=[.95003,1.45,0,0,.75],Al=[0,.75,0,0,1.44445],Dl=[.95003,1.45,0,0,.58334],jg=[1.25003,1.75,0,0,.79167],Gg=[1.25003,1.75,0,0,1.27778],Xg=[1.25003,1.75,0,0,.58334],Bl=[1.25003,1.75,0,0,.80556],Tl=[0,.825,0,0,1.8889],Fl=[1.25003,1.75,0,0,.63889],Ol=[.64502,1.155,0,0,.875],Jg=[1e-5,.6,0,0,.875],Td=[-99e-5,.601,0,0,.66667],Pl=[.64502,1.155,0,0,.66667],Yg=[1e-5,.9,0,0,.88889],Zg=[.65002,1.15,0,0,.88889],Qg=[.90001,0,0,0,.88889],eb=[-.00499,.605,0,0,1.05556],Il=[0,.12,0,0,.45],ae=[0,.61111,0,0,.525],Br=[.08333,.69444,0,0,.525],tb=[-.08056,.53055,0,0,.525],rb=[-.05556,.55556,0,0,.525],Gt=[0,.43056,0,0,.525],Na=[.22222,.43056,0,0,.525],nb=[0,0,0,0,.525],k9={"AMS-Regular":{32:Ke,65:gr,66:Ei,67:gr,68:gr,69:Ei,70:Js,71:Qc,72:Qc,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:Qc,76:Ei,77:[0,.68889,0,0,.94445],78:gr,79:ff,80:Js,81:ff,82:gr,83:Sa,84:Ei,85:gr,86:gr,87:[0,.68889,0,0,1],88:gr,89:gr,90:Ei,107:Sa,160:Ke,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:Sa,295:Ys,710:gf,732:bf,770:gf,771:bf,989:Fn,1008:$f,8245:[0,.54986,0,0,.275],8463:Ys,8487:gr,8498:Sa,8502:Ei,8503:[0,.68889,0,0,.44445],8504:Ei,8513:[0,.68889,0,0,.63889],8592:ed,8594:ed,8602:Kt,8603:Kt,8606:Zs,8608:Zs,8610:yf,8611:yf,8619:vf,8620:vf,8621:[-.13313,.37788,0,0,1.38889],8622:Kt,8624:Qs,8625:Qs,8630:td,8631:td,8634:Tn,8635:Tn,8638:el,8639:el,8642:el,8643:el,8644:tl,8646:tl,8647:tl,8648:_f,8649:tl,8650:_f,8651:Zs,8652:Zs,8653:Kt,8654:Kt,8655:Kt,8666:xf,8667:xf,8669:[-.13313,.37788,0,0,1],8672:wf,8674:wf,8705:[0,.825,0,0,.5],8708:Sa,8709:Fn,8717:[0,.43056,0,0,.42917],8722:ed,8724:[.08198,.69224,0,0,.77778],8726:Fn,8733:nl,8736:Ca,8737:Ca,8738:[.03517,.52239,0,0,.72222],8739:If,8740:[.25142,.74111,0,0,.27778],8741:Nf,8742:[.25142,.74111,0,0,.5],8756:rd,8757:rd,8764:rl,8765:[-.13313,.37788,0,0,.77778],8769:rl,8770:yl,8774:Ar,8776:N1,8778:Fn,8782:kf,8783:kf,8785:Tn,8786:Tn,8787:Tn,8790:nl,8791:Ea,8796:[.08198,.91667,0,0,.77778],8806:go,8807:go,8808:qr,8809:qr,8812:[.25583,.75583,0,0,.5],8814:bo,8815:bo,8816:Ar,8817:Ar,8818:Ea,8819:Ea,8822:Mf,8823:Mf,8828:Hr,8829:Hr,8830:Ea,8831:Ea,8832:bo,8833:bo,8840:Ar,8841:Ar,8842:rr,8843:rr,8847:On,8848:On,8858:Tn,8859:Tn,8861:Tn,8862:yo,8863:yo,8864:yo,8865:yo,8872:[0,.69224,0,0,.61111],8873:Ca,8874:[0,.69224,0,0,.88889],8876:Js,8877:Js,8878:gr,8879:gr,8882:On,8883:On,8884:Hr,8885:Hr,8888:[0,.54986,0,0,1.11111],8890:S1,8891:Sf,8892:Sf,8901:[0,.54986,0,0,.27778],8903:Fn,8905:Fn,8906:Fn,8907:nl,8908:nl,8909:[-.03598,.46402,0,0,.77778],8910:Cf,8911:Cf,8912:On,8913:On,8914:Ef,8915:Ef,8916:rd,8918:Pn,8919:Pn,8920:Lf,8921:Lf,8922:Af,8923:Af,8926:Hr,8927:Hr,8928:Ar,8929:Ar,8934:il,8935:il,8936:il,8937:il,8938:bo,8939:bo,8940:Ar,8941:Ar,8994:Df,8995:Df,9416:[.15559,.69224,0,0,.90222],9484:Qs,9488:Qs,9492:Bf,9496:Bf,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:yo,9633:yo,9650:ol,9651:ol,9654:On,9660:ol,9661:ol,9664:On,9674:Ff,9733:[.19444,.69224,0,0,.94445],10003:Tf,10016:Tf,10731:Ff,10846:[.19444,.75583,0,0,.61111],10877:Hr,10878:Hr,10885:go,10886:go,10887:rr,10888:rr,10889:vo,10890:vo,10891:Of,10892:Of,10901:Hr,10902:Hr,10933:qr,10934:qr,10935:vo,10936:vo,10937:vo,10938:vo,10949:go,10950:go,10955:Pf,10956:Pf,57350:If,57351:Nf,57352:Fn,57353:$f,57356:qr,57357:qr,57358:Rf,57359:Ar,57360:Ar,57361:Rf,57366:qr,57367:qr,57368:qr,57369:qr,57370:rr,57371:rr},"Caligraphic-Regular":{32:Ke,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:Ke},"Fraktur-Regular":{32:Ke,33:[0,.69141,0,0,.29574],34:id,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:zf,41:zf,42:[0,.62119,0,0,.27764],43:Kf,44:qf,45:Kf,46:qf,47:[.24982,.74947,0,0,.50181],48:nd,49:nd,50:nd,51:La,52:La,53:La,54:Hf,55:La,56:Hf,57:La,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:Vf,93:Vf,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:Ke,8216:id,8217:id,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:Ke,33:[0,.69444,0,0,.35],34:sd,35:[.19444,.69444,0,0,.95833],36:e1,37:[.05556,.75,0,0,.95833],38:sl,39:xo,40:al,41:al,42:[0,.75,0,0,.575],43:Dr,44:[.19444,.15556,0,0,.31944],45:Mg,46:[0,.15556,0,0,.31944],47:In,48:br,49:br,50:br,51:br,52:br,53:br,54:br,55:br,56:br,57:br,58:jf,59:[.19444,.44444,0,0,.31944],60:_o,61:n1,62:_o,63:[0,.69444,0,0,.54305],64:sl,65:od,66:[0,.68611,0,0,.81805],67:cl,68:[0,.68611,0,0,.88194],69:V1,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:ll,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:Xf,77:[0,.68611,0,0,1.09166],78:ll,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:od,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:ul,92:In,93:ul,94:Nn,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Li,99:Wf,100:Li,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Li,105:xo,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:xo,109:[0,.44444,0,0,.95833],110:Uf,111:kl,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:Uf,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:Wf,123:In,124:ul,125:In,126:[.35,.34444,0,0,.575],160:Ke,163:[0,.69444,0,0,.86853],168:Nn,172:[0,.44444,0,0,.76666],176:Gf,177:Dr,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:Dr,216:[.04861,.73472,0,0,.89444],223:_g,230:[0,.44444,0,0,.83055],247:Dr,248:[.09722,.54167,0,0,.575],305:jf,338:[0,.68611,0,0,1.16944],339:r1,567:[.19444,.44444,0,0,.35139],710:Nn,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:Nn,715:Nn,728:Nn,729:xo,730:Gf,732:Nn,733:Nn,915:Xf,916:ld,920:ad,923:W1,926:G1,928:ll,931:cl,933:ad,934:cl,936:ad,937:cl,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:xo,8217:xo,8220:sd,8221:sd,8224:Jf,8225:Jf,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:U1,8465:Yf,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:Yf,8501:dd,8592:Vr,8593:Zf,8594:Vr,8595:Zf,8596:Vr,8597:In,8598:Aa,8599:Aa,8600:Aa,8601:Aa,8636:Vr,8637:Vr,8640:Vr,8641:Vr,8656:Vr,8657:Qf,8658:Vr,8659:Qf,8660:Vr,8661:[.25,.75,0,0,.70277],8704:Li,8706:[0,.69444,.06389,0,.62847],8707:Li,8709:e1,8711:ld,8712:t1,8715:t1,8722:Dr,8723:Dr,8725:In,8726:In,8727:dl,8728:ud,8729:ud,8730:[.18,.82,0,0,.95833],8733:r1,8734:[0,.44444,0,0,1.14999],8736:Ca,8739:ul,8741:In,8743:Ai,8744:Ai,8745:Ai,8746:Ai,8747:[.19444,.69444,.12778,0,.56875],8764:n1,8768:[.19444,.69444,0,0,.31944],8771:cd,8776:[.02444,.52444,0,0,.89444],8781:cd,8801:cd,8804:$n,8805:$n,8810:i1,8811:i1,8826:_o,8827:_o,8834:_o,8835:_o,8838:$n,8839:$n,8846:Ai,8849:$n,8850:$n,8851:Ai,8852:Ai,8853:Dr,8854:Dr,8855:Dr,8856:Dr,8857:Dr,8866:dd,8867:dd,8868:sl,8869:sl,8900:ud,8901:[-.02639,.47361,0,0,.31944],8902:dl,8968:hl,8969:hl,8970:hl,8971:hl,8994:o1,8995:o1,9651:a1,9657:dl,9661:a1,9667:dl,9711:Aa,9824:pl,9825:pl,9826:pl,9827:pl,9837:[0,.75,0,0,.44722],9838:s1,9839:s1,10216:al,10217:al,10815:ll,10927:$n,10928:$n,57376:H1},"Main-BoldItalic":{32:Ke,33:[0,.69444,.11417,0,.38611],34:m1,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:ml,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:Rn,49:Rn,50:Rn,51:Rn,52:l1,53:Rn,54:Rn,55:l1,56:Rn,57:Rn,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:pd,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:hd,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:hd,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:d1,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:u1,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:u1,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:Ke,168:[0,.69444,.11473,0,.59111],176:h1,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:c1,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:c1,567:[.19444,.44444,.04611,0,.385],710:d1,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:ml,730:h1,732:pd,733:pd,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:hd,931:[0,.68611,.11431,0,.82666],933:p1,934:[0,.68611,.05632,0,.82666],936:p1,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:ml,8217:ml,8220:[0,.69444,.16772,0,.62055],8221:m1},"Main-Italic":{32:Ke,33:fl,34:k1,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:fl,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:zn,49:zn,50:zn,51:zn,52:f1,53:zn,54:zn,55:f1,56:zn,57:zn,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:_1,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:gl,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:gl,79:x1,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:gl,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:y1,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:g1,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:g1,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:Ke,168:[0,.66786,.10474,0,.51111],176:v1,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:b1,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:b1,710:y1,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:v1,732:[0,.66786,.11585,0,.51111],733:_1,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:x1,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:gl,931:[0,.68333,.12028,0,.71555],933:w1,934:[0,.68333,.05986,0,.71555],936:w1,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:fl,8217:fl,8220:[0,.69444,.1685,0,.51444],8221:k1,8463:Ys},"Main-Regular":{32:Ke,33:ln,34:wt,35:fg,36:bd,37:gg,38:Di,39:ln,40:wo,41:wo,42:bg,43:vr,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:un,48:yr,49:yr,50:yr,51:yr,52:yr,53:yr,54:yr,55:yr,56:yr,57:yr,58:E1,59:[.19444,.43056,0,0,.27778],60:Pn,61:rl,62:Pn,63:Cd,64:Di,65:Bi,66:[0,.68333,0,0,.70834],67:Ba,68:[0,.68333,0,0,.76389],69:M1,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:Bi,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:Da,76:B1,77:[0,.68333,0,0,.91667],78:Bi,79:Da,80:M1,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:Ba,85:Bi,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:Bi,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:bl,92:un,93:bl,94:wt,95:[.31,.12056,.02778,0,.5],97:Ta,98:ko,99:md,100:ko,101:md,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:ko,105:L1,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:ln,109:[0,.43056,0,0,.83334],110:C1,111:Ta,112:S1,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:C1,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:md,123:un,124:bl,125:un,126:[.35,.31786,0,0,.5],160:Ke,163:[0,.69444,0,0,.76909],167:fd,168:D1,172:[0,.43056,0,0,.66667],176:A1,177:vr,182:gd,184:Md,198:[0,.68333,0,0,.90278],215:vr,216:[.04861,.73194,0,0,.77778],223:wt,230:[0,.43056,0,0,.72222],247:vr,248:[.09722,.52778,0,0,.5],305:E1,338:[0,.68333,0,0,1.01389],339:I1,567:[.19444,.43056,0,0,.30556],710:wt,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:wt,715:wt,728:wt,729:L1,730:A1,732:D1,733:wt,915:B1,916:O1,920:Da,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:Bi,931:Ba,933:Da,934:Ba,936:Da,937:Ba,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:ln,8217:ln,8220:wt,8221:wt,8224:fd,8225:fd,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:Ys,8465:Fa,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:Fa,8501:Kn,8592:Kt,8593:T1,8594:Kt,8595:T1,8596:Kt,8597:un,8598:Oa,8599:Oa,8600:Oa,8601:Oa,8614:[.011,.511,0,0,1],8617:F1,8618:F1,8636:Kt,8637:Kt,8640:Kt,8641:Kt,8652:[.011,.671,0,0,1],8656:Kt,8657:gd,8658:Kt,8659:gd,8660:Kt,8661:[.25,.75,0,0,.61111],8704:ko,8706:[0,.69444,.05556,.08334,.5309],8707:ko,8709:bd,8711:O1,8712:P1,8715:P1,8722:vr,8723:vr,8725:un,8726:un,8727:vl,8728:yd,8729:yd,8730:[.2,.8,0,0,.83334],8733:I1,8734:td,8736:Ca,8739:bl,8741:un,8743:Ti,8744:Ti,8745:Ti,8746:Ti,8747:[.19444,.69444,.11111,0,.41667],8764:rl,8768:[.19444,.69444,0,0,.27778],8771:yl,8773:[-.022,.589,0,0,1],8776:N1,8781:yl,8784:[-.133,.67,0,0,.778],8801:yl,8804:rr,8805:rr,8810:$1,8811:$1,8826:Pn,8827:Pn,8834:Pn,8835:Pn,8838:rr,8839:rr,8846:Ti,8849:rr,8850:rr,8851:Ti,8852:Ti,8853:vr,8854:vr,8855:vr,8856:vr,8857:vr,8866:Kn,8867:Kn,8868:Di,8869:Di,8872:[.249,.75,0,0,.867],8900:yd,8901:[-.05555,.44445,0,0,.27778],8902:vl,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:_l,8969:_l,8970:_l,8971:_l,8994:R1,8995:R1,9136:xl,9137:xl,9651:z1,9657:vl,9661:z1,9667:vl,9711:Oa,9824:wl,9825:wl,9826:wl,9827:wl,9837:[0,.75,0,0,.38889],9838:K1,9839:K1,10216:wo,10217:wo,10222:xl,10223:xl,10229:[.011,.511,0,0,1.609],10230:q1,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:q1,10815:Bi,10927:rr,10928:rr,57376:H1},"Math-BoldItalic":{32:Ke,48:kl,49:kl,50:kl,51:Pa,52:Pa,53:Pa,54:br,55:Pa,56:br,57:Pa,65:od,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:j1,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:V1,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:U1,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:X1,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:Ke,915:[0,.68611,.15972,0,.65694],916:ld,920:[0,.68611,.03194,0,.86722],923:W1,926:[0,.68611,.07458,0,.84125],928:j1,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:G1,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:X1,960:[0,.44444,.03704,0,.68241],961:J1,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:J1,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:Ke,48:Ta,49:Ta,50:Ta,51:Ia,52:Ia,53:Ia,54:yr,55:Ia,56:yr,57:Ia,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:Z1,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:Y1,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:Q1,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:Ke,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:Y1,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:Z1,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:Q1,960:[0,.43056,.03588,0,.57003],961:eg,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:eg,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:Ke,33:[0,.69444,0,0,.36667],34:wd,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:Ml,40:tg,41:tg,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:Nt,49:Nt,50:Nt,51:Nt,52:Nt,53:Nt,54:Nt,55:Nt,56:Nt,57:Nt,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:rg,64:cn,65:cn,66:cn,67:vd,68:qn,69:[0,.69444,0,0,.64167],70:Kn,71:cn,72:qn,73:[0,.69444,0,0,.33056],74:rg,75:ng,76:lg,77:[0,.69444,0,0,.97778],78:qn,79:qn,80:vd,81:[.10556,.69444,0,0,.79445],82:vd,83:Kn,84:cn,85:ng,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:cn,89:[0,.69444,.0275,0,.73334],90:ug,91:ig,93:ig,94:Nt,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:_d,99:[0,.45833,0,0,.48889],100:_d,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:_d,105:og,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:og,109:[0,.45833,0,0,.86667],110:sg,111:[0,.45833,0,0,.55],112:ag,113:ag,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:sg,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:Ke,168:Nt,176:cn,180:Nt,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:Nt,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:Nt,729:Ml,730:cn,732:Nt,733:Nt,915:lg,916:[0,.69444,0,0,.91667],920:xd,923:ug,926:cn,928:qn,931:qn,933:xd,934:qn,936:xd,937:qn,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:Ml,8217:Ml,8220:wd,8221:wd},"SansSerif-Italic":{32:Ke,33:[0,.69444,.05733,0,.31945],34:mg,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:Sd,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:yg,45:[0,.44444,.01946,0,.33333],46:vg,47:[.25,.75,.13164,0,.5],48:Ur,49:Ur,50:Ur,51:Ur,52:Ur,53:Ur,54:Ur,55:Ur,56:Ur,57:Ur,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:dn,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:kd,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:Ed,77:[0,.69444,.08094,0,.875],78:kd,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:cg,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:Ke,168:[0,.67937,.06385,0,.5],176:dg,184:Md,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:cg,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:hg,715:wt,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:dg,732:[0,.67659,.08826,0,.5],733:hg,915:[0,.69444,.13372,0,.54167],916:Cg,920:[0,.69444,.07555,0,.77778],923:Kn,926:[0,.69444,.12816,0,.66667],928:kd,931:[0,.69444,.11983,0,.72222],933:pg,934:[0,.69444,.04603,0,.72222],936:pg,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:Sd,8217:Sd,8220:[0,.69444,.14205,0,.5],8221:mg},"SansSerif-Regular":{32:Ke,33:[0,.69444,0,0,.31945],34:wt,35:fg,36:bd,37:gg,38:[0,.69444,0,0,.75834],39:ln,40:wo,41:wo,42:bg,43:vr,44:yg,45:[0,.44444,0,0,.33333],46:vg,47:un,48:Wr,49:Wr,50:Wr,51:Wr,52:Wr,53:Wr,54:Wr,55:Wr,56:Wr,57:Wr,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:Cd,64:dn,65:dn,66:dn,67:Li,68:[0,.69444,0,0,.72223],69:_g,70:[0,.69444,0,0,.56945],71:dn,72:Ld,73:ln,74:Cd,75:[0,.69444,0,0,.69445],76:Ed,77:[0,.69444,0,0,.875],78:Ld,79:[0,.69444,0,0,.73611],80:Li,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:ko,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:dn,89:[0,.69444,.025,0,.66667],90:Kn,91:xg,93:xg,94:wt,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:Ad,99:wg,100:Ad,101:wg,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:Ad,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:Sg,111:[0,.44444,0,0,.5],112:kg,113:kg,114:[0,.44444,.01389,0,.34167],115:Mg,116:[0,.57143,0,0,.36111],117:Sg,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:Ke,168:[0,.67937,0,0,.5],176:dn,184:Md,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:wt,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:wt,715:wt,728:wt,729:[0,.67937,0,0,.27778],730:dn,732:[0,.67659,0,0,.5],733:wt,915:Ed,916:Cg,920:Di,923:Kn,926:dn,928:Ld,931:Fa,933:Di,934:Fa,936:Di,937:Fa,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:ln,8217:ln,8220:wt,8221:wt},"Script-Regular":{32:Ke,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:Ke},"Size1-Regular":{32:Ke,40:Eg,41:Eg,47:Lg,91:Ag,92:Lg,93:Ag,123:Dg,125:Dg,160:Ke,710:Sl,732:Sl,770:Sl,771:Sl,8214:[-99e-5,.601,0,0,.77778],8593:Bg,8595:Bg,8657:Tg,8659:Tg,8719:Fg,8720:Fg,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:Pg,8748:Og,8749:Og,8750:Pg,8896:Mo,8897:Mo,8898:Mo,8899:Mo,8968:So,8969:So,8970:So,8971:So,9168:Td,10216:So,10217:So,10752:Dd,10753:Dd,10754:Dd,10756:Mo,10758:Mo},"Size2-Regular":{32:Ke,40:Ig,41:Ig,47:Ng,91:$g,92:Ng,93:$g,123:Rg,125:Rg,160:Ke,710:Cl,732:Cl,770:Cl,771:Cl,8719:zg,8720:zg,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:qg,8748:Kg,8749:Kg,8750:qg,8896:Co,8897:Co,8898:Co,8899:Co,8968:El,8969:El,8970:El,8971:El,10216:Hg,10217:Hg,10752:Bd,10753:Bd,10754:Bd,10756:Co,10758:Co},"Size3-Regular":{32:Ke,40:Vg,41:Vg,47:Ug,91:Wg,92:Ug,93:Wg,123:Ll,125:Ll,160:Ke,710:Al,732:Al,770:Al,771:Al,8730:[.95003,1.45,0,0,1],8968:Dl,8969:Dl,8970:Dl,8971:Dl,10216:Ll,10217:Ll},"Size4-Regular":{32:Ke,40:jg,41:jg,47:Gg,91:Xg,92:Gg,93:Xg,123:Bl,125:Bl,160:Ke,710:Tl,732:Tl,770:Tl,771:Tl,8730:[1.25003,1.75,0,0,1],8968:Fl,8969:Fl,8970:Fl,8971:Fl,9115:Ol,9116:Jg,9117:Ol,9118:Ol,9119:Jg,9120:Ol,9121:Pl,9122:Td,9123:Pl,9124:Pl,9125:Td,9126:Pl,9127:Yg,9128:Zg,9129:Qg,9130:[0,.3,0,0,.88889],9131:Yg,9132:Zg,9133:Qg,9143:[.88502,.915,0,0,1.05556],10216:Bl,10217:Bl,57344:eb,57345:eb,57680:Il,57681:Il,57682:Il,57683:Il},"Typewriter-Regular":{32:nb,33:ae,34:ae,35:ae,36:Br,37:Br,38:ae,39:ae,40:Br,41:Br,42:[0,.52083,0,0,.525],43:tb,44:[.13889,.125,0,0,.525],45:tb,46:[0,.125,0,0,.525],47:Br,48:ae,49:ae,50:ae,51:ae,52:ae,53:ae,54:ae,55:ae,56:ae,57:ae,58:Gt,59:[.13889,.43056,0,0,.525],60:rb,61:[-.19549,.41562,0,0,.525],62:rb,63:ae,64:ae,65:ae,66:ae,67:ae,68:ae,69:ae,70:ae,71:ae,72:ae,73:ae,74:ae,75:ae,76:ae,77:ae,78:ae,79:ae,80:ae,81:[.13889,.61111,0,0,.525],82:ae,83:ae,84:ae,85:ae,86:ae,87:ae,88:ae,89:ae,90:ae,91:Br,92:Br,93:Br,94:ae,95:[.09514,0,0,0,.525],96:ae,97:Gt,98:ae,99:Gt,100:ae,101:Gt,102:ae,103:Na,104:ae,105:ae,106:[.22222,.61111,0,0,.525],107:ae,108:ae,109:Gt,110:Gt,111:Gt,112:Na,113:Na,114:Gt,115:Gt,116:[0,.55358,0,0,.525],117:Gt,118:Gt,119:Gt,120:Gt,121:Na,122:Gt,123:Br,124:Br,125:Br,126:ae,127:ae,160:nb,176:ae,184:[.19445,0,0,0,.525],305:Gt,567:Na,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:ae,715:ae,728:ae,730:ae,770:ae,771:ae,776:ae,915:ae,916:ae,920:ae,923:ae,926:ae,928:ae,931:ae,933:ae,934:ae,936:ae,937:ae,8216:ae,8217:ae,8242:ae,9251:[.11111,.21944,0,0,.525]}},M9=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,aa=10,Nr=.25,S9=1.2,oi=.431,ib={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[oi,oi,oi],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[Nr,Nr,Nr],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},D0=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Hh=5,ob={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Io(e,t){e===void 0&&(e=77);let r=k9[t][e];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(e===11034)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let n=String.fromCodePoint(e);if(n in ob)e=ob[n].codePointAt(0);else if(M9.test(n))return e=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var B0={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},T0={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},ab={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:`m 529 160
  c -179 0 -524 -115 -524 -115
  c -5 -1 -9 -5 -9 -10
  c 0 -1 1 -2 1 -3
  l 4 -22
  c 1 -5 5 -9 11 -9
  h 2
  s 338 93 512 92
  c 174 0 513 -92 513 -92
  h 2
  c 5 0 9 4 11 9
  l 5 22
  c 1 6 -2 12 -8 13
  c 0 0 -342 115 -520 115
  z
  `,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,widetilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,widetilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,widetilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,widetilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};function C9(e){if(T0[e]){let[u,c,d]=T0[e],p=`<span class="ML__stretchy" style="height:${d}em"><svg width="100%" height="${d}em" viewBox="0 0 ${u} ${c}" preserveAspectRatio="none" ><path fill="currentcolor" d="${ab[e]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*d/2)/100}em;min-width:0">${p}</span>`}let[t,r,n,i]=B0[e],o,a,s=n/1e3;t.length===3?(o=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],a=["xMinYMin","xMidYMin","xMaxYMin"]):t.length===2?(o=["slice-1-of-2","slice-2-of-2"],a=["xMinYMin","xMaxYMin"]):(o=["slice-1-of-1"],a=[i]);let l=t.map((u,c)=>`<span class="${o[c]}" style=height:${s}em><svg width=400em height=${s}em viewBox="0 0 400000 ${n}" preserveAspectRatio="${a[c]} slice"><path fill="currentcolor" d="${ab[u]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${s}em;min-width:${r}em;">${l}</span>`}function E9(e){return B0[e]?B0[e][2]/1e3:T0[e][2]}function L9(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n===13&&e.charCodeAt(r+1)===10&&(n=10,r++),(n===13||n===12)&&(n=10),n===0&&(n=65533),n>=55296&&n<=56319){let i=e.charCodeAt(r+1);if(i>=56320&&i<=57343){let o=n-55296,a=i-56320;n=2**16+o*2**10+a,r++}}t.push(n)}return t}var ou=8205,A9=[[ou,1],[65038,2],[127995,5],[129456,4],[917536,96]],Nl,sb=[127462,127487];function lb(e){var t;if(Nl===void 0){Nl={};for(let r of A9)for(let n=r[0];n<=r[0]+r[1]-1;n++)Nl[n]=!0}return(t=Nl[e])!=null?t:!1}function D9(e){return e>=sb[0]&&e<=sb[1]}function n2(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;let t=[],r=L9(e),n=0;for(;n<r.length;){let i=r[n++],o=r[n];if(o===ou){let a=n-1;for(n+=2;r[n]===ou;)n+=2;t.push(String.fromCodePoint(...r.slice(a,n-a+1)))}else if(lb(o)){let a=n-1;for(;lb(r[n]);)n+=r[n]===ou?2:1;t.push(String.fromCodePoint(...r.slice(a,2*n-a-1)))}else D9(i)?(n+=1,t.push(String.fromCodePoint(...r.slice(n-2,2)))):t.push(String.fromCodePoint(i))}return t}var B9=class{constructor(e){this.obeyspaces=!1,this.pos=0,this.s=n2(e)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let t=typeof this.s=="string"?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return t!=null&&t[0]?(this.pos+=t[0].length,t[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let e=this.get();if(e==="\\"){if(!this.end()){let t=this.match(/^[a-zA-Z\*]+/);return t?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):t=this.get(),"\\"+t}}else{if(e==="{")return"<{>";if(e==="}")return"<}>";if(e==="^"){if(this.peek()==="^"){this.get();let t=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(t)return String.fromCodePoint(Number.parseInt(t.slice(t.lastIndexOf("^")+1),16))}return e}else if(e==="#"){if(!this.end()){let t=!1;if(/[\d?@]/.test(this.peek())&&(t=!0,this.pos+1<this.s.length)){let r=this.s[this.pos+1];t=/[^\dA-Za-z]/.test(r)}return t?"#"+this.get():"#"}}else if(e==="$")return this.peek()==="$"?(this.get(),"<$$>"):"<$>"}return e}};function T9(e,t){var r,n,i,o;let a=[],s=e.next();if(s&&s!=="\\relax"){if(s==="\\noexpand")s=e.next(),s&&a.push(s);else if(s==="\\obeyspaces")e.obeyspaces=!0;else if(s==="\\bgroup")a.push("<{>");else if(s==="\\egroup")a.push("<}>");else if(s==="\\string"){if(s=e.next(),s)if(s.startsWith("\\"))for(let l of s)a.push(l==="\\"?"\\backslash":l);else s==="<{>"?a.push("\\{"):s==="<space>"?a.push("~"):s==="<}>"&&a.push("\\}")}else if(s==="\\csname"){for(;e.peek()==="<space>";)e.next();let l="",u=!1,c=[];do{if(c.length===0)if(/^#[\d?@]$/.test(e.peek())){let d=e.get().slice(1);c=_s((n=(r=t==null?void 0:t(d))!=null?r:t==null?void 0:t("?"))!=null?n:"\\placeholder{}",t),s=c[0]}else s=e.next(),c=s?[s]:[];u=c.length===0,!u&&s==="\\endcsname"&&(u=!0,c.shift()),u||(u=s==="<$>"||s==="<$$>"||s==="<{>"||s==="<}>"||typeof s=="string"&&s.length>1&&s.startsWith("\\")),u||(l+=c.shift())}while(!u);l&&a.push("\\"+l),a.push(...c)}else if(s!=="\\endcsname")if(s.length>1&&s.startsWith("#")){let l=s.slice(1);a.push(..._s((o=(i=t==null?void 0:t(l))!=null?i:t==null?void 0:t("?"))!=null?o:"\\placeholder{}",t))}else a.push(s)}return a}function _s(e,t=null){if(!e)return[];let r=[],n="";for(let a of e.toString().split(/\r?\n/)){n&&r.push(n),n=" ";let s=a.match(/((?:\\%)|[^%])*/);s!==null&&r.push(s[0])}let i=new B9(r.join("")),o=[];do o.push(...T9(i,t));while(!i.end());return o}function Le(e){let t="",r=[];for(let n of e)n&&(t&&/^[a-zA-Z\*]/.test(n)&&r.push(t),r.push(n),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&r.push(" "),t=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return r.join("")}function et(e,...t){return e.startsWith("\\"),t.length===0?e:Le([e,...t.map(r=>`{${r}}`)])}function Fi(e){return Le(e.map(t=>{var r;return(r={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[t])!=null?r:t}))}var i2=class Ga{constructor(t){Ga._registry[t]=this}static createAtom(t,r,n){return Ga._registry[t].createAtom(r,$t(r,t),n)}static serialize(t,r){var n;if(!t||t.length===0)return"";if((n=r.skipStyles)!=null&&n){let i=[];for(let o of o2(t)){let a=Ga._registry[o[0].mode];i.push(...a.serialize(o,r))}return Le(i)}return Le(O9(t,r))}static getFont(t,r,n){return Ga._registry[t].getFont(r,n)}};i2._registry={};var hr=i2;function o2(e){let t=[],r=[],n="NONE";for(let i of e)i.type!=="first"&&(i.mode!==n?(r.length>0&&t.push(r),r=[i],n=i.mode):r.push(i));return r.length>0&&t.push(r),t}function F0(e){if(!e||e.mode!=="math")return"";let{style:t}=e;return!t||!t.variantStyle?"":t.variantStyle==="bold"||t.variantStyle==="bolditalic"?"bold":""}function O0(e){if(!e)return"";let{style:t}=e;if(!t)return"";let r=t.variant;return r===void 0?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&t.variantStyle&&(r+="-"+t.variantStyle),r)}function Sn(e,t){let r=[],n=[],i;for(let o of e){if(o.type==="first")continue;let a;t==="variant"?a=O0(o):t==="bold"?a=F0(o):a=o.style[t],a===i?n.push(o):(n.length>0&&r.push(n),n=[o],i=a)}return n.length>0&&r.push(n),r}function ub(e,t){var r;let{parent:n}=e[0],i=n==null?void 0:n.style.color,o=[];for(let a of o2(e)){let s=t.defaultMode;for(let l of Sn(a,"color")){let u=l[0].style,c=hr._registry[l[0].mode].serialize(l,B(M({},t),{defaultMode:s==="text"?"text":"math"}));!t.skipStyles&&u.color&&u.color!=="none"&&(!n||i!==u.color)?o.push(et("\\textcolor",(r=u.verbatimColor)!=null?r:u.color,Le(c))):o.push(Le(c))}}return o}function F9(e,t){let{parent:r}=e[0],n=r==null?void 0:r.style.backgroundColor;return Sn(e,"backgroundColor").map(i=>{var o;if(i.length>0||i[0].type!=="box"){let a=i[0].style;if(a.backgroundColor&&a.backgroundColor!=="none"&&(!r||n!==a.backgroundColor))return et("\\colorbox",(o=a.verbatimBackgroundColor)!=null?o:a.backgroundColor,Le(ub(i,B(M({},t),{defaultMode:"text"}))))}return Le(ub(i,t))})}function O9(e,t){if(e.length===0)return[];let{parent:r}=e[0],n=r==null?void 0:r.style.fontSize,i=[];for(let o of Sn(e,"fontSize")){let a=o[0].style.fontSize,s=F9(o,t);s&&(a&&a!=="auto"&&(!r||n!==a)?i.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][a],...s):i.push(...s))}return i}function P0(e){return e?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[e]:void 0}function Es(e){if(e.length===0)return"ord";let t=P0(e[0].type),r=P0(e[e.length-1].type);return t&&t===r?t:"ord"}function $a(e,t){if(typeof e=="string")return e;if(typeof e=="number"){let r=Math.ceil(100*e)/100;return r===0?"0":r.toString()+(t??"")}return""}var Z=class a2{constructor(t,r){var n,i,o,a,s;if(typeof t=="number"?this.value=String.fromCodePoint(t):typeof t=="string"?this.value=t:Pt(t)?this.children=t.filter(u=>u!==null):t&&t instanceof a2&&(this.children=[t]),this.children)for(let u of this.children)u.parent=this;this.type=(n=r==null?void 0:r.type)!=null?n:"ignore",this.isSelected=(r==null?void 0:r.isSelected)===!0,r!=null&&r.caret&&(this.caret=r.caret),this.classes=(i=r==null?void 0:r.classes)!=null?i:"",this.isTight=(o=r==null?void 0:r.isTight)!=null?o:!1,r!=null&&r.attributes&&(this.attributes=r.attributes);let l=r==null?void 0:r.fontFamily;r!=null&&r.style&&this.value&&(l=(s=hr.getFont((a=r.mode)!=null?a:"math",this,B(M({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))!=null?s:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,(r==null?void 0:r.maxFontSize)!==void 0&&(this.maxFontSize=r.maxFontSize),P9(this,l)}set atomID(t){t===void 0||t.length===0||(this.id=t)}selected(t){if(this.isSelected!==t&&(this.isSelected=t,this.children))for(let r of this.children)r.selected(t)}setStyle(t,r,n){if(r===void 0)return;let i=$a(r,n);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[t]=i)}setTop(t){Number.isFinite(t)&&Math.abs(t)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=$a(t,"em"),this.height-=t,this.depth+=t)}get left(){var t;return(t=this.cssProperties)!=null&&t["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(t){Number.isFinite(t)&&(t===0?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=$a(t,"em")))}set right(t){Number.isFinite(t)&&(t===0?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=$a(t,"em")))}set bottom(t){Number.isFinite(t)&&(t===0?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=$a(t,"em")))}get width(){return this._width*this.scale}set width(t){this._width=t,this.hasExplicitWidth=!0}set softWidth(t){}get height(){return this._height*this.scale}set height(t){this._height=t}get depth(){return this._depth*this.scale}set depth(t){this._depth=t}wrap(t){let r=t.parent;if(!r)return this;t.isPhantom&&this.setStyle("opacity",0);let n=t.color;n&&n!==r.color&&this.setStyle("color",n);let i=t.backgroundColor;this.isSelected&&(i=p9(i)),i&&i!==r.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let o=t.scalingFactor;return this.scale=o,this.skew*=o,this.italic*=o,this}toMarkup(){var t,r,n,i;let o=(t=this.value)!=null?t:"";if(this.children)for(let m of this.children)o+=m.toMarkup();let a="";if(this.svgBody)a=C9(this.svgBody);else if(this.svgOverlay){a='<span style="',a+="display: inline-block;",a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,a+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,a+='">',a+=o,a+="</span>",a+='<svg style="position:absolute;overflow:visible;',a+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let m=(r=this.cssProperties)==null?void 0:r.padding;m?(a+=`top:${m};`,a+=`left:${m};`,a+=`width:calc(100% - 2 * ${m} );`):a+="top:0;left:0;width:100%;",a+="z-index:2;",a+='"',this.svgStyle&&(a+=this.svgStyle),a+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,a+=`>${this.svgOverlay}</svg>`}let s="",l=this.classes.split(" ");l.push((n={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])!=null?n:""),this.caret==="latex"&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let u=l.length===1?l[0]:l.filter((m,g,y)=>m.length>0&&y.indexOf(m)===g).join(" ");if(u.length>0&&(s+=` class="${u}"`),this.id&&(s+=` data-atom-id=${this.id}`),this.cssId&&(s+=` id="${this.cssId.replace(/ /g,"-")}" `),this.attributes&&(s+=" "+Object.keys(this.attributes).map(m=>`${m}="${this.attributes[m]}"`).join(" ")),this.htmlData){let m=this.htmlData.split(",");for(let g of m){let y=g.match(/([^=]+)=(.+$)/);if(y){let L=y[1].trim().replace(/ /g,"-");L&&(s+=` data-${L}="${y[2]}" `)}else{let L=g.trim().replace(/ /g,"-");L&&(s+=` data-${L} `)}}}let c=(i=this.cssProperties)!=null?i:{};this.hasExplicitWidth&&c.width===void 0&&(c.width=`${Math.ceil(this._width*100)/100}em`);let d=Object.keys(c).map(m=>`${m}:${c[m]}`);if(this.scale!==void 0&&this.scale!==1&&(o.length>0||a.length>0)&&d.push(`font-size: ${Math.ceil(this.scale*1e4)/100}%`),this.htmlStyle){let m=this.htmlStyle.split(";"),g="";for(let y of m){let L=y.match(/([^=]+):(.+$)/);if(L){let E=L[1].trim().replace(/ /g,"-");E&&(g+=`${E}:${L[2]};`)}}g&&(s+=` style="${g}"`)}d.length>0&&(s+=` style="${d.join(";")}"`);let p="";return s.length>0||a.length>0?p=`<span${s}>${o}${a}</span>`:p=o,this.caret==="text"?p+='<span class="ML__text-caret"></span>':this.caret==="math"&&(p+='<span class="ML__caret"></span>'),p}tryCoalesceWith(t){if(this.svgBody||!this.value||t.svgBody||!t.value)return!1;let r=this.children&&this.children.length>0,n=t.children&&t.children.length>0;if(r||n)return!1;if(t.cssProperties||this.cssProperties){for(let l of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(t.cssProperties&&l in t.cssProperties||this.cssProperties&&l in this.cssProperties)return!1}let i=this.cssProperties?Object.keys(this.cssProperties).length:0,o=t.cssProperties?Object.keys(t.cssProperties).length:0;if(i!==o)return!1;if(i>0){for(let l of Object.keys(this.cssProperties))if(this.cssProperties[l]!==t.cssProperties[l])return!1}let a=this.classes.trim().replace(/\s+/g," ").split(" "),s=t.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==s.length)return!1;a.sort(),s.sort();for(let[l,u]of a.entries())if(u==="ML__vertical-separator"||u!==s[l])return!1;return this.value+=t.value,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this._width=this._width+t._width,this.maxFontSize=Math.max(this.maxFontSize,t.maxFontSize),this.italic=t.italic,!0}};function I0(e){if(!e||e.length===0)return[];e[0].children=I0(e[0].children);let t=[e[0]];for(let r=1;r<e.length;r++)t[t.length-1].tryCoalesceWith(e[r])||(e[r].children=I0(e[r].children),t.push(e[r]));return t}function cc(e){return e.children&&(e.children=I0(e.children)),e}function dc(e,t){if(!e)return new Z(null,t);let r=new Z(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,e.height),"em");let n=[r];if(e.depth!==0){let i=new Z(null,{classes:"ML__strut--bottom",type:"ignore"});i.setStyle("height",e.height+e.depth,"em"),i.setStyle("vertical-align",-e.depth,"em"),n.push(i)}return n.push(e),new Z(n,B(M({},t),{type:"lift"}))}function au(e){let t=E9(e)/2,r=new Z(null,{maxFontSize:0});return r.height=t+.166,r.depth=t-.166,r.svgBody=e,r}function P9(e,t){var r;if(e.type==="latex"){e.height=.9,e.depth=.2,e._width=1;return}if(e.value){e.height=-1/0,e.depth=-1/0,e._width=0,e.skew=-1/0,e.italic=-1/0;for(let n=0;n<e.value.length;n++){let i=Io(e.value.codePointAt(n),t);e.height=Math.max(e.height,i.height),e.depth=Math.max(e.depth,i.depth),e._width+=i.width,e.skew=i.skew,e.italic=i.italic}return}if(e.children&&e.children.length>0){let n=-1/0,i=-1/0,o=0;for(let a of e.children)a.height>n&&(n=a.height),a.depth>i&&(i=a.depth),o=Math.max(o,(r=a.maxFontSize)!=null?r:0);e.height=n,e.depth=i,e._width=e.children.reduce((a,s)=>a+s.width,0),e.maxFontSize=o}}function I9(e){if("individualShift"in e){let t=e.individualShift,r=t[0];if(r==null)return[null,0];let n=[r],i=-r.shift-r.box.depth,o=i;for(let a=1;a<t.length;a++){let s=t[a],l=-s.shift-o-s.box.depth,u=l-(r.box.height+r.box.depth);o=o+l,n.push(u),n.push(s),r=s}return[n,i]}if("top"in e){let t=e.top;for(let r of e.children)t-=typeof r=="number"?r:r.box.height+r.box.depth;return[e.children,t]}else{if("bottom"in e)return[e.children,-e.bottom];if("firstBaseline"in e){let t=e.firstBaseline[0];if(typeof t=="number")throw new Error("First child must be an element.");return[e.firstBaseline,-t.box.depth]}else if("shift"in e){let t=e.children[0];if(typeof t=="number")throw new Error("First child must be an element.");return[e.children,-t.box.depth-e.shift]}}return[null,0]}function N9(e){var t;let[r,n]=I9(e);if(!r)return[[],0,0];let i=new Z(null,{classes:"ML__pstrut"}),o=0;for(let g of r)if(typeof g!="number"){let y=g.box;o=Math.max(o,y.maxFontSize,y.height)}o+=2,i.height=o,i.setStyle("height",o,"em");let a=[],s=n,l=n,u=n,c=0;for(let g of r){if(typeof g=="number")u+=g;else{let y=g.box,L=(t=g.classes)!=null?t:[],E=new Z([i,y],{classes:L.join(" "),style:g.style});y.setStyle("height",y.height+y.depth,"em"),y.setStyle("display","inline-block"),E.setStyle("top",-o-u-y.depth,"em"),g.marginLeft&&E.setStyle("margin-left",g.marginLeft,"em"),g.marginRight&&E.setStyle("margin-right",g.marginRight,"em"),a.push(E),u+=y.height+y.depth,c=Math.max(c,E.width)}s=Math.min(s,u),l=Math.max(l,u)}a.forEach(g=>{g.softWidth=c});let d=new Z(a,{classes:"ML__vlist"});if(d.softWidth=c,d.height=l,d.setStyle("height",l,"em"),s>=0)return[[new Z(d,{classes:"ML__vlist-r"})],l,-s];let p=new Z(new Z(null),{classes:"ML__vlist"});p.height=-s,p.setStyle("height",-s,"em");let m=new Z(8203,{classes:"ML__vlist-s",maxFontSize:0});return m.softWidth=0,m.height=0,m.depth=0,[[new Z([d,m],{classes:"ML__vlist-r"}),new Z(p,{classes:"ML__vlist-r"})],l,-s]}var _t=class extends Z{constructor(e,t){var r;let[n,i,o]=N9(e);super(n.length===1?n[0]:n,{type:t==null?void 0:t.type,classes:((r=t==null?void 0:t.classes)!=null?r:"")+" ML__vlist-t"+(n.length===2?" ML__vlist-t2":"")}),this.height=i,this.depth=o,this.softWidth=n.reduce((a,s)=>Math.max(a,s.width),0)}};function $9(e,t){var r,n,i,o,a;let s=e.metrics,l=new Z(t.base),u=(r=t.baseShift)!=null?r:0,c=(n=t.slant)!=null?n:0,d=0,p=0;t.above&&(d=(i=t.aboveShift)!=null?i:Math.max(s.bigOpSpacing1,s.bigOpSpacing3-t.above.depth)),t.below&&(p=(o=t.belowShift)!=null?o:Math.max(s.bigOpSpacing2,s.bigOpSpacing4-t.below.height));let m=null;if(t.below&&t.above){let g=s.bigOpSpacing5+t.below.height+t.below.depth+p+l.depth+u;m=new _t({bottom:g,children:[s.bigOpSpacing5,{box:t.below,marginLeft:-c,classes:["ML__center"]},p,{box:l,classes:["ML__center"]},d,{box:t.above,marginLeft:c,classes:["ML__center"]},s.bigOpSpacing5]}).wrap(e)}else if(t.below&&!t.above)m=new _t({top:l.height-u,children:[s.bigOpSpacing5,{box:t.below,marginLeft:-c,classes:["ML__center"]},p,{box:l,classes:["ML__center"]}]}).wrap(e);else if(!t.below&&t.above){let g=l.depth+u;m=new _t({bottom:g,children:[{box:l,classes:["ML__center"]},d,{box:t.above,marginLeft:c,classes:["ML__center"]},s.bigOpSpacing5]}).wrap(e)}else{let g=l.depth+u;m=new _t({bottom:g,children:[{box:l},s.bigOpSpacing5]}).wrap(e)}return new Z(m,{type:(a=t.type)!=null?a:"op"})}var Vh=7,Lu=6,hc=5,Wi=4,jo=3,ur=2,Xi=1,qt=0,Hn=class{constructor(e,t,r){this.id=e,this.sizeDelta=t,this.cramped=r;let n={"-4":2,"-3":1,0:0}[t];this.metrics=Object.keys(ib).reduce((i,o)=>B(M({},i),{[o]:ib[o][n]}),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return Yr[[qt,Xi,qt,Xi,ur,jo,ur,jo][this.id]]}get sub(){return Yr[[qt,qt,qt,qt,ur,ur,ur,ur][this.id]]}get fracNum(){return Yr[[qt,Xi,qt,Xi,ur,jo,Wi,hc][this.id]]}get fracDen(){return Yr[[qt,qt,qt,qt,ur,ur,Wi,Wi][this.id]]}get cramp(){return Yr[[qt,qt,ur,ur,Wi,Wi,Lu,Lu][this.id]]}get isTight(){return this.sizeDelta<0}},Ra={7:new Hn(Vh,0,!1),6:new Hn(Lu,0,!0),5:new Hn(hc,0,!1),4:new Hn(Wi,0,!0),3:new Hn(jo,-3,!1),2:new Hn(ur,-3,!0),1:new Hn(Xi,-4,!1),0:new Hn(qt,-4,!0)},Yr=B(M({},Ra),{displaystyle:Ra[Vh],textstyle:Ra[hc],scriptstyle:Ra[jo],scriptscriptstyle:Ra[Xi]});function s2(e,t){var r;if(!e)return 0;let n={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:aa,bp:803/800,dd:1238/1157,pc:12,in:72.27,mu:10/18}[(r=e.unit)!=null?r:"pt"];if(Number.isFinite(t)){let i=10**t;return Math.round(e.dimension/aa*n*i)/i}return e.dimension*n}function l2(e,t){if(e===null)return 0;let r=s2(e)/aa;if(Number.isFinite(t)){let n=10**t;return Math.round(r*n)/n}return r}function Fd(e){var t;return`${e.dimension}${(t=e.unit)!=null?t:"pt"}`}function R9(e){let t=Fd(e.glue);return e.grow&&e.grow.dimension!==0&&(t+=` plus ${Fd(e.grow)}`),e.shrink&&e.shrink.dimension!==0&&(t+=` minus ${Fd(e.shrink)}`),t}function Ot(e){var t,r;if(e==null)return null;let n="";if("dimension"in e&&(n=`${e.dimension}${(t=e.unit)!=null?t:"pt"}`),"glue"in e&&(n=R9(e)),"number"in e)if(!("base"in e)||e.base==="decimal")n=Number(e.number).toString();else if(e.base==="alpha")n=`\`${String.fromCodePoint(e.number)}`;else{let i=Math.round(e.number)>>>0;e.base==="hexadecimal"?(n=Number(i).toString(16).toUpperCase(),i<=255?n=n.padStart(2,"0"):i<=65535?n=n.padStart(4,"0"):i<=16777215?n=n.padStart(6,"0"):n=n.padStart(8,"0"),n=`"${n}`):e.base==="octal"&&(n=Number(i).toString(8),i<=63?n=n.padStart(2,"0"):i<=30583?n=n.padStart(4,"0"):n=n.padStart(8,"0"),n=`'${n}`)}return"register"in e&&("factor"in e&&(e.factor===-1?n="-":e.factor!==1&&(n=Number(e.factor).toString())),"global"in e&&e.global&&(n+="\\global"),n+=`\\${e.register}`),"string"in e&&(n=e.string),(r=e.relax)!=null&&r&&(n+="\\relax"),n}function jr(e,t){return e==null?null:"number"in e?B(M({},e),{number:e.number*t}):"register"in e?"factor"in e&&e.factor?B(M({},e),{factor:e.factor*t}):B(M({},e),{factor:t}):"dimension"in e?B(M({},e),{dimension:e.dimension*t}):"glue"in e?e.shrink&&e.grow?{glue:jr(e.glue,t),shrink:jr(e.shrink,t),grow:jr(e.grow,t)}:e.shrink?{glue:jr(e.glue,t),shrink:jr(e.shrink,t)}:e.grow?{glue:jr(e.glue,t),grow:jr(e.grow,t)}:{glue:jr(e.glue,t)}:null}var z9={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:new Date().getMonth()+1,day:new Date().getDate(),year:new Date().getFullYear()};function u2(){return M({},z9)}function c2(){return{registers:u2(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:Se.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:uc,backgroundColorMap:zh,getMacro:e=>t2(e,qh())}}var Ie=class d2{constructor(t,r){var n,i,o,a,s,l,u,c,d,p,m,g,y,L,E;let C;t!=null&&t.parent?(this.parent=t.parent,C=t.parent,this.registers={}):(C=M(M({},c2()),(n=t==null?void 0:t.from)!=null?n:{}),this.registers=C.registers),C.atomIdsSettings&&(this.atomIdsSettings=M({},C.atomIdsSettings)),this.renderPlaceholder=C.renderPlaceholder,this.isPhantom=(a=(o=t==null?void 0:t.isPhantom)!=null?o:(i=this.parent)==null?void 0:i.isPhantom)!=null?a:!1,this.letterShapeStyle=C.letterShapeStyle,this.minFontScale=C.minFontScale,this.maxMatrixCols=C.maxMatrixCols,r!=null&&r.color&&r.color!=="none"?this.color=r.color:this.color=(l=(s=this.parent)==null?void 0:s.color)!=null?l:"",r!=null&&r.backgroundColor&&r.backgroundColor!=="none"?this.backgroundColor=r.backgroundColor:this.backgroundColor=(c=(u=this.parent)==null?void 0:u.backgroundColor)!=null?c:"",r!=null&&r.fontSize&&r.fontSize!=="auto"&&r.fontSize!==((d=this.parent)==null?void 0:d.size)?this.size=r.fontSize:this.size=(m=(p=this.parent)==null?void 0:p.size)!=null?m:Hh;let v=(y=(g=this.parent)==null?void 0:g.mathstyle)!=null?y:Yr.displaystyle;if(typeof(t==null?void 0:t.mathstyle)=="string"){if(C instanceof d2)switch(t.mathstyle){case"cramp":v=v.cramp;break;case"superscript":v=v.sup;break;case"subscript":v=v.sub;break;case"numerator":v=v.fracNum;break;case"denominator":v=v.fracDen;break}switch(t.mathstyle){case"textstyle":v=Yr.textstyle;break;case"displaystyle":v=Yr.displaystyle;break;case"scriptstyle":v=Yr.scriptstyle;break;case"scriptscriptstyle":v=Yr.scriptscriptstyle;break}}this.mathstyle=v,this.smartFence=C.smartFence,this.placeholderSymbol=C.placeholderSymbol,this.colorMap=(L=C.colorMap)!=null?L:k=>k,this.backgroundColorMap=(E=C.backgroundColorMap)!=null?E:k=>k,this.getMacro=C.getMacro,this.parent!==void 0||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if(typeof this.atomIdsSettings.seed!="number")return`${Date.now().toString(36).slice(-2)}${Math.floor(Math.random()*1e5).toString(36)}`;let t=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,t}scale(t){return t*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return this.mathstyle.id===Vh||this.mathstyle.id===Lu}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(D0[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(t){var r;if((r=this.registers)!=null&&r[t])return this.registers[t];if(this.parent)return this.parent.getRegister(t)}getRegisterAsNumber(t){let r=this.getRegister(t);if(typeof r=="number")return r;if(typeof r=="string")return Number(r)}getRegisterAsGlue(t){var r;if((r=this.registers)!=null&&r[t]){let n=this.registers[t];return typeof n=="object"&&"glue"in n?n:typeof n=="object"&&"dimension"in n?{glue:{dimension:n.dimension}}:typeof n=="number"?{glue:{dimension:n}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(t)}getRegisterAsEm(t,r){return l2(this.getRegisterAsDimension(t),r)}getRegisterAsDimension(t){var r;if((r=this.registers)!=null&&r[t]){let n=this.registers[t];return typeof n=="object"&&"glue"in n?n.glue:typeof n=="object"&&"dimension"in n?n:typeof n=="number"?{dimension:n}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(t)}setRegister(t,r){if(r===void 0){delete this.registers[t];return}this.registers[t]=r}evaluate(t){if(!t||!("register"in t))return t;let r=this;if("global"in t&&t.global)for(;r.parent;)r=r.parent;let n=1;"factor"in t&&t.factor!==1&&t.factor!==void 0&&(n=t.factor);let i=r.getRegister(t.register);if(i===void 0)return;if(typeof i=="string")return{string:Number(i).toString()+i};if(typeof i=="number")return{number:n*i};let o=r.evaluate(i);if(o!==void 0)return"string"in o?{string:Number(i).toString()+o.string}:"number"in o?{number:n*o.number}:"dimension"in o?B(M({},o),{dimension:n*o.dimension}):"glue"in o?B(M({},o),{glue:B(M({},o.glue),{dimension:n*o.glue.dimension}),shrink:o.shrink?B(M({},o.shrink),{dimension:n*o.shrink.dimension}):void 0,grow:o.grow?B(M({},o.grow),{dimension:n*o.grow.dimension}):void 0}):t}toDimension(t){let r=this.evaluate(t);return r===void 0?null:"dimension"in r?r:"glue"in r?r.glue:"number"in r?{dimension:r.number}:null}toEm(t,r){if(t===null)return 0;let n=this.toDimension(t);return n===null?0:s2(n,r)/aa}toNumber(t){if(t===null)return null;let r=this.evaluate(t);return r===void 0?null:"number"in r?r.number:"dimension"in r?r.dimension:"glue"in r?r.glue.dimension:"string"in r?Number(r.string):null}toColor(t){var r,n;if(t===null)return null;let i=this.evaluate(t);return i===void 0?null:"string"in i?(n=(r=this.colorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}toBackgroundColor(t){var r,n;if(t===null)return null;let i=this.evaluate(t);return i===void 0?null:"string"in i?(n=(r=this.backgroundColorMap)==null?void 0:r.call(this,i.string))!=null?n:i.string:null}},sa=["body","above","below","superscript","subscript"];function Ki(e){return typeof e=="string"&&sa.includes(e)}function Au(e){return e!==void 0&&Array.isArray(e)&&e.length===2}var q=class hn{constructor(t){var r,n,i,o,a,s,l;this.type=t.type,typeof t.value=="string"&&(this.value=t.value),this.command=(n=(r=t.command)!=null?r:this.value)!=null?n:"",this.mode=(i=t.mode)!=null?i:"math",t.isFunction&&(this.isFunction=!0),t.limits&&(this.subsupPlacement=t.limits),this.style=M({},(o=t.style)!=null?o:{}),this.displayContainsHighlight=(a=t.displayContainsHighlight)!=null?a:!1,this.captureSelection=(s=t.captureSelection)!=null?s:!1,this.skipBoundary=(l=t.skipBoundary)!=null?l:!1,t.verbatimLatex!==void 0&&t.verbatimLatex!==null&&(this.verbatimLatex=t.verbatimLatex),t.args&&(this.args=t.args),t.body&&(this.body=t.body),this._changeCounter=0}static createBox(t,r,n){var i;if(!r)return null;let o=K9(r),a=[];for(let l of o){let u=l[0].style,c=q9(t,l,{style:{color:u.color,backgroundColor:u.backgroundColor,fontSize:u.fontSize}});c&&a.push(c)}if(a.length===0)return null;let s=((i=n==null?void 0:n.classes)!=null?i:"").trim();return a.length===1&&!s&&!(n!=null&&n.type)?a[0].wrap(t):new Z(a,{classes:s,type:n==null?void 0:n.type}).wrap(t)}static serialize(t,r){return hr.serialize(t,r)}static commonAncestor(t,r){if(t===r||t.parent===r.parent)return t.parent;let n=new WeakSet,{parent:i}=t;for(;i;)n.add(i),i=i.parent;for(i=r.parent;i;){if(n.has(i))return i;i=i.parent}}static fromJson(t){return typeof t=="string"?new hn({type:"mord",value:t,mode:"math"}):new hn(t)}toJson(){if(this._json)return this._json;let t={};if(this.type&&(t.type=this.type),this.mode!=="math"&&(t.mode=this.mode),this.command&&this.command!==this.value&&(t.command=this.command),this.value!==void 0&&(t.value=this.value),this.style&&Object.keys(this.style).length>0&&(t.style=M({},this.style)),this.verbatimLatex!==void 0&&(t.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(t.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(t.explicitSubsupPlacement=!0),this.isFunction&&(t.isFunction=!0),this.displayContainsHighlight&&(t.displayContainsHighlight=!0),this.skipBoundary&&(t.skipBoundary=!0),this.captureSelection&&(t.captureSelection=!0),this.args&&(t.args=H9(this.args)),this._branches)for(let r of Object.keys(this._branches))this._branches[r]&&(t[r]=this._branches[r].filter(n=>n.type!=="first").map(n=>n.toJson()));return t.type==="mord"&&Object.keys(t).length===2&&"value"in t?t.value:(this._json=t,t)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(t){t&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,t):this.body&&this.command?Le([et(this.command,this.bodyToLatex(t)),this.supsubToLatex(t)]):this.body?Le([this.bodyToLatex(t),this.supsubToLatex(t)]):!this.value||this.value==="​"?"":this.command}bodyToLatex(t){var r;let n=(r=t.defaultMode)!=null?r:this.mode==="math"?"math":"text";return hr.serialize(this.body,B(M({},t),{defaultMode:n}))}aboveToLatex(t){return hr.serialize(this.above,t)}belowToLatex(t){return hr.serialize(this.below,t)}supsubToLatex(t){let r="";if(t=B(M({},t),{defaultMode:"math"}),this.branch("subscript")!==void 0){let n=hr.serialize(this.subscript,t);n.length===0?r+="_{}":n.length===1?/^[0-9]$/.test(n)?r+=`_${n}`:r+=`_{${n}}`:r+=`_{${n}}`}if(this.branch("superscript")!==void 0){let n=hr.serialize(this.superscript,t);n.length===0?r+="^{}":n.length===1?n==="′"?r+="^\\prime ":n==="″"?r+="^\\doubleprime ":/^[0-9]$/.test(n)?r+=`^${n}`:r+=`^{${n}}`:r+=`^{${n}}`}return r}get treeDepth(){let t=1,r=this.parent;for(;r;)r=r.parent,t+=1;return t}get inCaptureSelection(){let t=this;for(;t;){if(t.captureSelection)return!0;t=t.parent}return!1}get parentPrompt(){let t=this.parent;for(;t;){if(t.type==="prompt"&&!t.captureSelection)return t;t=t.parent}return null}branch(t){if(Ki(t)&&this._branches)return this._branches[t]}get branches(){if(!this._branches)return[];let t=[];for(let r of sa)this._branches[r]&&t.push(r);return t}createBranch(t){return Ki(t),Ki(t)?(this._branches?this._branches[t]||(this._branches[t]=[this.makeFirstAtom(t)]):this._branches={[t]:[this.makeFirstAtom(t)]},this.isDirty=!0,this._branches[t]):[]}get row(){return Au(this.parentBranch)?this.parentBranch[0]:-1}get col(){return Au(this.parentBranch)?this.parentBranch[1]:-1}get body(){var t;return(t=this._branches)==null?void 0:t.body}set body(t){this.setChildren(t,"body")}get superscript(){var t;return(t=this._branches)==null?void 0:t.superscript}set superscript(t){this.setChildren(t,"superscript")}get subscript(){var t;return(t=this._branches)==null?void 0:t.subscript}set subscript(t){this.setChildren(t,"subscript")}get above(){var t;return(t=this._branches)==null?void 0:t.above}set above(t){this.setChildren(t,"above")}get below(){var t;return(t=this._branches)==null?void 0:t.below}set below(t){this.setChildren(t,"below")}applyStyle(t){this.isDirty=!0,this.style=M(M({},this.style),t),this.style.fontFamily==="none"&&delete this.style.fontFamily,this.style.fontShape==="auto"&&delete this.style.fontShape,this.style.fontSeries==="auto"&&delete this.style.fontSeries,this.style.color==="none"&&(delete this.style.color,delete this.style.verbatimColor),this.style.backgroundColor==="none"&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),this.style.fontSize==="auto"&&delete this.style.fontSize;for(let r of this.children)r.applyStyle(t)}getInitialBaseElement(){var t,r,n;return this.hasEmptyBranch("body")?this:((t=this.body)==null||t[0].type,(n=(r=this.body[1])==null?void 0:r.getInitialBaseElement())!=null?n:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return this.type==="leftright"||this.type==="genfrac"||this.type==="subsup"||this.type==="delim"||this.type==="array"||this.type==="surd"?!1:this.getFinalBaseElement().type==="mord"}hasEmptyBranch(t){let r=this.branch(t);return r?(r.length>0,r[0].type,r.length===1):!0}setChildren(t,r){var n;if(!t||(Ki(r),!Ki(r)))return;let i=((n=t[0])==null?void 0:n.type)==="first"?[...t]:[this.makeFirstAtom(r),...t];this._branches?this._branches[r]=i:this._branches={[r]:i};for(let o of t)o.parent=this,o.parentBranch=r;this.isDirty=!0}makeFirstAtom(t){let r=new hn({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=t,r}addChild(t,r){t.type,this.createBranch(r).push(t),this.isDirty=!0,t.parent=this,t.parentBranch=r}addChildBefore(t,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r),0,t),this.isDirty=!0,t.parent=this,t.parentBranch=r.parentBranch}addChildAfter(t,r){r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,t),this.isDirty=!0,t.parent=this,t.parentBranch=r.parentBranch}addChildren(t,r){let n=this.createBranch(r);for(let i of t)i.parent=this,i.parentBranch=r,n.push(i);this.isDirty=!0}addChildrenAfter(t,r){t.length===0||t[0].type,r.parentBranch;let n=this.createBranch(r.parentBranch);n.splice(n.indexOf(r)+1,0,...t),this.isDirty=!0;for(let i of t)i.parent=this,i.parentBranch=r.parentBranch;return t[t.length-1]}removeBranch(t){let r=this.branch(t);if(Ki(t)&&(this._branches[t]=void 0),!r)return[];for(let o of r)o.parent=void 0,o.parentBranch=void 0;r[0].type;let[n,...i]=r;return this.isDirty=!0,i}removeChild(t){if(t.parent,t.type==="first")return;let r=this.branch(t.parentBranch),n=r.indexOf(t);r.splice(n,1),this.isDirty=!0,t.parent=void 0,t.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:t}=this;return t[t.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return this.siblings.length===1}get leftSibling(){this.parent;let t=this.parent.branch(this.parentBranch);return t[t.indexOf(this)-1]}get rightSibling(){this.parent;let t=this.parent.branch(this.parentBranch);return t[t.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:t}=this;return t[t.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let t=[];for(let r of sa)if(this._branches[r])for(let n of this._branches[r])t.push(...n.children),t.push(n);return this._children=t,t}render(t){if(this.type==="first"&&!t.atomIdsSettings)return null;let r=$t(this.command,this.mode);if(r!=null&&r.render)return r.render(this,t);let n=new Ie({parent:t},this.style),i=this.createBox(n,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(n,{base:i})),i.wrap(n)):null}attachSupsub(t,r){var n;let i=r.base,o=this.superscript,a=this.subscript;if(!o&&!a)return i;let s=null,l=null,u=(n=r.isCharacterBox)!=null?n:this.isCharacterBox(),c=0;if(o){let y=new Ie({parent:t,mathstyle:"superscript"});s=hn.createBox(y,o),u||(c=i.height-t.metrics.supDrop*y.scalingFactor)}let d=0;if(a){let y=new Ie({parent:t,mathstyle:"subscript"});l=hn.createBox(y,a),u||(d=i.depth+t.metrics.subDrop*y.scalingFactor)}let p;t.isDisplayStyle?p=t.metrics.sup1:t.isCramped?p=t.metrics.sup3:p=t.metrics.sup2;let m=.5/aa/t.scalingFactor,g=null;if(l&&s){c=Math.max(c,p,s.depth+.25*t.metrics.xHeight),d=Math.max(d,t.metrics.sub2);let y=t.metrics.defaultRuleThickness;if(c-s.depth-(l.height-d)<4*y){d=4*y-(c-s.depth)+l.height;let E=.8*t.metrics.xHeight-(c-s.depth);E>0&&(c+=E,d-=E)}let L=this.type==="extensible-symbol"&&i.italic?-i.italic:0;g=new _t({individualShift:[{box:l,shift:d,marginLeft:L},{box:s,shift:-c}]}).wrap(t)}else l&&!s?(d=Math.max(d,t.metrics.sub1,l.height-.8*oi),g=new _t({shift:d,children:[{box:l,marginRight:m,marginLeft:this.isCharacterBox()?-i.italic:0}]})):!l&&s&&(c=Math.max(c,p,s.depth+.25*oi),g=new _t({shift:-c,children:[{box:s,marginRight:m}]}));return new Z([i,new Z(g,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(t,r){let n=this.superscript?hn.createBox(new Ie({parent:t,mathstyle:"superscript"},this.style),this.superscript):null,i=this.subscript?hn.createBox(new Ie({parent:t,mathstyle:"subscript"},this.style),this.subscript):null;return!n&&!i?r.base.wrap(t):$9(t,B(M({},r),{above:n,below:i}))}bind(t,r){if(!r||t.isPhantom||this.value==="​")return r;let n=this.parent;for(;n&&!n.captureSelection;)n=n.parent;return n!=null&&n.captureSelection||(this.id||(this.id=t.makeID()),r.atomID=this.id),r}createBox(t,r){var n,i,o,a;let s=(n=this.value)!=null?n:this.body,l=(i=r==null?void 0:r.boxType)!=null?i:P0(this.type),u=(o=r==null?void 0:r.classes)!=null?o:"";this.mode==="text"&&(u+=" ML__text");let c=typeof s=="string"||s===void 0?new Z(s??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:t.scalingFactor,style:B(M({variant:"normal"},this.style),{fontSize:Math.max(1,t.size+t.mathstyle.sizeDelta)}),letterShapeStyle:t.letterShapeStyle,classes:u}):(a=hn.createBox(t,s,{type:l,classes:u}))!=null?a:new Z(null);return t.isTight&&(c.isTight=!0),(this.mode!=="math"||this.style.variant==="main")&&(c.italic=0),c.right=c.italic,this.bind(t,c),this.caret&&!this.superscript&&!this.subscript&&(c.caret=this.caret),c}isDigit(){var t;return this.type==="mord"&&this.value?/^[\d,\.]$/.test(this.value):this.type==="group"&&((t=this.body)==null?void 0:t.length)===2?this.body[0].type==="first"&&this.body[1].value===",":!1}asDigit(){var t;return this.type==="mord"&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:this.type==="group"&&((t=this.body)==null?void 0:t.length)===2&&this.body[0].type==="first"&&this.body[1].value===","?".":""}};function K9(e){let t,r=[],n=[];for(let i of e)if(i.type==="first"&&n.push(i),!t&&!i.style)n.push(i);else{let o=i.style;t&&o.color===t.color&&o.backgroundColor===t.backgroundColor&&o.fontSize===t.fontSize?n.push(i):(n.length>0&&r.push(n),n=[i],t=o)}return n.length>0&&r.push(n),r}function q9(e,t,r){var n,i,o,a,s;if(!t||t.length===0)return null;let l=new Ie({parent:e},r.style),u=!((n=l.atomIdsSettings)!=null&&n.groupNumbers),c=[];if(t.length===1){let p=t[0],m=p.render(l);m&&(u&&p.isSelected&&m.selected(!0),c=[m])}else{let p="",m=!0;for(let g of t){(i=l.atomIdsSettings)!=null&&i.groupNumbers&&p&&(m&&g.isDigit()||!m&&Od(g))&&(l.atomIdsSettings.overrideID=p);let y=g.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),y&&((o=l.atomIdsSettings)!=null&&o.groupNumbers&&((g.isDigit()||Od(g))&&(!p||m!==g.isDigit())&&(m=g.isDigit(),p=(a=g.id)!=null?a:""),p&&(!(g.isDigit()||Od(g))||!g.hasEmptyBranch("superscript")||!g.hasEmptyBranch("subscript"))&&(p="")),u&&g.isSelected&&y.selected(!0),c.push(y))}}if(c.length===0)return null;let d=new Z(c,B(M({isTight:l.isTight},r),{type:(s=r.type)!=null?s:"lift"}));return d.isSelected=c.every(p=>p.isSelected),d.wrap(l)}function Od(e){return e.mode==="text"}function H9(e){return e.map(t=>t===null?"<null>":Array.isArray(t)&&t[0]instanceof q?{atoms:t.map(r=>r.toJson())}:typeof t=="object"&&"group"in t?{group:t.group.map(r=>r.toJson())}:t)}var ma=class h2 extends q{constructor(t,r,n){super({type:"text",command:t,mode:"text",displayContainsHighlight:!0}),this.value=r,this.verbatimLatex=r,this.applyStyle(n)}static fromJson(t){return new h2(t.command,t.value,t.style)}render(t){let r=this.createBox(t);return this.caret&&(r.caret=this.caret),r}_serialize(t){var r;return(r=this.verbatimLatex)!=null?r:r2("text",this.value.codePointAt(0))}};function V9(e,t){if(e.direction===t.direction){let r=e.ranges.length;if(t.ranges.length===r){let n=0;for(;n<r&&U9(e.ranges[n],t.ranges[n])==="equal";)n++;return n===r?"equal":"different"}}return"different"}function U9(e,t){return e[0]===t[0]&&e[1]===t[1]?"equal":"different"}function Ut(e){let t=1/0,r=-1/0;for(let n of e.ranges)t=Math.min(t,n[0],n[1]),r=Math.max(r,n[0],n[1]);return[t,r]}function Jn(e){return typeof e=="number"&&!Number.isNaN(e)}function Du(e){return Array.isArray(e)&&e.length===2}function su(e){return e!=null&&typeof e=="object"&&"ranges"in e&&Array.isArray(e.ranges)}function W9(e,t){let r=e.at(t),n;if(r){n=r.mode;let i=r.parent;for(;!n&&i;)i&&(n=i.mode),i=i.parent}return n}function j9(e,t){if(!t)return"";if(typeof t=="string")return t;if(!e||t.after===void 0)return t.value;let r=!1,n=!1,i=!1,o=!1,a=!1,s=!1,l=!1,u=!1,c=!1,d=!1,p=!1,m=!1,g=!1,y=!1,L=!1,E=e[0],C=0;for(;E!=null&&E.type&&/^(subsup|placeholder)$/.test(E.type);)C+=1,E=e[C];return r=!E||E.type==="first",E&&(y=E.mode==="text",n=!y&&E.type==="mord"&&E0.test(E.value),i=!y&&E.type==="mord"&&/\d+$/.test(E.value),o=!y&&E.isFunction,a=E.type==="genfrac",s=E.type==="surd",l=E.type==="mbin",u=E.type==="mrel",c=E.type==="mop"||E.type==="operator"||E.type==="extensible-symbol",d=E.type==="mpunct"||E.type==="minner",p=E.type==="array",m=E.type==="mopen",g=E.type==="mclose"||E.type==="leftright",L=E.type==="space"),t.after.includes("nothing")&&r||t.after.includes("letter")&&n||t.after.includes("digit")&&i||t.after.includes("function")&&o||t.after.includes("frac")&&a||t.after.includes("surd")&&s||t.after.includes("binop")&&l||t.after.includes("relop")&&u||t.after.includes("operator")&&c||t.after.includes("punct")&&d||t.after.includes("array")&&p||t.after.includes("openfence")&&m||t.after.includes("closefence")&&g||t.after.includes("text")&&y||t.after.includes("space")&&L?t.value:""}function Uh(e,t,r){return r?j9(e,r[t]):""}var p2={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","-->...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","-->":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function N0(e,t){var r;let n=(r=t==null?void 0:t.format)!=null?r:"auto";return n==="auto"&&([n,e]=G9(e)),n==="ascii-math"?(e=e.replace(/\u2061/gu,""),e=e.replace(/\u3016/gu,"{"),e=e.replace(/\u3017/gu,"}"),e=e.replace(/([^\\])sinx/g,"$1\\sin x"),e=e.replace(/([^\\])cosx/g,"$1\\cos x "),e=e.replace(/\u2013/g,"-"),["ascii-math",nr(e,{inlineShortcuts:t==null?void 0:t.inlineShortcuts})]):["latex",e]}function nr(e,t){var r;if(e=e.trim(),!e)return"";let n=(r=t.inlineShortcuts)!=null?r:p2;if(e.startsWith("^")||e.startsWith("_")){let{match:s,rest:l}=Oi(e.slice(1),{inlineShortcuts:n,noWrap:!0});return`${e[0]}{${s}}${nr(l,t)}`}let i=e.match(/^(sqrt|\u221A)(.*)/);if(i){let{match:s,rest:l}=Oi(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt{${s??"\\placeholder{}"}}${nr(l,t)}`}if(i=e.match(/^(\\cbrt|\u221B)(.*)/),i){let{match:s,rest:l}=Oi(i[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt[3]{${s??"\\placeholder{}"}}${nr(l,t)}`}if(i=e.match(/^abs(.*)/),i){let{match:s,rest:l}=Oi(i[1],{inlineShortcuts:n,noWrap:!0});return`\\left|${s??"\\placeholder{}"}\\right|${nr(l,t)}`}if(i=e.match(/^["”“](.*?)["”“](.*)/),i)return`\\text{${i[1]}}${nr(i[2],t)}`;if(i=e.match(/^([^a-zA-Z\(\{\[\_\^\\\s"]+)(.*)/),i)return`${db(i[1],n)}${nr(i[2],t)}`;if(/^([fgh])[^a-zA-Z]/.test(e)){let{rest:s,match:l}=Oi(e.slice(1),{inlineShortcuts:n,noWrap:!0}),u="";return e[1]==="("?u=`${e[0]}\\left(${l}\\right)`:u=e[0]+l,u+nr(s,t)}if(i=e.match(/^([a-zA-Z]+)(.*)/),i)return db(i[1],n)+nr(i[2],t);let{match:o,rest:a}=Oi(e,{inlineShortcuts:n,noWrap:!0});if(o&&a[0]==="/"){let s=Oi(a.slice(1),{inlineShortcuts:n,noWrap:!0});if(s.match)return`\\frac{${o}}{${s.match}}${nr(s.rest,t)}`}else return e.startsWith("(")?"\\left("+o+"\\right)"+nr(a,t):o+nr(a,t);return i=e.match(/^(\s+)(.*)$/),i?" "+nr(i[2],t):e}var cb={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function Oi(e,t){var r,n;let i="";e=e.trim();let o=e,a=e.charAt(0),s={"(":")","{":"}","[":"]"}[a];if(s){let l=1,u=1;for(;u<e.length&&l>0;)e[u]===a&&l++,e[u]===s&&l--,u++;if(l===0){let c=nr(e.substring(1,u-1),t);t.noWrap&&a==="("?i=c:i=`\\left${(r=cb[a])!=null?r:a}${c}\\right${(n=cb[s])!=null?n:s}`,o=e.slice(Math.max(0,u))}else i=e.substring(1,u),o=""}else{let l=e.match(/^([a-zA-Z]+)/);if(l){let u=Uh(null,e,t.inlineShortcuts);if(u)return u=u.replace("_{#?}",""),u=u.replace("^{#?}",""),{match:u,rest:e.slice(u.length)}}if(l=e.match(/^([a-zA-Z])/),l)return{match:l[1],rest:e.slice(1)};if(l=e.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:e.slice(l[0].length)};/^\\(left|right)/.test(e)||(l=e.match(/^(\\[a-zA-Z]+)/),l&&(o=e.slice(l[1].length),i=l[1]))}return{match:i,rest:o}}function db(e,t){let r=Uh(null,e,t);return r?(r=r.replace("_{#?}",""),r=r.replace("^{#?}",""),r+=" "):r=e,r}var m2=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function Wh(e){let t=e.trim();for(let r of m2)if(t.startsWith(r[0])&&t.endsWith(r[1]))return[!0,t.substring(r[0].length,t.length-r[1].length)];return[!1,e]}function G9(e){if(e=e.trim(),e.length<=1)return["latex",e];let t;return[t,e]=Wh(e),t?["latex",e]:e.startsWith("`")&&e.endsWith("`")?(e=e.substring(1,e.length-1),["ascii-math",e]):e.includes("\\")?["latex",e]:/\$.+\$/.test(e)?["latex",`\\text{${e}}`]:[void 0,e]}var X9="$$",J9="$$",Y9=(e,t,r)=>(m2.some(n=>t.startsWith(n[0])&&t.endsWith(n[1]))||(t=`${X9} ${t} ${J9}`),t),f2=class lu{constructor(t){lu._modes[t]=this}static onPaste(t,r,n){var i;if(!r.contentEditable&&r.userSelect==="none")return r.model.announce("plonk"),!1;if(typeof n=="string"){let a=new DataTransfer;a.setData("text/plain",n),n=a}let o=new ClipboardEvent("paste",{clipboardData:n,cancelable:!0});return(i=r.host)!=null&&i.dispatchEvent(o)?lu._modes[t].onPaste(r,n):!1}static copyToClipboard(t,r){if(!t.contentEditable&&t.userSelect==="none"){t.model.announce("plonk");return}let n=t.model,i=n.selectionIsCollapsed?[0,n.lastOffset]:Ut(n.selection),o=n.getValue(i,r);navigator.clipboard.writeText(o).then(()=>{},()=>t.model.announce("plonk"))}static onCopy(t,r){var n;if(!r.clipboardData)return;if(!t.contentEditable&&t.userSelect==="none"){t.model.announce("plonk");return}let i=t.model,o=i.selectionIsCollapsed?[0,i.lastOffset]:Ut(i.selection),a=i.getAtoms(o);if(a.every(s=>s.mode==="text"||!s.mode))r.clipboardData.setData("text/plain",a.filter(s=>s instanceof ma).map(s=>s.value).join(""));else if(a.every(s=>s.mode==="latex"))r.clipboardData.setData("text/plain",i.getAtoms(o,{includeChildren:!0}).map(s=>{var l;return(l=s.value)!=null?l:""}).join(""));else{let s;a.length===1&&a[0].verbatimLatex!==void 0?s=a[0].verbatimLatex:s=i.getValue(o,"latex-expanded"),r.clipboardData.setData("application/x-latex",s);try{r.clipboardData.setData("text/plain",t.options.onExport(t,s,o))}catch{}if(a.length===1){let l=a[0];(l.type==="root"||l.type==="group")&&(a=l.body.filter(u=>u.type!=="first"))}try{r.clipboardData.setData("application/json+mathlive",JSON.stringify(a.map(l=>l.toJson())))}catch{}if((n=window[Symbol.for("io.cortexjs.compute-engine")])!=null&&n.ComputeEngine){let l=globalThis.MathfieldElement.computeEngine;if(l)try{let u=l.jsonSerializationOptions;l.jsonSerializationOptions={metadata:["latex"]};let c=l.parse(i.getValue(o,"latex-unstyled"));l.jsonSerializationOptions=u;let d=JSON.stringify(c.json);d&&r.clipboardData.setData("application/json",d)}catch{}}}r.preventDefault()}static insert(t,r,n={}){var i;let o=n.mode==="auto"?t.mode:(i=n.mode)!=null?i:t.mode;return lu._modes[o].insert(t,r,n)}onPaste(t,r){return!1}insert(t,r,n){return!1}};f2._modes={};var Ze=f2,Z9=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],Q9={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function Qn(e){var t;return((t=e.element)==null?void 0:t.mathfield)===e}function ew(e){var t,r;return(r=(t=e.querySelector(".ML__caret"))!=null?t:e.querySelector(".ML__text-caret"))!=null?r:e.querySelector(".ML__latex-caret")}function uu(e){let t=ew(e);if(!t)return null;let r=t.getBoundingClientRect();return{x:r.right,y:r.bottom,height:r.height}}function tw(e){var t;if(!e.parent)return"root";let r=(t=e.parent.id)!=null?t:"";return r+=typeof e.parentBranch=="string"?"-"+e.parentBranch:`-${e.parentBranch[0]}/${e.parentBranch[0]}`,r}function g2(e,t,r){if(!t)return null;let n=e.field.getBoundingClientRect(),i=t.right-t.left,o=t.bottom-t.top,a=Math.ceil(t.left-n.left+e.field.scrollLeft*r),s=Math.ceil(t.top-n.top);return{left:a,right:a+i,top:s,bottom:s+o}}function b2(e){let t=e.getBoundingClientRect(),r=parseInt(getComputedStyle(e).marginRight),n={top:t.top-1,bottom:t.bottom,left:t.left,right:t.right-1+r};if(e.children.length===0||e.tagName.toUpperCase()==="SVG")return n;for(let i of e.children)if(i.nodeType===1&&"atomId"in i.dataset&&!i.classList.contains("ML__pstrut")){let o=b2(i);n.left=Math.min(n.left,o.left),n.right=Math.max(n.right,o.right),n.top=Math.min(n.top,o.top),n.bottom=Math.max(n.bottom,o.bottom)}return n}function Ls(e,t){var r,n;if(!t.id)return null;let i=(n=(r=e.atomBoundsCache)==null?void 0:r.get(t.id))!=null?n:null;if(i!==null)return i;let o=e.field.querySelector(`[data-atom-id="${t.id}"]`);return i=o?b2(o):null,e.atomBoundsCache&&(i?e.atomBoundsCache.set(t.id,i):e.atomBoundsCache.delete(t.id)),i??null}function rw(e,t,r){let n=new Map;for(let i of e.model.getAtoms(t,{includeChildren:!0})){if(r!=null&&r.excludeAtomsWithBackground&&i.style.backgroundColor)continue;let o=e.field,a=o.offsetWidth,s=Math.floor(o.getBoundingClientRect().width)/a;s=isNaN(s)?1:s;let l=g2(e,Ls(e,i),s);if(l){let u=tw(i);if(n.has(u)){let c=n.get(u);n.set(u,{left:Math.min(c.left,l.left),right:Math.max(c.right,l.right),top:Math.min(c.top,l.top),bottom:Math.max(c.bottom,l.bottom)})}else n.set(u,l)}}return[...n.values()]}function y2(e,t){return e.model.selection.ranges.reduce((r,n)=>r.concat(...rw(e,n,t)),[])}function jh(e,t){return e==="*"||t==="none"?!0:t==="same-origin"?!window.origin||e===window.origin:typeof t=="function"?t(e):!1}function v2(e){let t=0,r=0,n=e.offsetWidth,i=e.offsetHeight;for(;e instanceof HTMLElement;)t+=e.offsetTop,r+=e.offsetLeft,e=e.offsetParent;return new DOMRect(r,t,n,i)}function _2(e,t){if(!e)return;let r=e.model.at(t);if(!r)return;let n={},i=Ls(e,r);i&&(n.bounds=new DOMRect(i.left,i.top,i.right-i.left,i.bottom-i.top)),n.depth=r.treeDepth-2,n.style=r.style;let o=r;for(;o;){if(o.command==="\\htmlData"&&o.args&&typeof o.args[0]=="string"){let a=o.args[0].split(",");for(let s of a){let l=s.match(/([^=]+)=(.+$)/);if(l){let u=l[1].trim().replace(/ /g,"-");u&&(n.data||(n.data={}),n.data[u]=l[2])}else{let u=s.trim().replace(/ /g,"-");u&&(n.data||(n.data={}),n.data[u]=void 0)}}}(o.command==="\\htmlId"||o.command==="\\cssId")&&!n.id&&o.args&&typeof o.args[0]=="string"&&(n.id=o.args[0]),o=o.parent}return(r.mode==="math"||r.mode==="text")&&(n.latex=q.serialize([r],{defaultMode:"math"})),n}function nw(e,t){let r=e.model.at(t);for(;r;){if(r.command==="\\href"){let n=r.args[0];if(typeof n=="string")return n}r=r.parent}return""}var iw=`@keyframes ML__caret-blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0;
  }
}
.ML__container {
  display: inline-flex;
  flex-flow: row;
  justify-content: space-between;
  align-items: flex-end;
  min-height: 39px;
  /* Need some room for the virtual keyboard toggle */
  width: 100%;
  padding: 4px;
  box-sizing: border-box;
  /* This attribute is necessary to work around a Firefox issue where 
  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).
  */
  pointer-events: auto;
  /* Prevent the browser from trying to interpret touch gestures in the field */
  /* "Disabling double-tap to zoom removes the need for browsers to
        delay the generation of click events when the user taps the screen." */
  touch-action: none;
  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));
  --_selection-color: var(--selection-color, #000);
  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));
  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));
  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));
  --_smart-fence-color: var(--smart-fence-color, currentColor);
  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);
  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));
  --_correct-color: var(--correct-color, #10a000);
  --_incorrect-color: var(--incorrect-color, #a01b00);
  --_composition-background-color: var(--composition-background-color, #fff1c2);
  --_composition-text-color: var(--composition-text-color, black);
  --_composition-underline-color: var(--composition-underline-color, transparent);
  --_tooltip-border: var(--tooltip-border, 1px solid transparent);
  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);
  --_tooltip-background-color: var(--tooltip-background-color, #616161);
  --_tooltip-color: var(--tooltip-color, #fff);
  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));
}
@media (hover: none) and (pointer: coarse) {
  :host(:not(:focus)) .ML__container {
    pointer-events: none;
  }
}
/* This is the actual field content (formula) */
.ML__content {
  display: flex;
  align-items: center;
  align-self: center;
  position: relative;
  overflow: hidden;
  padding: 2px 3px 2px 1px;
  width: 100%;
  /* Encourage the browser to use the GPU to render the field.
     Weirdly, this is required for prompts to be rendered correctly. 
   */
  isolation: isolate;
}
.ML__virtual-keyboard-toggle,
.ML__menu-toggle {
  box-sizing: border-box;
  display: flex;
  align-self: center;
  align-items: center;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  width: 34px;
  height: 34px;
  padding: 0;
  margin-right: 4px;
  cursor: pointer;
  /* Avoid some weird blinking with :hover */
  border-radius: 8px;
  border: 1px solid transparent;
  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  color: hsl(var(--_hue), 40%, 50%);
  fill: currentColor;
  background: transparent;
}
.ML__virtual-keyboard-toggle:hover,
.ML__menu-toggle:hover {
  background: hsla(0, 0%, 70%, 0.3);
  color: #333;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle > span,
.ML__menu-toggle > span {
  display: flex;
  align-self: center;
  align-items: center;
}
@media (pointer: coarse) {
  .ML__virtual-keyboard-toggle,
  .ML__menu-toggle {
    min-width: 60px;
    min-height: 60px;
  }
}
/* The invisible element used to capture keyboard events. We're just trying
 really hard to make sure it doesn't show. */
.ML__keyboard-sink {
  display: inline-block;
  resize: none;
  outline: none;
  border: none;
  /* Need these for Microsoft Edge */
  position: fixed;
  clip: rect(0 0 0 0);
  /* Need this to prevent iOS Safari from auto-zooming */
  font-size: 1em;
  font-family: KaTeX_Main;
  line-height: 0.5;
  /* On Chromium, if this is 0, no keyboard events are received */
}
[part='placeholder'] {
  color: var(--neutral-400);
}
.ML__composition {
  background: var(--_composition-background-color);
  color: var(--_composition-text-color);
  text-decoration: underline var(--_composition-underline-color);
}
.ML__caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__text-caret::after {
  content: '';
  visibility: hidden;
  width: 0;
  display: inline-block;
  height: 0.76em;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_caret-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.045em;
  bottom: -0.05em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__latex-caret::after {
  content: '';
  visibility: hidden;
  --_caret-width: clamp(2px, 0.08em, 10px);
  border: none;
  border-radius: calc(var(--_caret-width) / 2);
  border-right: var(--_caret-width) solid var(--_latex-color);
  margin-right: calc(-1 * var(--_caret-width));
  position: relative;
  left: -0.019em;
  animation: ML__caret-blink 1.05s step-end forwards infinite;
}
.ML__focused .ML__latex-caret::after,
.ML__focused .ML__text-caret::after,
.ML__focused .ML__caret::after {
  visibility: visible;
}
.ML__focused .ML__text {
  background: var(--_text-highlight-background-color);
}
/* When using smartFence, the anticipated closing fence is displayed
with this style */
.ML__smart-fence__close {
  opacity: var(--_smart-fence-opacity);
  color: var(--_smart-fence-color);
}
.ML__selected,
.ML__focused .ML__selected .ML__contains-caret,
.ML__focused .ML__selected .ML__smart-fence__close,
.ML__focused .ML__selected .ML__placeholder {
  color: var(--_selection-color);
  opacity: 1;
}
.ML__selection {
  box-sizing: border-box;
  background: transparent;
}
:host(:focus) .ML__selection {
  background: var(--_selection-background-color) !important;
}
.ML__contains-caret.ML__close,
.ML__contains-caret.ML__open,
.ML__contains-caret > .ML__close,
.ML__contains-caret > .ML__open,
.ML__contains-caret .ML__sqrt-sign,
.ML__contains-caret .ML__sqrt-line {
  color: var(--_caret-color);
}
.ML__contains-highlight {
  box-sizing: border-box;
  background: transparent;
}
.ML__focused .ML__contains-highlight {
  background: var(--_contains-highlight-background-color);
}
.ML__raw-latex {
  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  font-weight: 400;
  font-size: 0.8em;
  letter-spacing: -0.05em;
  color: var(--_latex-color);
}
.ML__suggestion {
  color: var(--neutral-500);
}
.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
.ML__virtual-keyboard-toggle.is-pressed,
.ML__virtual-keyboard-toggle.is-active:hover,
.ML__virtual-keyboard-toggle.is-active {
  background: hsl(var(--_hue), 25%, 35%);
  color: #fafafa;
  fill: currentColor;
}
/* Add an attribute 'data-tooltip' to automatically show a
   tooltip over a element on hover.
*/
[data-tooltip] {
  position: relative;
}
[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  display: block;
  z-index: 2;
  pointer-events: none;
  right: auto;
  top: calc(-100% - 4px);
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  border-radius: 4px;
  background: #616161;
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  /* Phone */
  opacity: 0;
  transform: scale(0.5);
}
@media only screen and (max-width: 767px) {
  [data-tooltip]::after {
    padding: 8px 16px;
    font-size: 16px;
  }
}
menu [data-tooltip]::after {
  left: 100%;
  top: 0%;
}
menu .ML__base {
  cursor: default;
}
/** Don't display if we're tracking, i.e. have the pointer down */
.tracking [data-tooltip]:hover::after {
  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */
  visibility: hidden;
}
/** But do display if tracking and inside a menu */
.tracking menu li[data-tooltip]:hover::after,
[data-tooltip]:hover::after {
  visibility: visible;
  opacity: 1;
  transform: scale(1);
  transition-property: opacity, scale;
  transition-duration: 0.15s;
  transition-delay: 1s;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__prompt {
  border-radius: 2px;
}
.ML__editablePromptBox {
  outline: 1px solid #acacac;
  border-radius: 2px;
  z-index: -1;
}
.ML__focusedPromptBox {
  outline: highlight auto 1px;
}
.ML__lockedPromptBox {
  background-color: rgba(142, 142, 141, 0.4);
  z-index: -1;
}
.ML__correctPromptBox {
  outline: 1px solid var(--_correct-color);
  box-shadow: 0 0 5px var(--_correct-color);
}
.ML__incorrectPromptBox {
  outline: 1px solid var(--_incorrect-color);
  box-shadow: 0 0 5px var(--_incorrect-color);
}
.variant-submenu {
  display: flex;
  flex-direction: column;
  padding: 8px;
}
.variant-submenu [part='menu-item'].ML__xl {
  font-size: 2rem;
  text-align: center;
  margin: 0;
}
.ML__center-menu .label {
  text-align: center;
}
.insert-matrix-submenu {
  /* Grid doesn't work on Safari */
  --_menu-item-size: 25px;
  width: calc(5 * var(--_menu-item-size));
  display: flex;
  flex-wrap: wrap;
  padding: 8px;
  align-content: center;
  justify-content: center;
}
.insert-matrix-submenu [part='menu-item'] {
  width: var(--_menu-item-size);
  height: var(--_menu-item-size);
  font-size: 21px;
  border: none;
  border-radius: 0;
  line-height: 21px;
  text-align: center;
  padding: 0;
  margin: 0;
}
.border-submenu [part='menu-item'] {
  font-size: 2rem;
  line-height: 1.2;
  text-align: center;
}
.swatches-submenu {
  --_swatch-size: 2rem;
  --_columns: 4;
  display: flex;
  flex-flow: wrap;
  padding: 8px;
  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);
  box-sizing: border-box;
}
.menu-swatch {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: fit-content;
  height: fit-content;
  margin: 2px;
  padding: 0;
  background: var(--neutral-200);
}
.menu-swatch > .label {
  padding: 0;
  margin: 0;
  line-height: 0;
}
.menu-swatch > .label > span {
  display: inline-block;
  margin: 6px;
  min-width: var(--_swatch-size);
  min-height: var(--_swatch-size);
  border-radius: 50%;
}
.menu-swatch.active {
  background: var(--neutral-100);
  scale: 1.4;
}
.menu-swatch.active > .label > span {
  border-radius: 2px;
}
.menu-swatch .ui-checkmark,
.menu-swatch .ui-mixedmark {
  position: absolute;
  margin: 0;
  padding: 0;
  color: white;
}
.menu-swatch.dark-contrast .ui-checkmark,
.menu-swatch.dark-contrast .ui-mixedmark {
  color: #000;
}
.ML__insert-template {
  font-size: 1em;
}
.ML__insert-label {
  opacity: 0.5;
  margin-left: 2ex;
}
`,ow=`.ML__container {
  min-height: auto !important;
  --_hue: var(--hue, 212);
  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));
  --_placeholder-opacity: var(--placeholder-opacity, 0.4);
  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
}
.ML__sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
  border: 0;
}
.ML__is-inline {
  display: inline-block;
}
.ML__base {
  visibility: inherit;
  display: inline-block;
  position: relative;
  cursor: text;
  padding: 0;
  margin: 0;
  box-sizing: content-box;
  border: 0;
  outline: 0;
  vertical-align: baseline;
  font-weight: inherit;
  font-family: inherit;
  font-style: inherit;
  text-decoration: none;
  width: min-content;
}
.ML__strut,
.ML__strut--bottom {
  display: inline-block;
  min-height: 0.5em;
}
.ML__small-delim {
  font-family: KaTeX_Main;
}
/* Text mode */
.ML__text {
  font-family: var(--_text-font-family);
  white-space: pre;
}
/* Use cmr for 'math upright' */
.ML__cmr {
  font-family: KaTeX_Main;
  font-style: normal;
}
.ML__mathit {
  font-family: KaTeX_Math;
  /* The KaTeX_Math font is italic by default, so the font-style below is only 
     useful when a fallback font is used
  */
  font-style: italic;
}
.ML__mathbf {
  font-family: KaTeX_Main;
  font-weight: bold;
}
/* Lowercase greek symbols should stick to math font when \\mathbf is applied 
   to match TeX idiosyncratic behavior */
.lcGreek.ML__mathbf {
  font-family: KaTeX_Math;
}
.ML__mathbfit {
  font-family: KaTeX_Math;
  font-weight: bold;
  font-style: italic;
}
.ML__ams {
  font-family: KaTeX_AMS;
}
/* Blackboard */
.ML__bb {
  font-family: KaTeX_AMS;
}
.ML__cal {
  font-family: KaTeX_Caligraphic;
}
.ML__frak {
  font-family: KaTeX_Fraktur;
}
.ML__tt {
  font-family: KaTeX_Typewriter;
}
.ML__script {
  font-family: KaTeX_Script;
}
.ML__sans {
  font-family: KaTeX_SansSerif;
}
.ML__series_ul {
  font-weight: 100;
}
.ML__series_el {
  font-weight: 100;
}
.ML__series_l {
  font-weight: 200;
}
.ML__series_sl {
  font-weight: 300;
}
.ML__series_sb {
  font-weight: 500;
}
.ML__bold {
  font-weight: 700;
}
.ML__series_eb {
  font-weight: 800;
}
.ML__series_ub {
  font-weight: 900;
}
.ML__series_uc {
  font-stretch: ultra-condensed;
}
.ML__series_ec {
  font-stretch: extra-condensed;
}
.ML__series_c {
  font-stretch: condensed;
}
.ML__series_sc {
  font-stretch: semi-condensed;
}
.ML__series_sx {
  font-stretch: semi-expanded;
}
.ML__series_x {
  font-stretch: expanded;
}
.ML__series_ex {
  font-stretch: extra-expanded;
}
.ML__series_ux {
  font-stretch: ultra-expanded;
}
.ML__it {
  font-style: italic;
}
.ML__shape_ol {
  -webkit-text-stroke: 1px black;
  text-stroke: 1px black;
  color: transparent;
}
.ML__shape_sc {
  font-variant: small-caps;
}
.ML__shape_sl {
  font-style: oblique;
}
/* First level emphasis */
.ML__emph {
  color: #bc2612;
}
/* Second level emphasis */
.ML__emph .ML__emph {
  color: #0c7f99;
}
.ML__highlight {
  color: #007cb2;
  background: #edd1b0;
}
.ML__center {
  text-align: center;
}
.ML__left {
  text-align: left;
}
.ML__right {
  text-align: right;
}
.ML__label_padding {
  padding: 0 0.5em;
}
.ML__frac-line {
  width: 100%;
  min-height: 1px;
}
.ML__frac-line:after {
  content: '';
  display: block;
  margin-top: max(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  /* There's a bug since Chrome 62 where 
      sub-pixel border lines don't draw at some zoom 
      levels (110%, 90%). 
      Setting the min-height used to work around it, but that workaround
      broke in Chrome 84 or so.
      Setting the background (and the min-height) seems to work for now.
      */
  background: currentColor;
  box-sizing: content-box;
  /* Vuetify sets the box-sizing to inherit 
            causes the fraction line to not draw at all sizes (see #26) */
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt {
  display: inline-block;
}
.ML__sqrt-sign {
  display: inline-block;
  position: relative;
}
.ML__sqrt-line {
  display: inline-block;
  height: max(1px, 0.04em);
  width: 100%;
}
.ML__sqrt-line:before {
  content: '';
  display: block;
  margin-top: min(-1px, -0.04em);
  min-height: max(1px, 0.04em);
  /* Ensure the line is visible when printing even if "turn off background images" is on*/
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  background: currentColor;
  /* On some versions of Firefox on Windows, the line fails to 
            draw at some zoom levels, but setting the transform triggers
            the hardware accelerated path, which works */
  transform: translate(0, 0);
}
.ML__sqrt-line:after {
  border-bottom-width: 1px;
  content: ' ';
  display: block;
  margin-top: -0.1em;
}
.ML__sqrt-index {
  margin-left: 0.27777778em;
  margin-right: -0.55555556em;
}
.ML__delim-size1 {
  font-family: KaTeX_Size1;
}
.ML__delim-size2 {
  font-family: KaTeX_Size2;
}
.ML__delim-size3 {
  font-family: KaTeX_Size3;
}
.ML__delim-size4 {
  font-family: KaTeX_Size4;
}
.ML__delim-mult .delim-size1 > span {
  font-family: KaTeX_Size1;
}
.ML__delim-mult .delim-size4 > span {
  font-family: KaTeX_Size4;
}
.ML__accent-body > span {
  font-family: KaTeX_Main;
  width: 0;
}
.ML__accent-vec {
  position: relative;
  left: 0.24em;
}
/** The markup for a LaTeX formula, either in an editable mathfield or 
    in a static display.
*/
.ML__latex {
  display: inline-block;
  direction: ltr;
  text-align: left;
  text-indent: 0;
  text-rendering: auto;
  font-family: KaTeX_Main, 'Times New Roman', serif;
  font-style: normal;
  font-size-adjust: none;
  font-stretch: normal;
  font-variant-caps: normal;
  letter-spacing: normal;
  line-height: 1.2;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  text-shadow: none;
  -webkit-user-select: none;
  user-select: none;
  width: min-content;
}
.ML__latex .style-wrap {
  position: relative;
}
.ML__latex .ML__mfrac {
  display: inline-block;
}
.ML__latex .ML__left-right {
  display: inline-block;
}
.ML__latex .ML__vlist-t {
  display: inline-table;
  table-layout: fixed;
  border-collapse: collapse;
}
.ML__latex .ML__vlist-r {
  display: table-row;
}
.ML__latex .ML__vlist {
  display: table-cell;
  vertical-align: bottom;
  position: relative;
}
.ML__latex .ML__vlist > span {
  display: block;
  height: 0;
  position: relative;
}
.ML__latex .ML__vlist > span > span {
  display: inline-block;
}
.ML__latex .ML__vlist > span > .ML__pstrut {
  overflow: hidden;
  width: 0;
}
.ML__latex .ML__vlist-t2 {
  margin-right: -2px;
}
.ML__latex .ML__vlist-s {
  display: table-cell;
  vertical-align: bottom;
  font-size: 1px;
  width: 2px;
  min-width: 2px;
}
.ML__latex .ML__msubsup {
  text-align: left;
}
.ML__latex .ML__negativethinspace {
  display: inline-block;
  margin-left: -0.16667em;
  height: 0.71em;
}
.ML__latex .ML__thinspace {
  display: inline-block;
  width: 0.16667em;
  height: 0.71em;
}
.ML__latex .ML__mediumspace {
  display: inline-block;
  width: 0.22222em;
  height: 0.71em;
}
.ML__latex .ML__thickspace {
  display: inline-block;
  width: 0.27778em;
  height: 0.71em;
}
.ML__latex .ML__enspace {
  display: inline-block;
  width: 0.5em;
  height: 0.71em;
}
.ML__latex .ML__quad {
  display: inline-block;
  width: 1em;
  height: 0.71em;
}
.ML__latex .ML__qquad {
  display: inline-block;
  width: 2em;
  height: 0.71em;
}
.ML__latex .ML__llap,
.ML__latex .ML__rlap {
  width: 0;
  position: relative;
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner,
.ML__latex .ML__rlap > .ML__inner {
  position: absolute;
}
.ML__latex .ML__llap > .ML__fix,
.ML__latex .ML__rlap > .ML__fix {
  display: inline-block;
}
.ML__latex .ML__llap > .ML__inner {
  right: 0;
}
.ML__latex .ML__rlap > .ML__inner {
  left: 0;
}
.ML__latex .ML__rule {
  display: inline-block;
  border: solid 0;
  position: relative;
  box-sizing: border-box;
}
.ML__latex .overline .overline-line,
.ML__latex .underline .underline-line {
  width: 100%;
}
.ML__latex .overline .overline-line:before,
.ML__latex .underline .underline-line:before {
  content: '';
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  display: block;
}
.ML__latex .overline .overline-line:after,
.ML__latex .underline .underline-line:after {
  border-bottom-style: solid;
  border-bottom-width: max(1px, 0.04em);
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  content: '';
  display: block;
  margin-top: -1px;
}
.ML__latex .ML__stretchy {
  display: block;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__stretchy:before,
.ML__latex .ML__stretchy:after {
  content: '';
}
.ML__latex .ML__stretchy svg {
  display: block;
  position: absolute;
  width: 100%;
  height: inherit;
  fill: currentColor;
  stroke: currentColor;
  fill-rule: nonzero;
  fill-opacity: 1;
  stroke-width: 1;
  stroke-linecap: butt;
  stroke-linejoin: miter;
  stroke-miterlimit: 4;
  stroke-dasharray: none;
  stroke-dashoffset: 0;
  stroke-opacity: 1;
}
.ML__latex .slice-1-of-2 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-2-of-2 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 50.2%;
  overflow: hidden;
}
.ML__latex .slice-1-of-3 {
  display: inline-flex;
  position: absolute;
  left: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-2-of-3 {
  display: inline-flex;
  position: absolute;
  left: 25%;
  width: 50%;
  overflow: hidden;
}
.ML__latex .slice-3-of-3 {
  display: inline-flex;
  position: absolute;
  right: 0;
  width: 25.1%;
  overflow: hidden;
}
.ML__latex .slice-1-of-1 {
  display: inline-flex;
  position: absolute;
  width: 100%;
  left: 0;
  overflow: hidden;
}
.ML__latex .ML__nulldelimiter {
  display: inline-block;
}
.ML__latex .ML__op-group {
  display: inline-block;
}
.ML__latex .ML__op-symbol {
  position: relative;
}
.ML__latex .ML__op-symbol.ML__small-op {
  font-family: KaTeX_Size1;
}
.ML__latex .ML__op-symbol.ML__large-op {
  font-family: KaTeX_Size2;
}
.ML__latex .ML__mtable .ML__vertical-separator {
  display: inline-block;
  min-width: 1px;
  box-sizing: border-box;
}
.ML__latex .ML__mtable .ML__arraycolsep {
  display: inline-block;
}
.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {
  text-align: center;
}
.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {
  text-align: left;
}
.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {
  text-align: right;
}
[data-href] {
  cursor: pointer;
}
.ML__error {
  display: inline-block;
  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);
  background-color: hsla(341, 100%, 40%, 0.1);
  background-repeat: repeat-x;
  background-size: 3px 3px;
  padding-bottom: 3px;
  background-position: 0 100%;
}
.ML__error > .ML__error {
  background: transparent;
  padding: 0;
}
.ML__placeholder {
  color: var(--_placeholder-color);
  opacity: var(--_placeholder-opacity);
  padding-left: 0.4ex;
  padding-right: 0.4ex;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}
.ML__notation {
  position: absolute;
  box-sizing: border-box;
  line-height: 0;
}
/* This class is used to implement the \`\\mathtip\` and \`\\texttip\` commands
   For UI elements, see \`[data-ML__tooltip]\`
*/
.ML__tooltip-container {
  position: relative;
  transform: scale(0);
}
.ML__tooltip-container .ML__tooltip-content {
  position: fixed;
  display: inline-table;
  visibility: hidden;
  z-index: 2;
  width: max-content;
  max-width: 400px;
  padding: 12px 12px;
  border: var(--tooltip-border);
  border-radius: var(--tooltip-border-radius);
  background: var(--tooltip-background-color);
  --_selection-color: var(--tooltip-color);
  color: var(--tooltip-color);
  box-shadow: var(--tooltip-box-shadow);
  opacity: 0;
  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);
}
.ML__tooltip-container .ML__tooltip-content .ML__text {
  white-space: normal;
}
.ML__tooltip-container .ML__tooltip-content .ML__base {
  display: contents;
}
.ML__tooltip-container:hover .ML__tooltip-content {
  visibility: visible;
  opacity: 1;
  font-size: 0.75em;
  transform: scale(1) translate(0, 3em);
}
`,aw=`#mathlive-environment-popover.is-visible {
  visibility: visible;
}
#mathlive-environment-popover {
  --_environment-panel-height: var(--environment-panel-height, 70px);
  --_accent-color: var(--accent-color, #aaa);
  --_background: var(--environment-panel-background, #fff);
  --_button-background: var(--environment-panel-button-background, white);
  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);
  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);
  --_button-text: var(--environment-panel-button-text, #e3e4e8);
  position: absolute;
  width: calc(var(--_environment-panel-height) * 2);
  height: var(--_environment-panel-height);
  border-radius: 4px;
  border: 1.5px solid var(--_accent-color);
  background-color: var(--_background);
  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));
  pointer-events: all;
  visibility: hidden;
}
#mathlive-environment-popover .MLEP__array-buttons {
  height: calc(var(--_environment-panel-height) * 5/4);
  width: calc(var(--_environment-panel-height) * 5/4);
  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);
  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);
}
#mathlive-environment-popover .MLEP__array-buttons .font {
  fill: white;
}
#mathlive-environment-popover .MLEP__array-buttons circle {
  fill: #7f7f7f;
  transition: fill 300ms;
}
#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {
  fill-opacity: 1;
  fill: var(--_background);
  stroke: var(--_accent-color);
  stroke-width: 3px;
}
#mathlive-environment-popover .MLEP__array-buttons line {
  stroke: var(--_accent-color);
  stroke-opacity: 0;
  stroke-width: 40;
  pointer-events: none;
  transition: stroke-opacity 300ms;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {
  fill: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {
  stroke-opacity: 1;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls {
  height: 100%;
  width: 50%;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {
  width: var(--_environment-panel-height);
  height: var(--_environment-panel-height);
  display: flex;
  flex-wrap: wrap;
  flex-direction: row;
  justify-content: space-around;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {
  pointer-events: all;
  margin-top: 2px;
  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);
  height: calc(var(--_environment-panel-height) / 3 - 2px);
  border-radius: calc(var(--_environment-panel-height) / 25);
  background-color: var(--_button-background);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {
  background-color: var(--_button-background-hover);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {
  stroke: var(--_button-text);
  stroke-width: 2;
  stroke-linecap: round;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {
  fill-opacity: 0;
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {
  pointer-events: none;
  background-color: var(--_button-background-active);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {
  stroke: var(--_accent-color);
}
#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {
  fill: var(--_accent-color);
}
`,sw=`/* The element that display info while in latex mode */
#mathlive-suggestion-popover {
  background-color: rgba(97, 97, 97);
  color: #fff;
  text-align: center;
  border-radius: 8px;
  position: fixed;
  z-index: 1;
  display: none;
  flex-direction: column;
  justify-content: center;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
}
#mathlive-suggestion-popover.top-tip::after {
  content: '';
  position: absolute;
  top: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-bottom: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.bottom-tip::after {
  content: '';
  position: absolute;
  bottom: -15px;
  left: calc(50% - 15px);
  width: 0;
  height: 0;
  border-left: 15px solid transparent;
  border-right: 15px solid transparent;
  border-top: 15px solid rgba(97, 97, 97);
  font-size: 1rem;
}
#mathlive-suggestion-popover.is-animated {
  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);
  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;
}
#mathlive-suggestion-popover.is-visible {
  display: flex;
}
@keyframes ML__fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/* The wrapper class for the entire content of the popover panel */
#mathlive-suggestion-popover ul {
  display: flex;
  flex-flow: column;
  list-style: none;
  margin: 0;
  padding: 0;
  align-items: flex-start;
  max-height: 400px;
  overflow-y: auto;
}
#mathlive-suggestion-popover li {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  margin: 8px;
  padding: 8px;
  width: calc(100% - 16px - 16px);
  column-gap: 1em;
  border-radius: 8px;
  cursor: pointer;
  /* Since the content can be clicked on, provide feedback on hover */
}
#mathlive-suggestion-popover li a {
  color: #5ea6fd;
  padding-top: 0.3em;
  margin-top: 0.4em;
  display: block;
}
#mathlive-suggestion-popover li a:hover {
  color: #5ea6fd;
  text-decoration: underline;
}
#mathlive-suggestion-popover li:hover,
#mathlive-suggestion-popover li.is-pressed,
#mathlive-suggestion-popover li.is-active {
  background: rgba(255, 255, 255, 0.1);
}
/* The command inside a popover (inside a #mathlive-suggestion-popover) */
.ML__popover__command {
  font-size: 1.6rem;
  font-family: KaTeX_Main;
}
.ML__popover__current {
  background: #5ea6fd;
  color: #fff;
}
.ML__popover__latex {
  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;
  align-self: center;
}
/* The keyboard shortcuts for a symbol as displayed in the popover */
.ML__popover__keybinding {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 0.8em;
  opacity: 0.7;
}
/* Style for the character that joins the modifiers of a keyboard shortcut 
(usually a "+" sign)*/
.ML__shortcut-join {
  opacity: 0.5;
}
`,lw=`/* The element that displays the keys as the user type them */
#mathlive-keystroke-caption-panel {
  visibility: hidden;
  /*min-width: 160px;*/
  /*background-color: rgba(97, 97, 200, .95);*/
  background: var(--secondary, hsl(var(--_hue), 19%, 26%));
  border-color: var(--secondary-border, hsl(0, 0%, 91%));
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  text-align: center;
  border-radius: 6px;
  padding: 16px;
  position: absolute;
  z-index: 1;
  display: flex;
  flex-direction: row-reverse;
  justify-content: center;
  --keystroke: white;
  --on-keystroke: #555;
  --keystroke-border: #f7f7f7;
}
@media (prefers-color-scheme: dark) {
  body:not([theme='light']) #mathlive-keystroke-caption-panel {
    --keystroke: hsl(var(--_hue), 50%, 30%);
    --on-keystroke: hsl(0, 0%, 98%);
    --keystroke-border: hsl(var(--_hue), 50%, 25%);
  }
}
body[theme='dark'] #mathlive-keystroke-caption-panel {
  --keystroke: hsl(var(--_hue), 50%, 30%);
  --on-keystroke: hsl(0, 0%, 98%);
  --keystroke-border: hsl(var(--_hue), 50%, 25%);
}
#mathlive-keystroke-caption-panel > span {
  min-width: 14px;
  /*height: 8px;*/
  margin: 0 8px 0 0;
  padding: 4px;
  background-color: var(--keystroke);
  color: var(--on-keystroke);
  fill: currentColor;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid var(--keystroke-border);
  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/
}
`,uw=`.ML__keyboard {
  --_keyboard-height: 0;
  --_keyboard-zindex: var(--keyboard-zindex, 105);
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);
  --_padding-top: var(--keyboard-padding-top, 5px);
  --_padding-bottom: var(--keyboard-padding-bottom, 0px);
  --_row-padding-left: var(--keyboard-row-padding-left, 0px);
  --_row-padding-right: var(--keyboard-row-padding-right, 0px);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, #f0f0f0);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));
  --_keycap-primary-text: var(--keycap-primary-text, #ddd);
  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_keycap-height: var(--keycap-height, 60px);
  /* Keycap width (incl. margin) */
  --_keycap-max-width: var(--keycap-max-width, 100px);
  --_keycap-gap: var(--keycap-gap, 8px);
  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));
  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));
  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
  --_variant-keycap-length: var(--variant-keycap-length, 70px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);
  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);
  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));
  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));
  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));
  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);
  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);
  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);
}
.is-math-mode .MLK__rows .if-text-mode,
.is-text-mode .MLK__rows .if-math-mode {
  display: none;
}
.if-can-undo,
.if-can-redo,
.if-can-copy,
.if-can-cut,
.if-can-paste {
  opacity: 0.4;
  pointer-events: none;
}
.can-undo .if-can-undo,
.can-redo .if-can-redo,
.can-copy .if-can-copy,
.can-cut .if-can-cut,
.can-paste .if-can-paste {
  opacity: 1;
  pointer-events: all;
}
body > .ML__keyboard {
  position: fixed;
  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));
}
body > .ML__keyboard.is-visible > .MLK__backdrop {
  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);
  border-top: 1px solid var(--_border);
}
body > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {
  box-shadow: none;
  border: none;
}
body > .ML__keyboard.is-visible.animate > .MLK__backdrop {
  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);
  transition-property: transform, opacity;
  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
.ML__keyboard {
  position: relative;
  overflow: hidden;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  z-index: var(--_keyboard-zindex);
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  opacity: 1;
  transform: none;
  pointer-events: none;
}
.ML__keyboard :where(div) {
  box-sizing: border-box;
  outline: none;
  border: none;
  margin: 0;
  padding: 0;
  line-height: 1;
  overflow-wrap: unset;
  text-align: left;
  vertical-align: baseline;
  cursor: auto;
  white-space: pre;
  box-shadow: none;
  transform: none;
}
.MLK__backdrop {
  position: absolute;
  bottom: calc(-1 * var(--_keyboard-height));
  width: 100%;
  height: var(--_keyboard-height);
  box-sizing: border-box;
  padding-top: var(--_padding-top);
  padding-bottom: var(--_padding-bottom);
  padding-left: var(--_padding-horizontal);
  padding-right: var(--_padding-horizontal);
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0);
  background: var(--_background);
}
.backdrop-is-transparent .MLK__backdrop {
  background: transparent;
}
/* If a custom layout has a custom container/backdrop
  (backdrop-is-transparent), make sure to let pointer event go through. */
.backdrop-is-transparent .MLK__plate {
  background: transparent;
  pointer-events: none;
}
/* If a custom layout has a custom container/backdrop, make sure to 
   allow pointer events on it. */
.backdrop-is-transparent .MLK__layer > div > div {
  pointer-events: all;
}
.ML__keyboard.is-visible > .MLK__backdrop {
  transform: translate(0, calc(-1 * var(--_keyboard-height)));
  opacity: 1;
  visibility: visible;
}
.caps-lock-indicator {
  display: none;
  width: 8px;
  height: 8px;
  background: #0cbc0c;
  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;
  border-radius: 8px;
  right: 8px;
  top: 8px;
  position: absolute;
}
.ML__keyboard.is-caps-lock .caps-lock-indicator {
  display: block;
}
.ML__keyboard.is-caps-lock .shift {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
}
.MLK__plate {
  position: absolute;
  top: var(--_padding-top);
  left: var(--_padding-horizontal);
  width: calc(100% - 2 * var(--_padding-horizontal));
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  container-type: inline-size;
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
  pointer-events: all;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 16px;
  /* Size of toolbar labels */
  font-weight: 400;
  text-shadow: none;
}
.ML__box-placeholder {
  color: var(--_box-placeholder-color);
}
.MLK__tex {
  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__tex-math {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
  font-style: italic;
}
.MLK__layer {
  display: none;
  outline: none;
}
.MLK__layer.is-visible {
  display: flex;
  flex-flow: column;
}
/* Keyboard layouts are made or rows of keys... */
.MLK__rows {
  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));
  display: flex;
  flex-flow: column;
  align-items: center;
  border-collapse: separate;
  clear: both;
  border: 0;
  margin: 0;
  margin-bottom: var(--_keycap-gap);
  gap: var(--_keycap-gap);
  /* If the styling include, e.g., some shadows, they will be
  cut off by the overflow. In that case, set the padding to 
  compensate. */
  padding-left: var(--_row-padding-left);
  padding-right: var(--_row-padding-right);
  overflow: visible;
  touch-action: none;
}
.MLK__rows > .MLK__row {
  display: flex;
  flex-flow: row;
  justify-content: center;
  width: 100%;
  gap: var(--_keycap-gap);
  margin: 0;
  padding: 0;
  /* For the alignment of the text on some modifiers (e.g. shift) */
  /* Extra spacing between two adjacent keys */
}
.MLK__rows > .MLK__row .tex {
  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .tex-math {
  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;
}
.MLK__rows > .MLK__row .big-op {
  font-size: calc(1.25 * var(--_keycap-font-size));
}
.MLK__rows > .MLK__row .small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__rows > .MLK__row .bottom {
  justify-content: flex-end;
}
.MLK__rows > .MLK__row .left {
  align-items: flex-start;
  padding-left: 12px;
}
.MLK__rows > .MLK__row .right {
  align-items: flex-end;
  padding-right: 12px;
}
.MLK__rows > .MLK__row .w0 {
  width: 0;
}
.MLK__rows > .MLK__row .w5 {
  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w15 {
  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w20 {
  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w40 {
  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .w50 {
  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));
}
.MLK__rows > .MLK__row .MLK__keycap.w50 {
  font-size: 80%;
  padding-top: 10px;
  font-weight: 100;
}
.MLK__rows > .MLK__row .separator {
  background: transparent;
  border: none;
  pointer-events: none;
}
.MLK__rows > .MLK__row .horizontal-rule {
  height: 6px;
  margin-top: 3px;
  margin-bottom: 0;
  width: 100%;
  border-radius: 0;
  border-top: var(--_horizontal-rule);
}
.MLK__rows > .MLK__row .ghost {
  background: var(--_toolbar-background);
  border: none;
  color: var(--_toolbar-text);
}
.MLK__rows > .MLK__row .ghost:hover {
  background: var(--_toolbar-background-hover);
}
.MLK__rows > .MLK__row .bigfnbutton {
  font-size: var(--_keycap-extra-small-font-size);
}
.MLK__rows > .MLK__row .shift,
.MLK__rows > .MLK__row .action {
  color: var(--_keycap-secondary-text);
  background: var(--_keycap-secondary-background);
  border-color: var(--_keycap-secondary-border);
  border-bottom-color: var(--_keycap-secondary-border-bottom);
  line-height: 0.8;
  font-size: min(1rem, var(--_keycap-small-font-size));
  font-weight: 600;
  padding: 8px 12px 8px 12px;
}
.MLK__rows > .MLK__row .shift:hover,
.MLK__rows > .MLK__row .action:hover {
  background: var(--_keycap-secondary-background-hover);
}
.MLK__rows > .MLK__row .action.primary {
  background: var(--_keycap-primary-background);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .action.primary:hover {
  background: var(--_keycap-primary-background-hover);
  color: var(--_keycap-primary-text);
}
.MLK__rows > .MLK__row .shift.selected,
.MLK__rows > .MLK__row .action.selected {
  color: var(--_toolbar-text-active);
}
.MLK__rows > .MLK__row .shift.selected.is-pressed,
.MLK__rows > .MLK__row .action.selected.is-pressed,
.MLK__rows > .MLK__row .shift.selected.is-active,
.MLK__rows > .MLK__row .action.selected.is-active {
  color: white;
}
.MLK__rows > .MLK__row .warning {
  background: #cd0030;
  color: white;
}
.MLK__rows > .MLK__row .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
/** A regular keycap
 * Use the :where() pseudo-class to give it a very low specifity, 
 * so that it can be overriden by custom style.
 */
:where(.MLK__rows > .MLK__row  div) {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: space-evenly;
  width: calc(var(--_keycap-width) - var(--_keycap-gap));
  height: var(--_keycap-height);
  box-sizing: border-box;
  padding: 0;
  vertical-align: top;
  text-align: center;
  float: left;
  color: var(--_keycap-text);
  fill: currentColor;
  font-size: var(--_keycap-font-size);
  background: var(--_keycap-background);
  border: 1px solid var(--_keycap-border);
  border-bottom-color: var(--_keycap-border-bottom);
  border-radius: 6px;
  cursor: pointer;
  touch-action: none;
  /* Keys with a variants panel */
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
:where(.MLK__rows > .MLK__row  div):hover {
  overflow: visible;
  background: var(--_keycap-background-hover);
}
:where(.MLK__rows > .MLK__row  div) .ML__latex {
  pointer-events: none;
  touch-action: none;
}
:where(.MLK__rows > .MLK__row  div) svg.svg-glyph {
  margin: 8px 0;
  width: var(--_keycap-glyph-size);
  height: var(--_keycap-glyph-size);
  min-height: var(--_keycap-glyph-size);
}
:where(.MLK__rows > .MLK__row  div) svg.svg-glyph-lg {
  margin: 8px 0;
  width: var(--_keycap-glyph-size-lg);
  height: var(--_keycap-glyph-size-lg);
  min-height: var(--_keycap-glyph-size-lg);
}
:where(.MLK__rows > .MLK__row  div).MLK__tex-math {
  font-size: 25px;
}
:where(.MLK__rows > .MLK__row  div).is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row  div).action.is-active,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row  div).action.is-pressed {
  z-index: calc(var(--_keyboard-zindex) - 5);
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active aside,
:where(.MLK__rows > .MLK__row  div).action.is-active aside,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed aside,
:where(.MLK__rows > .MLK__row  div).action.is-pressed aside {
  display: none;
}
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row  div).action.is-active .MLK__shift,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed .MLK__shift,
:where(.MLK__rows > .MLK__row  div).action.is-pressed .MLK__shift {
  display: none;
}
:where(.MLK__rows > .MLK__row  div).shift.is-pressed,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-pressed,
:where(.MLK__rows > .MLK__row  div).action.is-pressed {
  background: var(--_keycap-background-pressed);
  color: var(--_keycap-text-pressed);
}
:where(.MLK__rows > .MLK__row  div).shift.is-active,
:where(.MLK__rows > .MLK__row  div).MLK__keycap.is-active,
:where(.MLK__rows > .MLK__row  div).action.is-active {
  background: var(--_keycap-background-active);
  color: var(--_keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
:where(.MLK__rows > .MLK__row  div) small {
  color: var(--_keycap-secondary-text);
}
:where(.MLK__rows > .MLK__row  div) aside {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: 10px;
  line-height: 10px;
  color: var(--_keycap-secondary-text);
}
/* Add an attribute 'data-tooltip' to display a tooltip on hover.
Note there are a different set of tooltip rules for the keyboard toggle
(it's in a different CSS tree) */
.ML__keyboard [data-tooltip] {
  position: relative;
}
.ML__keyboard [data-tooltip]::after {
  position: absolute;
  display: inline-table;
  content: attr(data-tooltip);
  top: inherit;
  bottom: 100%;
  width: max-content;
  max-width: 200px;
  padding: 8px 8px;
  background: #616161;
  color: #fff;
  text-align: center;
  z-index: 2;
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  font-weight: 400;
  font-size: 12px;
  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;
  opacity: 0;
  transform: scale(0.5);
}
.ML__keyboard [data-tooltip]:hover {
  position: relative;
}
.ML__keyboard [data-tooltip]:hover::after {
  opacity: 1;
  transform: scale(1);
}
.MLK__toolbar {
  align-self: center;
  display: flex;
  flex-flow: row;
  justify-content: space-between;
  width: 100%;
  max-width: 996px;
  min-height: 32px;
  /* Icons for undo/redo, etc. */
}
.MLK__toolbar svg {
  height: 20px;
  width: 20px;
}
.MLK__toolbar > .left {
  position: relative;
  display: flex;
  justify-content: flex-start;
  flex-flow: row;
}
.MLK__toolbar > .right {
  display: flex;
  justify-content: flex-end;
  flex-flow: row;
}
.MLK__toolbar > div > div {
  /* "button" in the toolbar */
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--_toolbar-text);
  fill: currentColor;
  background: var(--_toolbar-background);
  font-size: var(--_toolbar-font-size);
  padding: 4px 15px;
  cursor: pointer;
  width: max-content;
  min-width: 42px;
  min-height: 34px;
  border: none;
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 8px;
  padding-top: 8px;
  margin-top: 0;
  margin-bottom: 4px;
  margin-left: 4px;
  margin-right: 4px;
  border-radius: 8px;
  box-shadow: none;
  border-bottom: 2px solid transparent;
}
.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {
  background: var(--_toolbar-background-hover);
}
.MLK__toolbar > div > div.disabled svg,
.MLK__toolbar > div > div.disabled:hover svg,
.MLK__toolbar > div > div.disabled.is-pressed svg {
  color: var(--_toolbar-text);
  opacity: 0.2;
}
.MLK__toolbar > div > div:hover,
.MLK__toolbar > div > div:active,
.MLK__toolbar > div > div.is-pressed,
.MLK__toolbar > div > div.is-active {
  color: var(--_toolbar-text-active);
}
.MLK__toolbar > div > div.selected {
  color: var(--_toolbar-text-active);
  background: var(--_toolbar-background-selected);
  border-radius: 0;
  border-bottom-color: var(--_toolbar-text-active);
  padding-bottom: 4px;
  margin-bottom: 8px;
}
/* This is the element that displays variants on press+hold */
.MLK__variant-panel {
  visibility: hidden;
  position: fixed;
  display: flex;
  flex-flow: row wrap-reverse;
  justify-content: center;
  align-content: center;
  margin: 0;
  padding: 0;
  bottom: auto;
  top: 0;
  box-sizing: content-box;
  transform: none;
  z-index: calc(var(--_keyboard-zindex) + 1);
  touch-action: none;
  max-width: 350px;
  background: var(--_variant-panel-background);
  text-align: center;
  border-radius: 6px;
  padding: 6px;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
  transition: none;
}
.MLK__variant-panel.is-visible {
  visibility: visible;
}
.MLK__variant-panel.compact {
  --_variant-keycap-length: var(--variant-keycap-length, 50px);
  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);
}
.MLK__variant-panel .item {
  display: flex;
  flex-flow: column;
  align-items: center;
  justify-content: center;
  font-size: var(--_variant-keycap-font-size);
  height: var(--_variant-keycap-length);
  width: var(--_variant-keycap-length);
  margin: 0;
  box-sizing: border-box;
  border-radius: 5px;
  border: 1px solid transparent;
  background: transparent;
  pointer-events: all;
  cursor: pointer;
  color: var(--_variant-keycap-text);
  fill: currentColor;
}
@media (max-height: 412px) {
  .MLK__variant-panel .item {
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
.MLK__variant-panel .item .ML__latex {
  pointer-events: none;
}
.MLK__variant-panel .item.is-active {
  background: var(--_variant-keycap-background-active);
  color: var(--_variant-keycap-text-active);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.is-pressed {
  background: var(--_variant-keycap-background-pressed);
  color: var(--_variant-keycap-text-pressed);
  --_box-placeholder-color: var(--_box-placeholder-pressed-color);
}
.MLK__variant-panel .item.small {
  font-size: var(--_keycap-small-font-size);
}
.MLK__variant-panel .item.swatch-button {
  box-sizing: border-box;
  background: #fbfbfb;
}
.MLK__variant-panel .item.swatch-button > span {
  display: inline-block;
  margin: 6px;
  width: calc(100% - 12px);
  height: calc(100% - 12px);
  border-radius: 50%;
}
.MLK__variant-panel .item.swatch-button:hover {
  background: #f0f0f0;
}
.MLK__variant-panel .item.swatch-button:hover > span {
  border-radius: 2px;
}
.MLK__variant-panel .item.box > div,
.MLK__variant-panel .item.box > span {
  border: 1px dashed rgba(0, 0, 0, 0.24);
}
.MLK__variant-panel .item .warning {
  min-height: 60px;
  min-width: 60px;
  background: #cd0030;
  color: white;
  padding: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
}
.MLK__variant-panel .item .warning.is-pressed,
.MLK__variant-panel .item .warning.is-active {
  background: red;
}
.MLK__variant-panel .item .warning svg.svg-glyph {
  width: var(--_keycap-glyph-size-xl);
  height: var(--_keycap-glyph-size-xl);
}
.MLK__variant-panel .item aside {
  font-size: var(--_variant-keycap-aside-font-size);
  line-height: 12px;
  opacity: 0.78;
  padding-top: 2px;
}
.MLK__keycap {
  position: relative;
}
.MLK__shift {
  display: block;
  position: absolute;
  right: 4px;
  top: 4px;
  font-size: var(--_keycap-shift-font-size);
  color: var(--_keycap-shift-color);
}
.hide-shift .MLK__shift {
  display: none;
}
@media (max-width: 414px) {
  .MLK__variant-panel {
    max-width: 350px;
    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);
    --_variant-keycap-length: var(--variant-keycap-length, 50px);
  }
}
/* @xs breakpoint: iPhone 5 */
@container (max-width: 414px) {
  .MLK__rows {
    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--_keycap-height), 42px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    font-size: 100%;
    margin-left: 2px;
    margin-right: 2px;
  }
  .MLK__rows .shift,
  .MLK__rows .action {
    font-size: 65%;
  }
  .MLK__rows .warning svg.svg-glyph {
    width: 14px;
    height: 14px;
    min-height: 14px;
  }
}
@container (max-width: 744px) {
  .MLK__rows {
    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);
    --_keycap-height: max(var(--keycap-height, 52px), 52px);
    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));
  }
  .MLK__toolbar > div > div {
    padding-left: 0;
    padding-right: 0;
  }
  .MLK__tooltip::after {
    padding: 8px 16px;
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.fnbutton {
    font-size: 16px;
  }
  .MLK__rows > .MLK__row > div.bigfnbutton {
    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);
  }
  .MLK__rows > .MLK__row > div.small {
    font-size: 13px;
  }
  .MLK__rows > .MLK__row > div > aside {
    display: none;
  }
  .MLK__shift {
    display: none;
  }
}
/* Medium breakpoint: larger phones */
@container (max-width: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@media (max-height: 768px) {
  .MLK__rows {
    --_keycap-height: max(var(--keycap-height, 42px), 42px);
  }
  .MLK__rows > .MLK__row > div > small {
    font-size: 14px;
  }
}
@container (max-width: 1444px) {
  .MLK__rows .if-wide {
    display: none;
  }
}
@media (prefers-color-scheme: dark) {
  .ML__keyboard {
    --_accent-color: var(--keyboard-accent-color, #0b5c9c);
    --_background: var(--keyboard-background, #151515);
    --_border: var(--keyboard-border, transparent);
    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
    --keyboard-toolbar-background-hover: #303030;
    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
    --_keycap-background: var(--keycap-background, #1f2022);
    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
    --_keycap-border: var(--_keycap-border, transparent);
    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
    --_keycap-text: var(--keycap-text, #e3e4e8);
    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
    --keycap-secondary-border: transparent;
    --keycap-secondary-border-bottom: transparent;
    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
    --_variant-panel-background: var(--variant-panel-background, #303030);
    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
  }
}
/* Same as the media query, but with a class */
[theme='dark'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0b5c9c);
  --_background: var(--keyboard-background, #151515);
  --_border: var(--keyboard-border, transparent);
  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);
  --keyboard-toolbar-background-hover: #303030;
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);
  --_keycap-background: var(--keycap-background, #1f2022);
  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);
  --_keycap-border: var(--_keycap-border, transparent);
  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);
  --_keycap-text: var(--keycap-text, #e3e4e8);
  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);
  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);
  --keycap-secondary-border: transparent;
  --keycap-secondary-border-bottom: transparent;
  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);
  --_variant-panel-background: var(--variant-panel-background, #303030);
  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);
}
[theme='light'] .ML__keyboard {
  --_accent-color: var(--keyboard-accent-color, #0c75d8);
  --_background: var(--keyboard-background, #cacfd7);
  --_border: var(--keyboard-border, #ddd);
  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);
  --_toolbar-background: var(--keyboard-toolbar-background, transparent);
  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);
  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);
  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);
  --_keycap-background: var(--keycap-background, white);
  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);
  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));
  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));
  --_keycap-border: var(--_keycap-border, #e5e6e9);
  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);
  --_keycap-text: var(--keycap-text, #000);
  --_keycap-text-active: var(--keycap-text-active, #fff);
  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));
  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);
  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));
  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);
  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);
  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);
  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);
  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);
  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);
  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));
  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));
  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));
}
`,cw=`:host {
  --primary-color: #5898ff;
  --primary-color-dimmed: #c0c0f0;
  --primary-color-dark: var(--blue-500);
  --primary-color-light: var(--blue-100);
  --primary-color-reverse: #ffffff;
  --secondary-color: #ff8a65;
  --secondary-color-dimmed: #f0d5c5;
  --secondary-color-dark: var(--orange-500);
  --secondary-color-light: var(--orange-100);
  --secondary-color-reverse: #ffffff;
  --link-color: #5898ff;
  --link-color-dimmed: #c5c5c5;
  --link-color-dark: #121212;
  --link-color-light: #e2e2e2;
  --link-color-reverse: #ffffff;
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --neutral-100: #f5f5f5;
  --neutral-200: #eeeeee;
  --neutral-300: #e0e0e0;
  --neutral-400: #bdbdbd;
  --neutral-500: #9e9e9e;
  --neutral-600: #757575;
  --neutral-700: #616161;
  --neutral-800: #424242;
  --neutral-900: #212121;
  --red-25: #fff8f7;
  --red-50: #fff1ef;
  --red-100: #ffeae6;
  --red-200: #ffcac1;
  --red-300: #ffa495;
  --red-400: #ff7865;
  --red-500: #f21c0d;
  --red-600: #e50018;
  --red-700: #d30024;
  --red-800: #bd002c;
  --red-900: #a1002f;
  --orange-25: #fffbf8;
  --orange-50: #fff7f1;
  --orange-100: #fff3ea;
  --orange-200: #ffe1c9;
  --orange-300: #ffcca2;
  --orange-400: #ffb677;
  --orange-500: #fe9310;
  --orange-600: #f58700;
  --orange-700: #ea7c00;
  --orange-800: #dc6d00;
  --orange-900: #ca5b00;
  --brown-25: #fff8ef;
  --brown-50: #fff1df;
  --brown-100: #ffe9ce;
  --brown-200: #ebcca6;
  --brown-300: #cdaf8a;
  --brown-400: #af936f;
  --brown-500: #856a47;
  --brown-600: #7f5e34;
  --brown-700: #78511f;
  --brown-800: #6e4200;
  --brown-900: #593200;
  --yellow-25: #fffdf9;
  --yellow-50: #fffcf2;
  --yellow-100: #fffaec;
  --yellow-200: #fff2ce;
  --yellow-300: #ffe8ab;
  --yellow-400: #ffdf85;
  --yellow-500: #ffcf33;
  --yellow-600: #f1c000;
  --yellow-700: #dfb200;
  --yellow-800: #c9a000;
  --yellow-900: #ad8a00;
  --lime-25: #f4ffee;
  --lime-50: #e9ffdd;
  --lime-100: #ddffca;
  --lime-200: #a8fb6f;
  --lime-300: #94e659;
  --lime-400: #80d142;
  --lime-500: #63b215;
  --lime-600: #45a000;
  --lime-700: #268e00;
  --lime-800: #007417;
  --lime-900: #005321;
  --green-25: #f5fff5;
  --green-50: #ebffea;
  --green-100: #e0ffdf;
  --green-200: #a7ffa7;
  --green-300: #5afa65;
  --green-400: #45e953;
  --green-500: #17cf36;
  --green-600: #00b944;
  --green-700: #00a34a;
  --green-800: #008749;
  --green-900: #00653e;
  --teal-25: #f3ffff;
  --teal-50: #e6fffe;
  --teal-100: #d9fffe;
  --teal-200: #8dfffe;
  --teal-300: #57f4f4;
  --teal-400: #43e5e5;
  --teal-500: #17cfcf;
  --teal-600: #00c2c0;
  --teal-700: #00b5b1;
  --teal-800: #00a49e;
  --teal-900: #009087;
  --cyan-25: #f7fcff;
  --cyan-50: #eff8ff;
  --cyan-100: #e7f5ff;
  --cyan-200: #c2e6ff;
  --cyan-300: #95d5ff;
  --cyan-400: #61c4ff;
  --cyan-500: #13a7ec;
  --cyan-600: #069eda;
  --cyan-700: #0095c9;
  --cyan-800: #0088b2;
  --cyan-900: #0a7897;
  --blue-25: #f7faff;
  --blue-50: #eef5ff;
  --blue-100: #e5f1ff;
  --blue-200: #bfdbff;
  --blue-300: #92c2ff;
  --blue-400: #63a8ff;
  --blue-500: #0d80f2;
  --blue-600: #0077db;
  --blue-700: #006dc4;
  --blue-800: #0060a7;
  --blue-900: #005086;
  --indigo-25: #f8f7ff;
  --indigo-50: #f1efff;
  --indigo-100: #eae7ff;
  --indigo-200: #ccc3ff;
  --indigo-300: #ac99ff;
  --indigo-400: #916aff;
  --indigo-500: #63c;
  --indigo-600: #5a21b2;
  --indigo-700: #4e0b99;
  --indigo-800: #3b0071;
  --indigo-900: #220040;
  --purple-25: #fbf7ff;
  --purple-50: #f8f0ff;
  --purple-100: #f4e8ff;
  --purple-200: #e4c4ff;
  --purple-300: #d49aff;
  --purple-400: #c36aff;
  --purple-500: #a219e6;
  --purple-600: #9000c4;
  --purple-700: #7c009f;
  --purple-800: #600073;
  --purple-900: #3d0043;
  --magenta-25: #fff8fb;
  --magenta-50: #fff2f6;
  --magenta-100: #ffebf2;
  --magenta-200: #ffcddf;
  --magenta-300: #ffa8cb;
  --magenta-400: #ff7fb7;
  --magenta-500: #eb4799;
  --magenta-600: #da3689;
  --magenta-700: #c82179;
  --magenta-800: #b00065;
  --magenta-900: #8a004c;
}
@media (prefers-color-scheme: dark) {
  :host {
    --semantic-blue: var(--blue-700);
    --semantic-red: var(--red-400);
    --semantic-orange: var(--orange-400);
    --semantic-green: var(--green-700);
    --semantic-bg-blue: var(--blue-25);
    --semantic-bg-red: var(--red-25);
    --semantic-bg-orange: var(--orange-25);
    --semantic-bg-green: var(--green-25);
    --neutral-100: #121212;
    --neutral-200: #424242;
    --neutral-300: #616161;
    --neutral-400: #757575;
    --neutral-500: #9e9e9e;
    --neutral-600: #bdbdbd;
    --neutral-700: #e0e0e0;
    --neutral-800: #eeeeee;
    --neutral-900: #f5f5f5;
  }
}
:host([theme='dark']) {
  --semantic-blue: var(--blue-700);
  --semantic-red: var(--red-400);
  --semantic-orange: var(--orange-400);
  --semantic-green: var(--green-700);
  --semantic-bg-blue: var(--blue-25);
  --semantic-bg-red: var(--red-25);
  --semantic-bg-orange: var(--orange-25);
  --semantic-bg-green: var(--green-25);
  --neutral-100: #121212;
  --neutral-200: #424242;
  --neutral-300: #616161;
  --neutral-400: #757575;
  --neutral-500: #9e9e9e;
  --neutral-600: #bdbdbd;
  --neutral-700: #e0e0e0;
  --neutral-800: #eeeeee;
  --neutral-900: #f5f5f5;
}
/* @media (prefers-color-scheme: dark) {
  :host {
      --label-color: #fff;
      --active-label-color: #000;
      --menu-bg: #525252;
      --active-bg: #5898ff;
      --active-bg-dimmed: #5c5c5c;
  }
} */
:host {
  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';
  --ui-font-size: 14px;
  --ui-line-height: 1.5;
  --ui-letter-spacing: 0.007em;
  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono',
    'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;
  --ui-layer-1: var(--neutral-100);
  --ui-layer-2: var(--neutral-200);
  --ui-layer-3: var(--neutral-300);
  --ui-layer-4: var(--neutral-400);
  --ui-layer-5: var(--neutral-500);
  --ui-layer-6: var(--neutral-600);
  --ui-border-color: var(--primary-color);
  --ui-border-radius: 4px;
  --ui-text: var(--neutral-900);
  --ui-text-secondary: var(--neutral-700);
  --ui-text-placeholder: var(--neutral-500);
  --ui-text-muted: var(--neutral-300);
  /** A field is a UI element in which a user can type data, for
  * example an input or textarea element.
  */
  --ui-field-bg: var(--neutral-100);
  --ui-field-bg-hover: var(--neutral-100);
  --ui-field-bg-disabled: var(--neutral-300);
  --ui-field-bg-invalid: var(--red-100);
  --ui-field-bg-focus: var(--neutral-100);
  --ui-field-border: 0.5px solid var(--border-color);
  --ui-field-border-hover: 0.5px solid var(--border-color);
  --ui-field-border-disabled: 0.5px solid var(--border-color);
  --ui-field-border-invalid: 0.5px solid var(--border-color);
  --ui-field-border-focus: 0.5px solid var(--border-color);
  --ui-menu-bg: var(--neutral-100);
  --ui-menu-text: var(--neutral-900);
  --ui-menu-bg-hover: var(--neutral-200);
  --ui-menu-text-hover: var(--neutral-900);
  /** The \`active\` state is used for the state of menu items
  * when they are selected.
  */
  --ui-menu-bg-active: var(--primary-color);
  --ui-menu-text-active: var(--primary-color-reverse);
  /** The \`active-muted\` set is used for the state of
  * submenus when they are open.
  */
  --ui-menu-bg-active-muted: var(--neutral-300);
  --ui-menu-text-active-muted: var(--neutral-900);
  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),
0 2px 6px 2px rgba(60, 64, 67, 0.149); */
  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);
  --ui-menu-divider: 0.5px solid #c7c7c7;
  /* var(--neutral-300); */
  --ui-menu-z-index: 10000;
  --page-bg: var(--neutral-100);
  --content-bg: var(--neutral-200);
}
@media (prefers-color-scheme: dark) {
  :host {
    --ui-menu-bg: var(--neutral-200);
  }
}
:host([theme='dark']) {
  --ui-menu-bg: var(--neutral-200);
}
/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. 
  Noto  is a Linux/Android font.
*/
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh) {
  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB',
    'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI',
    'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体',
    STXihei, '华文细黑', sans-serif;
}
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans',
    'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體',
    'PMingLiU', '細明體', 'MingLiU', sans-serif;
}
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac) {
  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans',
    'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans',
    '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo,
    'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;
}
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo',
    '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(ko-kr-apple) {
  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR',
    'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo',
    'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;
}
:lang(zh-cn),
:lang(zh-sg),
:lang(zh-my),
:lang(zh),
:lang(zh-tw),
:lang(zh-hk),
:lang(zh-mo),
:lang(ja),
:lang(ja-jp),
:lang(ja-jp-mac),
:lang(ko),
:lang(ko-kr),
:lang(ko-kr-std),
:lang(ko-kr-apple) {
  --ui-font-size: 1rem;
  --ui-line-height: 1.7;
  --ui-letter-spacing: 0;
}
:dir(rtl) {
  --ui-line-height: auto;
  --ui-letter-spacing: 0;
}
`,dw=`.ui-menu *,
.ui-menu ::before,
.ui-menu ::after {
  box-sizing: border-box;
}
.ui-menu {
  display: none;
  color-scheme: light dark;
  -webkit-user-select: none;
  /* Important: Safari iOS doesn't respect user-select */
  user-select: none;
  cursor: default;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: rgba(0 0 0 0);
  --active-label-color: #fff;
  /* ui-menu-text-active */
  --label-color: #121212;
  /* ui-menu-text */
  --menu-bg: #e2e2e2;
  /* ui-menu-background */
  --active-bg: #5898ff;
  /* ui-menu-background-active */
  --active-bg-dimmed: #c5c5c5;
  /* ui-menu-background-active-muted */
}
/** Use the :where pseudo selector to make the specificity of the
 * selector 0, so that it can be overridden by the user.
 */
:where(.ui-menu-container) {
  position: absolute;
  overflow: visible;
  width: auto;
  height: auto;
  z-index: 10000;
  border-radius: 8px;
  background: var(--ui-menu-bg);
  box-shadow: var(--ui-menu-shadow);
  list-style: none;
  padding: 6px 0 6px 0;
  margin: 0;
  user-select: none;
  cursor: default;
  color: var(--ui-menu-text);
  font-weight: normal;
  font-style: normal;
  text-shadow: none;
  text-transform: none;
  letter-spacing: 0;
  outline: none;
  opacity: 1;
  /* The [popover] elements have a 1px solid black border. Ugh. */
  border: none;
  width: fit-content;
  height: fit-content;
}
:where(.ui-menu-container > li) {
  display: flex;
  flex-flow: row;
  align-items: center;
  padding: 1px 7px 1px 7px;
  margin-top: 0;
  margin-left: 6px;
  margin-right: 6px;
  border-radius: 4px;
  white-space: nowrap;
  position: relative;
  outline: none;
  fill: currentColor;
  user-select: none;
  cursor: default;
  text-align: left;
  color: inherit;
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  line-height: var(--ui-line-height);
  letter-spacing: var(--ui-letter-spacing);
}
:where(.ui-menu-container > li > .label) {
  display: flex;
  align-items: center;
  justify-content: space-between;
  appearance: none;
  background: none;
  outline: none;
  width: 100%;
  margin: 0;
  padding: 1px 2px 1px 1px;
  overflow: visible;
  border: 1px solid transparent;
  white-space: nowrap;
  text-align: start;
  align-content: center;
}
:where(.ui-menu-container > li:has(.heading)) {
  margin-top: 0.5em;
}
:where(.ui-menu-container > li > .label.heading) {
  font-weight: bold;
  opacity: 0.4;
}
:where(.ui-menu-container > li.indent > .label) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li > .label.indent) {
  margin-inline-start: 12px;
}
:where(.ui-menu-container > li[role='divider']) {
  border-bottom: 1px solid var(--ui-menu-divider);
  border-radius: 0;
  padding: 0;
  margin-left: 15px;
  margin-right: 15px;
  padding-top: 5px;
  margin-bottom: 5px;
  width: calc(100% - 30px);
  /** 100% - (margin-left + margin-right) */
}
:where(.ui-menu-container > li[aria-disabled='true']) {
  opacity: 0.5;
}
:where(.ui-menu-container > li.active) {
  background: var(--ui-menu-bg-active);
  background: -apple-system-control-accent;
  color: var(--ui-menu-text-active);
}
:where(.ui-menu-container > li.active.is-submenu-open) {
  background: var(--ui-menu-bg-active-muted);
  color: inherit;
}
:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {
  padding-inline-end: 0;
}
:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {
  color: var(--ui-menu-text-active);
}
/** Keyboard shortcut */
:where(.ui-menu-container > li > kbd) {
  font-family: var(--ui-font-family);
  margin-inline-start: 12px;
  opacity: 0.4;
}
:where(.ui-menu-container > li.active > kbd) {
  opacity: 0.85;
}
.ui-trailing-chevron {
  display: flex;
  margin-inline-start: 24px;
  width: 10px;
  height: 10px;
  margin-bottom: 4px;
}
.ui-trailing-chevron:dir(rtl) {
  transform: scaleX(-1);
}
.ui-checkmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
.ui-mixedmark {
  display: flex;
  margin-inline-end: -11px;
  margin-inline-start: -4px;
  margin-top: 2px;
  width: 16px;
  height: 16px;
}
`,qi;function ji(e){let t="";switch(e){case"mathfield-element":t=`
    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}
    :host([hidden]) { display: none; }
    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }
    :host(:focus), :host(:focus-within) {
      outline: Highlight auto 1px;    /* For Firefox */
      outline: -webkit-focus-ring-color auto 1px;
    }
    :host([readonly]:focus), :host([readonly]:focus-within),
    :host([read-only]:focus), :host([read-only]:focus-within) {
      outline: none;
    }`;break;case"core":t=ow;break;case"mathfield":t=iw;break;case"environment-popover":t=aw;break;case"suggestion-popover":t=sw;break;case"keystroke-caption":t=lw;break;case"virtual-keyboard":t=uw;break;case"ui":t=cw;break;case"menu":t=dw;break}return t}function To(e){return qi||(qi={}),qi[e]||(qi[e]=new CSSStyleSheet,qi[e].replaceSync(ji(e))),qi[e]}var xn;function ui(e){var t;if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${e}`))return;let r=window.document.createElement("style");r.id=`mathlive-style-${e}`,r.append(window.document.createTextNode(ji(e))),window.document.head.appendChild(r);return}if(xn||(xn={}),((t=xn[e])!=null?t:0)!==0)xn[e]+=1;else{let r=To(e);document.adoptedStyleSheets=[...document.adoptedStyleSheets,r],xn[e]=1}}function ci(e){if("adoptedStyleSheets"in document&&xn!=null&&xn[e]&&(xn[e]-=1,xn[e]<=0)){let t=qi[e];document.adoptedStyleSheets=document.adoptedStyleSheets.filter(r=>r!==t)}}var pc=class x2 extends q{constructor(t){var r;super(B(M({},t),{type:"accent",body:(r=t.body)!=null?r:void 0})),t.accentChar?this.accent=t.accentChar:this.svgAccent=t==null?void 0:t.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(t){return new x2(t)}toJson(){return B(M({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(t){var r;let n=new Ie({parent:t,mathstyle:"cramp"},this.style),i=(r=q.createBox(n,this.body))!=null?r:new Z("▢",{style:this.style}),o=0;!this.hasEmptyBranch("body")&&this.body.length===2&&this.body[1].isCharacterBox()&&(o=i.skew);let a=Math.min(i.height,oi),s;if(this.svgAccent)s=au(this.svgAccent),a=n.metrics.bigOpSpacing1-a;else if(this.accent){let u=new Z(this.accent,{fontFamily:"Main-Regular"});u.italic=0;let c=this.accent===8407?" ML__accent-vec":"";s=new Z(new Z(u),{classes:"ML__accent-body"+c})}s=new _t({shift:0,children:[{box:new Z(i)},-a,{box:s,marginLeft:i.left+2*o,classes:["ML__center"]}]});let l=new Z(s,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(n,l.wrap(n)),this.attachSupsub(n,{base:l})}},mc={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Bu=Object.fromEntries(Object.entries(mc).map(([e,t])=>[t,e]));function fc(e){var t;return(t={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[e])!=null?t:e.codePointAt(0)}function hw(e,t,r,n){var i;let o=new Z(fc(e),{fontFamily:"Main-Regular",isSelected:n.isSelected,classes:"ML__small-delim "+((i=n.classes)!=null?i:"")}).wrap(t);return r&&o.setTop((1-t.scalingFactor)*Nr),o}function w2(e,t,r,n,i){var o,a;let s=new Ie({parent:n,mathstyle:"textstyle"},i==null?void 0:i.style),l=new Z(fc(e),{fontFamily:`Size${t}-Regular`,isSelected:i.isSelected,classes:((o=i.classes)!=null?o:"")+` ML__delim-size${t}`,type:(a=i.type)!=null?a:"ignore"}).wrap(s);return r&&l.setTop((1-s.scalingFactor)*Nr),l}function k2(e,t,r,n,i){var o;let a,s,l,u;a=l=u=fc(e),s=null;let c="Size1-Regular";e==="\\vert"||e==="\\lvert"||e==="\\rvert"||e==="\\mvert"||e==="\\mid"?l=a=u=8739:e==="\\Vert"||e==="\\lVert"||e==="\\rVert"||e==="\\mVert"||e==="\\|"?l=a=u=8741:e==="\\uparrow"?l=u=9168:e==="\\Uparrow"?l=u=8214:e==="\\downarrow"?a=l=9168:e==="\\Downarrow"?a=l=8214:e==="\\updownarrow"?(a=8593,l=9168,u=8595):e==="\\Updownarrow"?(a=8657,l=8214,u=8659):e==="["||e==="\\lbrack"?(a=9121,l=9122,u=9123,c="Size4-Regular"):e==="]"||e==="\\rbrack"?(a=9124,l=9125,u=9126,c="Size4-Regular"):e==="\\lfloor"||e==="⌊"?(l=a=9122,u=9123,c="Size4-Regular"):e==="\\lceil"||e==="⌈"?(a=9121,l=u=9122,c="Size4-Regular"):e==="\\rfloor"||e==="⌋"?(l=a=9125,u=9126,c="Size4-Regular"):e==="\\rceil"||e==="⌉"?(a=9124,l=u=9125,c="Size4-Regular"):e==="("||e==="\\lparen"?(a=9115,l=9116,u=9117,c="Size4-Regular"):e===")"||e==="\\rparen"?(a=9118,l=9119,u=9120,c="Size4-Regular"):e==="\\{"||e==="\\lbrace"?(a=9127,s=9128,u=9129,l=9130,c="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a=9131,s=9132,u=9133,l=9130,c="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a=9127,u=9129,l=9130,c="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a=9131,u=9133,l=9130,c="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a=9127,u=9133,l=9130,c="Size4-Regular"):e==="\\rmoustache"||e==="⎱"?(a=9131,u=9129,l=9130,c="Size4-Regular"):e==="\\surd"?(a=57345,u=9143,l=57344,c="Size4-Regular"):e==="\\ulcorner"?(a=9484,l=u=32):e==="\\urcorner"?(a=9488,l=u=32):e==="\\llcorner"?(u=9492,l=a=32):e==="\\lrcorner"&&(a=9496,l=a=32);let d=Io(a,c),p=d.height+d.depth,m=Io(l,c),g=m.height+m.depth,y=Io(u,c),L=y.height+y.depth,E=0,C=1;if(s!==null){let me=Io(s,c);E=me.height+me.depth,C=2}let v=p+L+E,k=Math.max(0,Math.ceil((t-v)/(C*g))),I=v+k*C*g,T=Nr;r&&(T=T*n.scalingFactor);let R=I/2-T,N=.008,z=[];z.push({box:new Z(u,{fontFamily:c})}),z.push(-N);let $=new Z(l,{fontFamily:c});if(s===null)for(let me=0;me<k;me++)z.push({box:$});else{for(let me=0;me<k;me++)z.push({box:$});z.push(-N),z.push({box:new Z(s,{fontFamily:c})}),z.push(-N);for(let me=0;me<k;me++)z.push({box:$})}z.push(-N),z.push({box:new Z(a,{fontFamily:c})});let be="";c==="Size1-Regular"?be=" delim-size1":c==="Size4-Regular"&&(be=" delim-size4");let ue=new _t({bottom:R,children:z},{classes:be});return new Z(ue,B(M({},i??{}),{classes:((o=i==null?void 0:i.classes)!=null?o:"")+" ML__delim-mult"}))}var M2=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),pw=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),S2=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),mw=[0,1.2,1.8,2.4,3];function fw(e,t,r,n){return e===void 0||e==="."?so(r,n.classes):(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),M2.has(e)||S2.has(e)?w2(e,t,!1,r,n):pw.has(e)?k2(e,mw[t],!1,r,n):null)}var gw=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bw=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],yw=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function vw(e){return e.type==="small"?"Main-Regular":e.type==="large"?"Size"+e.size+"-Regular":(e.type,"Size4-Regular")}function _w(e,t,r,n){let i={"-4":0,"-3":1,0:2}[n.mathstyle.sizeDelta];for(let o=i;o<r.length&&r[o].type!=="stack";o++){let a=Io(e,vw(r[o]));if(a.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let s=a.height+a.depth;if(r[o].type==="small"&&(r[o].mathstyle==="scriptscriptstyle"?s*=Math.max(D0[Math.max(1,n.size-2)],n.minFontScale):r[o].mathstyle==="scriptstyle"&&(s*=Math.max(D0[Math.max(1,n.size-1)],n.minFontScale))),s>t)return r[o]}return r[r.length-1]}function Tu(e,t,r,n,i,o){if(!t||t.length===0||t===".")return so(i);t==="<"||t==="\\lt"?t="\\langle":(t===">"||t==="\\gt")&&(t="\\rangle");let a;S2.has(t)?a=gw:M2.has(t)?a=yw:a=bw;let s=_w(fc(t),r,a,i),l=new Ie({parent:i,mathstyle:s.mathstyle},o==null?void 0:o.style);return s.type==="small"?hw(t,l,n,B(M({},o),{type:e})):s.type==="large"?w2(t,s.size,n,l,B(M({},o),{type:e})):(s.type,k2(t,r,n,l,B(M({},o),{type:e})))}function xs(e,t,r,n,i,o){if(t===".")return so(i,o==null?void 0:o.classes);let a=Nr*i.scalingFactor,s=901,l=5/aa,u=Math.max(r-a,n+a),c=Math.max(u/500*s,2*u-l);return Tu(e,t,c,!0,i,o)}function so(e,t){let r=new Z(null,{classes:" ML__nulldelimiter "+(t??""),type:"ignore"});return r.width=e.getRegisterAsEm("nulldelimiterspace"),r.wrap(new Ie({parent:e,mathstyle:"textstyle"}))}var Rr=class C2 extends q{constructor(t){var r;super({type:"placeholder",command:"\\placeholder",mode:(r=t==null?void 0:t.mode)!=null?r:"math",style:t==null?void 0:t.style}),this.captureSelection=!0}static fromJson(t){return new C2(t)}toJson(){return super.toJson()}render(t){let r;return this.value=t.placeholderSymbol,typeof t.renderPlaceholder=="function"?r=t.renderPlaceholder(t):r=this.createBox(t),this.caret&&(r.classes+=" ML__placeholder-selected"),r}_serialize(t){return t.skipPlaceholders?"":"\\placeholder{}"}},E2=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],L2=["cases","dcases","rcases"],A2=["align","align*","aligned","gather","gather*","gathered","split"],xw=["array","subequations","eqnarray"];function ww(e){return xw.concat(A2).concat(L2).concat(E2).includes(e)}function D2(e){return E2.includes(e)}function kw(e){return L2.includes(e)}function Mw(e){return A2.includes(e)}function Sw(e,t,r){let n=0;for(let u of r)"align"in u&&(n+=1);let i=0,o=[];for(let u of t){let c=0;for(i=Math.max(i,Math.min(u.length,n));c<u.length;){let d=[],p=Math.min(u.length,c+n);for(;c<p;){let m=u[c];m.length===0?d.push([new q({type:"first",mode:e.mode})]):m[0].type!=="first"?d.push([new q({type:"first",mode:e.mode}),...m]):(m.slice(1).some(g=>g.type==="first"),d.push(m)),c+=1}o.push(d)}}o.length>0&&o[o.length-1].length===1&&o[o.length-1][0].length===1&&o[o.length-1][0][0].type==="first"&&o.pop();let a=[];for(let u of o){if(u.length!==i)for(let c=u.length;c<i;c++)u.push([new q({type:"first",mode:e.mode}),new Rr]);a.push(u)}let s=0,l=0;for(let u of a){l=0;for(let c of u){for(let d of c)d.parent=e,d.parentBranch=[s,l];l+=1}s+=1}return e.isDirty=!0,a}var He=class B2 extends q{constructor(t,r,n,i={}){var o;super({type:"array"}),this.environmentName=t,this.rowGaps=n,i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.columns&&(i.columns.length===0?this.colFormat=[{align:"l"}]:this.colFormat=i.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=Sw(this,r,this.colFormat),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),i.arraycolsep!==void 0&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,i.arraystretch!==void 0&&(this.arraystretch=i.arraystretch),this.minColumns=(o=i.minColumns)!=null?o:1}static fromJson(t){return new B2(t.environmentName,t.array,t.rowGaps,t)}toJson(){let t=B(M({},super.toJson()),{environmentName:this.environmentName,array:this.array.map(r=>r.map(n=>n.map(i=>i.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType});return this.arraystretch!==void 0&&(t.arraystretch=this.arraystretch),this.arraycolsep!==void 0&&(t.arraycolsep=this.arraycolsep),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),t}branch(t){var r;if(Au(t))return(r=this.array[t[0]][t[1]])!=null?r:void 0}createBranch(t){var r;return Au(t)?(this.isDirty=!0,(r=this.branch(t))!=null?r:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(t=>!!t.align).length}removeBranch(t){if(Ki(t))return super.removeBranch(t);let[r,...n]=this.branch(t);return r.type,this.array[t[0]][t[1]]=void 0,n.forEach(i=>{i.parent=void 0,i.parentBranch=void 0}),this.isDirty=!0,n}get hasChildren(){return this.children.length>0}get children(){let t=[];for(let r of this.array)for(let n of r)if(n)for(let i of n)t.push(...i.children),t.push(i);return[...t,...super.children]}render(t){var r,n,i,o,a,s;let l=new Ie({parent:t,mathstyle:this.mathstyleName},this.style),u=l.getRegisterAsEm("arrayrulewidth"),c=l.getRegisterAsEm("arraycolsep"),d=l.getRegisterAsEm("doublerulesep"),p=(n=(r=this.arraystretch)!=null?r:l.getRegisterAsNumber("arraystretch"))!=null?n:1,m=typeof this.arraycolsep=="number"?this.arraycolsep:c;this.colSeparationType==="small"&&(m=.2778*(new Ie({parent:t,mathstyle:"scriptstyle"}).scalingFactor/t.scalingFactor));let g=p*S9,y=.7*g,L=.3*g,E=0,C=[],v=0,k=this.array.length;for(let re=0;re<k;++re){let he=this.array[re];v=Math.max(v,he.length);let Fe=new Ie({parent:l,mathstyle:this.mathstyleName},this.style),st=y/Fe.scalingFactor,De=L/Fe.scalingFactor,Pe={cells:[],height:0,depth:0,pos:0};for(let pt of he){let W=(i=q.createBox(Fe,pt,{type:"ignore"}))!=null?i:new Z(null,{type:"ignore"});De=Math.max(De,W.depth),st=Math.max(st,W.height),Pe.cells.push(W)}let tt=(o=l2(this.rowGaps[re]))!=null?o:0;tt>0&&(tt+=L,De=Math.max(De,tt),tt=0),re<k-1&&!D2(this.environmentName)&&this.environmentName!=="cases"&&this.environmentName!=="array"&&(De+=l.getRegisterAsEm("jot")),Pe.height=st,Pe.depth=De,E+=st,Pe.pos=E,E+=De+tt,C.push(Pe)}let I=E/2+Nr,T=[];for(let re=0;re<v;re++){let he=[];for(let Fe of C){let st=Fe.cells[re];st.depth=Fe.depth,st.height=Fe.height,he.push({box:st,shift:Fe.pos-I})}he.length>0&&T.push(new _t({individualShift:he}))}let R=[],N=!1,z=!1,$=0,be=!this.leftDelim,{colFormat:ue}=this;for(let re of ue){if("align"in re&&$>=T.length)break;if("align"in re)N?R.push(Rl(2*m)):(z||be)&&R.push(Rl(m)),R.push(new Z(T[$],{classes:"col-align-"+re.align})),$++,N=!0,z=!1,be=!1;else if("gap"in re){if(typeof re.gap=="number")R.push(Rl(re.gap));else{let he=Cw(t,C,I,re.gap);he&&R.push(he)}N=!1,z=!1,be=!1}else if("separator"in re){let he=new Z(null,{classes:"ML__vertical-separator"});he.height=E,he.setStyle("height",E,"em"),he.setStyle("border-right",`${u}em ${re.separator} currentColor`),he.setStyle("vertical-align",-(E-I),"em");let Fe=0;z?Fe=d-u:N&&(Fe=m-u),he.left=Fe,R.push(he),N=!1,z=!0,be=!1}}N&&!this.rightDelim&&R.push(Rl(m));let me=new Z(R,{classes:"ML__mtable"});if((!this.leftDelim||this.leftDelim===".")&&(!this.rightDelim||this.rightDelim==="."))return this.caret&&(me.caret=this.caret),this.bind(t,me);let Me=me.height,Ae=me.depth,fe=this.bind(t,new Z([this.bind(t,xs("open",(a=this.leftDelim)!=null?a:".",Me,Ae,l,{isSelected:this.isSelected})),me,this.bind(t,xs("close",(s=this.rightDelim)!=null?s:".",Me,Ae,l,{isSelected:this.isSelected}))],{type:"ord"}));return fe?(fe.setStyle("display","inline-block"),this.caret&&(fe.caret=this.caret),this.bind(t,this.attachSupsub(t,{base:fe}))):null}_serialize(t){var r;let n=[];if(this.environmentName==="lines"?n.push("{\\displaylines"):n.push(`\\begin{${this.environmentName}}`),this.environmentName==="array"){if(n.push("{"),this.colFormat!==void 0)for(let i of this.colFormat)"align"in i&&typeof i.align=="string"?n.push(i.align):"separator"in i&&i.separator==="solid"?n.push("|"):"separator"in i&&i.separator==="dashed"&&n.push(":");n.push("}")}for(let i=0;i<this.array.length;i++){for(let o=0;o<this.array[i].length;o++)o>0&&n.push(" & "),n.push(q.serialize(this.array[i][o],t));if(i<this.array.length-1){let o=this.rowGaps[i];o!=null&&o.dimension?n.push(`\\\\[${o.dimension} ${(r=o.unit)!=null?r:"pt"}] `):n.push("\\\\ ")}}return this.environmentName==="lines"?n.push("}"):n.push(`\\end{${this.environmentName}}`),Le(n)}forEachCell(t){for(let r=0;r<this.rowCount;r++)for(let n=0;n<this.colCount;n++)t(this.array[r][n],r,n)}getCell(t,r){return this.array[t][r]}setCell(t,r,n){this.type==="array"&&Array.isArray(this.array)&&this.array[t][r];for(let o of this.array[t][r])o.parent=void 0,o.parentBranch=void 0;let i=n;(n.length===0||n[0].type!=="first")&&(i=[new q({type:"first",mode:this.mode}),...n]),this.array[t][r]=i;for(let o of i)o.parent=this,o.parentBranch=[t,r];this.isDirty=!0}addRowBefore(t){this.type==="array"&&Array.isArray(this.array);let r=[];for(let n=0;n<this.colCount;n++)r.push($l(this));this.array.splice(t,0,r);for(let n=t;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){let o=this.array[n][i];if(o)for(let a of o)a.parentBranch=[n,i]}this.isDirty=!0}addRowAfter(t){this.type==="array"&&Array.isArray(this.array);let r=[];for(let n=0;n<this.colCount;n++)r.push($l(this));this.array.splice(t+1,0,r);for(let n=t+1;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){let o=this.array[n][i];if(o)for(let a of o)a.parentBranch=[n,i]}this.isDirty=!0}removeRow(t){this.type==="array"&&Array.isArray(this.array)&&this.rowCount>t;let r=this.array.splice(t,1);for(let n of r)for(let i of n)if(i)for(let o of i)o.parent=void 0,o.parentBranch=void 0;for(let n=t;n<this.rowCount;n++)for(let i=0;i<this.colCount;i++){let o=this.array[n][i];if(o)for(let a of o)a.parentBranch=[n,i]}this.isDirty=!0}addColumnBefore(t){this.type==="array"&&Array.isArray(this.array);for(let r of this.array)r.splice(t,0,$l(this));for(let r=0;r<this.rowCount;r++)for(let n=t;n<this.colCount;n++){let i=this.array[r][n];if(i)for(let o of i)o.parentBranch=[r,n]}this.isDirty=!0}addColumnAfter(t){this.type==="array"&&Array.isArray(this.array);for(let r of this.array)r.splice(t+1,0,$l(this));for(let r=0;r<this.rowCount;r++)for(let n=t+1;n<this.colCount;n++){let i=this.array[r][n];if(i)for(let o of i)o.parentBranch=[r,n]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(t){this.type==="array"&&Array.isArray(this.array)&&this.colCount>t;for(let r of this.array){let n=r.splice(t,1);for(let i of n)if(i)for(let o of i)o.parent=void 0,o.parentBranch=void 0}for(let r=0;r<this.rowCount;r++)for(let n=t;n<this.colCount;n++){let i=this.array[r][n];if(i)for(let o of i)o.parentBranch=[r,n]}this.isDirty=!0}get cells(){let t=[];for(let r of this.array)for(let n of r)n&&t.push(n.filter(i=>i.type!=="first"));return t}};function $l(e){let t=new q({type:"first",mode:e.mode});t.parent=e;let r=new Rr;return r.parent=e,[t,r]}function Rl(e){let t=new Z(null,{classes:"ML__arraycolsep"});return t.width=e,t}function Cw(e,t,r,n){if(!n)return null;let i=[];for(let o of t){let a=q.createBox(e,n,{type:"ignore"});a&&(a.depth=o.depth,a.height=o.height,i.push({box:a,shift:o.pos-r}))}return new _t({individualShift:i}).wrap(e)}var di=class T2 extends q{constructor(t){super({mode:t.mode,command:t.command,style:t.style,body:t.body,type:"box"}),this.framecolor=t.framecolor,this.backgroundcolor=t.backgroundcolor,this.padding=t.padding,this.offset=t.offset,this.border=t.border}static fromJson(t){return new T2(t)}toJson(){return B(M({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(t){var r,n,i,o;let a=q.createBox(t,this.body,{type:"lift"});if(!a)return null;let s=t.toEm((r=this.offset)!=null?r:{dimension:0});a.depth+=s,a.setStyle("display","inline-block"),a.setStyle("position","relative"),a.setStyle("height",Math.floor(100*a.height+a.depth)/100,"em"),a.setStyle("vertical-align",-Math.floor(100*a.height)/100,"em");let l=new Ie({parent:t},this.style),u=l.toEm((n=this.padding)!=null?n:{register:"fboxsep"}),c=new Z(null,{classes:"ML__box"});c.height=a.height+u,c.depth=a.depth+u,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("top",-u+.3,"em"),c.setStyle("left",0),c.setStyle("height",c.height+c.depth,"em"),c.setStyle("width","100%"),this.backgroundcolor&&c.setStyle("background-color",(i=l.toColor(this.backgroundcolor))!=null?i:"transparent"),this.framecolor&&c.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${(o=l.toColor(this.framecolor))!=null?o:"black"}`),this.border&&c.setStyle("border",this.border);let d=new Z([c,a],{type:"lift"});return d.setStyle("display","inline-block"),d.setStyle("position","relative"),d.setStyle("line-height",0),d.height=a.height+u+(s>0?s:0),d.depth=a.depth+u+(s<0?-s:0),d.setStyle("padding-left",u,"em"),d.setStyle("padding-right",u,"em"),d.setStyle("height",Math.floor(100*(a.height+a.depth+2*u+Math.abs(s)))/100,"em"),d.setStyle("margin-top",-u,"em"),d.setStyle("top",Math.floor(100*(a.depth-a.height+2*u-s))/100,"em"),d.setStyle("vertical-align",Math.floor(100*(a.depth+2*u))/100,"em"),this.caret&&(d.caret=this.caret),this.attachSupsub(t,{base:d})}_serialize(t){return t.skipStyles?Le([this.bodyToLatex(t),this.supsubToLatex(t)]):super._serialize(t)}},F2=class O2 extends q{constructor(t,r){var n;super({type:"composition",mode:(n=r==null?void 0:r.mode)!=null?n:"math",value:t})}static fromJson(t){return new O2(t.value,t)}toJson(){return super.toJson()}render(t){let r=new Z(this.value,{classes:"ML__composition",type:"composition"});return this.bind(t,r),this.caret&&(r.caret=this.caret),r}_serialize(t){return""}},Hi=class P2 extends q{constructor(t){super({type:"error",value:t,command:t,mode:"math"}),this.verbatimLatex=t}static fromJson(t){return new P2(t.command)}toJson(){return super.toJson()}render(t){let r=this.createBox(t,{classes:"ML__error"});return this.caret&&(r.caret=this.caret),r}},I2=class N2 extends q{constructor(t,r){super({type:"group",mode:r}),this.body=t,this.boxType=t.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,t&&t.length===1&&t[0].command===","&&(this.captureSelection=!0)}static fromJson(t){return new N2(t.body,t.mode)}render(t){let r=q.createBox(t,this.body,{type:this.boxType});return r?(this.caret&&(r.caret=this.caret),this.bind(t,r)):null}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,t):`{${this.bodyToLatex(t)}}`}},mt=class $2 extends q{constructor(t,r,n){super({type:"leftright",style:n.style,displayContainsHighlight:!0}),this.variant=t,this.body=r,this.leftDelim=n.leftDelim,this.rightDelim=n.rightDelim}static fromJson(t){var r;return new $2((r=t.variant)!=null?r:"",t.body,t)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),t}_serialize(t){var r,n;let i=this.matchingRightDelim();return this.variant==="left...right"?Le(["\\left",(r=this.leftDelim)!=null?r:".",this.bodyToLatex(t),"\\right",i]):this.variant==="mleft...mright"?Le(["\\mleft",(n=this.leftDelim)!=null?n:".",this.bodyToLatex(t),"\\mright",i]):Le([!this.leftDelim||this.leftDelim==="."?"":this.leftDelim,this.bodyToLatex(t),i])}matchingRightDelim(){var t,r;if(this.rightDelim&&this.rightDelim!=="?")return this.rightDelim;let n=(t=this.leftDelim)!=null?t:".";return(r=mc[n])!=null?r:n}render(t){var r,n;let i=new Ie({parent:t},this.style);this.body;let o=new Ie({parent:t,mathstyle:"textstyle"},this.style),a=(r=q.createBox(i,this.body,{type:"inner"}))!=null?r:new Z(null,{type:"inner"}),s=a.height/o.scalingFactor,l=a.depth/o.scalingFactor,u=[];if(this.leftDelim&&u.push(this.bind(o,xs("open",this.leftDelim,s,l,o,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),a&&(R2(a.children,this,i,s,l),u.push(a)),this.rightDelim){let m=this.containsCaret?" ML__contains-caret":"",g=this.rightDelim;g==="?"&&(i.smartFence?(g=this.matchingRightDelim(),m+=" ML__smart-fence__close"):g="."),u.push(this.bind(o,xs("close",g,s,l,o,{isSelected:this.isSelected,classes:m+" ML__close",mode:this.mode,style:this.style})))}let c=this.variant==="mleft...mright",d=this.leftSibling;d&&(!c&&d.isFunction&&(c=!0),!c&&d.type==="subsup"&&(n=d.leftSibling)!=null&&n.isFunction&&(c=!0));let p=new Z(u,{type:c?"close":"inner",classes:"ML__left-right"});return p.setStyle("margin-top",`${-a.depth}em`),p.setStyle("height",`${a.height+a.depth}em`),this.caret&&(p.caret=this.caret),this.bind(i,p.wrap(i))}};function R2(e,t,r,n,i){if(e)for(let o=0;o<e.length;o++){let a=e[o];a.type==="middle"?(e[o]=t.bind(r,xs("inner",a.value,n,i,r,{isSelected:t.isSelected})),e[o].caret=a.caret,e[o].isSelected=a.isSelected,e[o].cssId=a.cssId,e[o].htmlData=a.htmlData,e[o].htmlStyle=a.htmlStyle,e[o].attributes=a.attributes,e[o].cssProperties=a.cssProperties):a.children&&R2(a.children,t,r,n,i)}}var z2=class K2 extends q{constructor(t,r){var n;super({type:"macro",command:t,style:r.style}),this.body=r.body,r.captureSelection===void 0?r.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=r.captureSelection,this.macroArgs=r.args,this.expand=(n=r.expand)!=null?n:!1}static fromJson(t){return new K2(t.command,t)}toJson(){let t=super.toJson();return this.expand&&(t.expand=!0),this.captureSelection!==void 0&&(t.captureSelection=this.captureSelection),this.macroArgs&&(t.args=this.macroArgs),t}_serialize(t){var r;return t.expandMacro&&this.expand?this.bodyToLatex(t):this.command+((r=this.macroArgs)!=null?r:"")}render(t){let r=q.createBox(t,this.body,{type:"lift"});return r?(this.caret&&(r.caret=this.caret),this.bind(t,r)):null}},Ew=class q2 extends q{constructor(){super({type:"macro-argument"})}static fromJson(t){return new q2}toJson(){return super.toJson()}_serialize(t){return""}render(t){return null}},H2=class V2 extends q{constructor(t,r,n=!1,i,o){var a;super({type:"prompt",mode:(a=o==null?void 0:o.mode)!=null?a:"math",style:o==null?void 0:o.style,command:"\\placeholder"}),this.body=i,this.correctness=r,this.placeholderId=t,this.locked=n,this.captureSelection=this.locked}static fromJson(t){return new V2(t.placeholderId,t.correctness,t.locked,t.body,t)}toJson(){let t=super.toJson();return this.placeholderId&&(t.placeholderId=this.placeholderId),this.body||delete t.body,this.body&&(t.body=this.body.filter(r=>r.type!=="first").map(r=>r.toJson())),this.correctness&&(t.correctness=this.correctness),t.locked=this.locked,t}render(t){let r=new Ie({parent:t}),n=r.getRegisterAsEm("fboxsep"),i=n,o=n,a=q.createBox(t,this.body);if(!a)return null;a.height||(a.height=r.metrics.xHeight),a.setStyle("vertical-align",-a.height,"em"),this.correctness==="correct"?a.setStyle("color","var(--correct-color, var(--ML__correct-color))"):this.correctness==="incorrect"&&a.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let s=new Z(a,{type:"ord"});s.setStyle("display","inline-block"),s.setStyle("height",a.height+a.depth,"em"),s.setStyle("vertical-align",-o,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ",this.correctness==="correct"?l+=" ML__correctPromptBox ":this.correctness==="incorrect"&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let u=new Z(null,{classes:l,attributes:{part:"prompt"}});u.height=s.height+o,u.depth=s.depth+o,u.width=s.width+2*i,u.setStyle("position","absolute"),u.setStyle("height",`calc(${s.height+s.depth+2*o}em - 2px)`),i===0&&u.setStyle("width","100%"),i!==0&&(u.setStyle("width",`calc(100% + ${2*i}em)`),u.setStyle("top",n,"em"),u.setStyle("left",-i,"em")),(!this.body||this.body.length===1)&&(u.width=3*i,u.setStyle("width",`calc(100% + ${3*i}em)`),u.setStyle("left",-1.5*i,"em"));let c="";this.correctness==="incorrect"&&(c+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),c&&(u.svgOverlay=c);let d=new Z([u,s],{classes:"ML__prompt-atom"});return s.setStyle("line-height",1),d.setStyle("position","relative"),d.setStyle("display","inline-block"),d.setStyle("line-height",0),d.height=s.height+o+.2,d.depth=s.depth+o,d.left=i,d.right=i,d.setStyle("height",s.height+o,"em"),d.setStyle("top",s.depth-s.height,"em"),d.setStyle("vertical-align",s.depth+o,"em"),d.setStyle("margin-left",.5,"em"),d.setStyle("margin-right",.5,"em"),this.caret&&(d.caret=this.caret),this.bind(r,this.attachSupsub(t,{base:d}))}_serialize(t){var r;let n=(r=this.bodyToLatex(t))!=null?r:"";if(t.skipPlaceholders)return n;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),this.correctness==="correct"?i+="[correct]":this.correctness==="incorrect"&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),et(i,n)}},gc=class U2 extends q{constructor(t){super({type:"subsup",style:t==null?void 0:t.style}),this.subsupPlacement="auto"}static fromJson(t){let r=new U2(t);for(let n of sa)t[n]&&r.setChildren(t[n],n);return r}render(t){var r;let n=new Ie({parent:t,isPhantom:!0}),i=this.leftSibling,o=(r=i.render(n))!=null?r:new Z(null),a=new Z(null);return a.height=o.height,a.depth=o.depth,this.attachSupsub(t,{base:a,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(t){return this.supsubToLatex(t)}};function Eo(e){return e?!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(e):!1}var W2=class{constructor(e,t,r){this.errors=[],this.index=0,this.endCount=0;var n,i,o,a;r!=null||(r={}),this.tokens=e,this.context=t instanceof Ie&&!(r!=null&&r.parseMode)&&!r.mathstyle?t:new Ie({from:t,mathstyle:r.mathstyle},r.style),this.args=(n=r.args)!=null?n:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:(i=r.style)!=null?i:{},parseMode:(o=r.parseMode)!=null?o:"math",mathstyle:(a=r.mathstyle)!=null?a:"displaystyle",tabular:!1}}beginContext(e){var t,r,n;let i=this.parsingContext,o={parent:i,mathlist:[],style:M({},i.style),parseMode:(t=e==null?void 0:e.mode)!=null?t:i.parseMode,mathstyle:(r=e==null?void 0:e.mathstyle)!=null?r:i.mathstyle,tabular:(n=e==null?void 0:e.tabular)!=null?n:!1};this.parsingContext=o}endContext(){this.parsingContext=this.parsingContext.parent}onError(e){this.errors.push(M({before:Fi(this.tokens.slice(this.index,this.index+10)),after:Fi(this.tokens.slice(Math.max(0,this.index-10),this.index))},e))}get mathlist(){return this.parsingContext.mathlist}set mathlist(e){this.parsingContext.mathlist=e}get parseMode(){return this.parsingContext.parseMode}set parseMode(e){this.parsingContext.parseMode=e}get tabularMode(){return this.parsingContext.tabular}get style(){let e=this.parsingContext;for(;e;){if(e.style)return M({},e.style);e=e.parent}return{}}set style(e){this.parsingContext.style=e}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||this.parseMode!=="math")return;let e=f9(this.peek());e&&this.tokens.splice(this.index,1,..._s(e))}match(e){return this.tokens[this.index]===e?(this.index++,!0):!1}lastSubsupAtom(){let e;return this.mathlist.length>0&&(e=this.mathlist[this.mathlist.length-1],e.type==="subsup"||e.subsupPlacement!==void 0)||(e=new gc({style:this.style}),this.mathlist.push(e)),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;let{index:t}=this;if(t<this.tokens.length&&this.tokens[t].startsWith("\\")){let r=$t(this.tokens[t],this.parseMode);return!r||r.definitionType==="symbol"||r.ifMode&&!r.ifMode.includes(this.parseMode)?!1:(e=r.infix)!=null?e:!1}return!1}matchColumnSeparator(){return!this.tabularMode||this.peek()!=="&"?!1:(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let e=this.peek();return e!=="\\\\"&&e!=="\\cr"&&e!=="\\tabularnewline"?!1:(this.index++,!0)}placeholder(){var e;let t=(e=this.args)==null?void 0:e.call(this,"?");return t?Mr(t,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new Rr({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(e){let t=this.tokens[this.index];for(;t&&t!==e;)t=this.tokens[++this.index];t===e&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(e){let t=this.index,r=this.end(),n="";for(;!r;){let o=this.get();Eo(o)?(n+=o,r=this.end()||n.length>=e.length):r=!0}let i=e.toUpperCase()===n.toUpperCase();return i||(this.index=t),i}scanString(){let e="";for(;!this.end();){let t=this.peek();if(t==="]")return e;if(t==="<space>")e+=" ";else if(t.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),e+=t.substring(1);else if(Eo(t))e+=t;else return e;this.next()}return e}scanBalancedString(){let e="",t=this.end(),r=1;for(;!t;){let n=this.get();n==="<space>"?e+=" ":n==="<{>"?(e+="{",r+=1):n==="<}>"?(r-=1,r>0?e+="}":this.index-=1):n==="<$>"?e+="$":n==="<$$>"?e+="$$":e+=n,t=r===0||this.end()}return e}scanLiteralGroup(){var e;if(!this.match("<{>"))return"";let t="",r=1;for(;r>0&&!this.end();){let n=this.get();n==="<}>"?(r-=1,r>0&&(t+="}")):n==="<{>"?(r+=1,t+="{"):(/\\[a-zA-Z]+$/.test(t)&&/^[a-zA-Z]/.test(n)&&(t+=" "),t+=(e={"<space>":" ","<$$>":"$$","<$>":"$"}[n])!=null?e:n)}return t}scanNumber(e=!0){var t,r;let n=!1,i=this.peek();for(;i==="<space>"||i==="+"||i==="-";)this.get(),i==="-"&&(n=!n),i=this.peek();e=!!e;let o=10,a=/\d/;if(this.match("'"))o=8,a=/[0-7]/,e=!0;else if(this.match('"'))o=16,a=/[\dA-F]/,e=!0;else if(this.match("x"))o=16,a=/[\dA-Fa-f]/,e=!0;else if(this.match("`"))return i=this.get(),i?i.length===2&&i.startsWith("\\")?{number:(n?-1:1)*((t=i.codePointAt(1))!=null?t:0),base:"alpha"}:{number:(n?-1:1)*((r=i.codePointAt(0))!=null?r:0),base:"alpha"}:null;let s="";for(;this.hasPattern(a);)s+=this.get();if(!e&&(this.match(".")||this.match(",")))for(s+=".";this.hasPattern(a);)s+=this.get();let l=e?Number.parseInt(s,o):Number.parseFloat(s);return Number.isNaN(l)?null:{number:n?-l:l,base:o===16?"hexadecimal":o===8?"octal":"decimal"}}scanRegister(){var e;let t=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let n=!1;if(r===null)for(;;){let o=this.peek();if(o==="-")n=!n;else if(o!=="+")break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let o=this.get();return o.startsWith("\\")?r?{register:o,global:!0,factor:(n?-1:1)*r.number}:n?{register:o,global:!0,factor:-1}:{register:o,global:!0}:(this.index=t,null)}let i=this.get();return i!=null&&i.startsWith("\\")?(i=i.substring(1),this.context.registers[i]?!n||r!==null?{register:i,factor:(n?-1:1)*((e=r==null?void 0:r.number)!=null?e:1)}:{register:i}:(this.index=t,null)):(this.index=t,null)}scanValue(){let e=this.scanRegister();if(e)return e;let t=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=t;let n=this.scanNumber();if(n)return n;if(this.end()||!Eo(this.peek()))return null;let i=this.scanString();return i.length>0?{string:i}:null}scanDimen(){let e=this.scanNumber(!1);if(e===null)return null;let t=e.number;this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace();let r;return this.matchKeyword("pt")?r="pt":this.matchKeyword("mm")?r="mm":this.matchKeyword("cm")?r="cm":this.matchKeyword("ex")?r="ex":this.matchKeyword("px")?r="px":this.matchKeyword("em")?r="em":this.matchKeyword("bp")?r="bp":this.matchKeyword("dd")?r="dd":this.matchKeyword("pc")?r="pc":this.matchKeyword("in")?r="in":this.matchKeyword("mu")&&(r="mu"),r?{dimension:t,unit:r}:{dimension:t}}scanGlueOrDimen(){let e=this.scanDimen();if(e===null)return null;if(this.skipWhitespace(),this.match("\\relax"))return e;let t={glue:e};if(this.matchKeyword("plus")){let r=this.scanDimen();if(r)t.grow=r;else return t}if(this.skipWhitespace(),this.match("\\relax"))return t;if(this.skipWhitespace(),this.matchKeyword("minus")){let r=this.scanDimen();if(r)t.shrink=r;else return t}return!t.grow&&!t.shrink?e:t}scanColspec(){this.skipWhitespace();let e=[];for(;!this.end()&&!(this.peek()==="<}>"||this.peek()==="]");){let t=this.get();t==="c"||t==="r"||t==="l"?e.push({align:t}):t==="|"?e.push({separator:"solid"}):t===":"?e.push({separator:"dashed"}):t==="@"&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.scan(r=>r==="<}>")}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}scanModeSet(){let e;if(this.match("\\(")&&(e="textstyle"),!e&&this.match("\\[")&&(e="displaystyle"),!e)return null;this.beginContext({mode:"math",mathstyle:e});let t=this.scan(r=>r===(e==="displaystyle"?"\\]":"\\)"));return this.match(e==="displaystyle"?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t}scanModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});let t=this.scan(r=>r===e);return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t}scanEnvironment(){if(!this.match("\\begin"))return null;let e=this.scanArgument("string");if(!e)return null;let t=x9(e);if(!t)return this.onError({code:"unknown-environment",arg:e}),null;let r=[];if(t.params)for(let s of t.params)if(s.isOptional)r.push(this.scanOptionalArgument(s.type));else{let l=this.scanArgument(s.type);l||this.onError({code:"missing-argument",arg:e}),r.push(l)}this.beginContext({tabular:t.tabular});let n=[],i=[],o=[],a=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),a=!0),!a&&this.match("\\end")&&(this.scanArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),a=!0),!a)if(this.matchColumnSeparator())o.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){o.push(this.mathlist),this.mathlist=[];let s=null;this.skipWhitespace(),this.match("[")&&(s=this.scanDimen(),this.skipWhitespace(),this.match("]")),i.push(s??{dimension:0}),n.push(o),o=[]}else this.mathlist.push(...this.scan(s=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(s)));while(!a);return o.push(this.mathlist),o.length>0&&n.push(o),this.endContext(),t.createAtom(e,n,i,r,this.context.maxMatrixCols)}scanExpression(){let e=this.mathlist;if(this.mathlist=[],this.parseExpression()){let t=this.mathlist;return this.mathlist=e,t}return this.mathlist=e,null}scan(e){this.beginContext(),e||(e=a=>a==="<}>");let t="",r=null,n=[],i=null;for(;!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!t?(t=this.get(),r=$t(t,"math"),r&&(n=this.scanArguments(r)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();let o;return t?(n.unshift(this.mathlist),i&&n.unshift(i),o=[r.createAtom({command:t,args:n,style:this.style,mode:this.parseMode})]):o=this.mathlist,this.endContext(),o}scanGroup(){let e=this.index;if(!this.match("<{>"))return null;let t=this.scan(n=>n==="<}>");if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),t.length===1&&t[0].type==="placeholder")return t[0];let r=new I2(t,this.parseMode);return r.verbatimLatex=Fi(this.tokens.slice(e,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&e!==0;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),e!==0&&this.parseExpression();let t=new mt("",this.mathlist,{leftDelim:"(",rightDelim:e===0?")":"?"});return this.endContext(),t}scanDelim(){this.skipWhitespace();let e=this.peek();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;if(!Eo(e)&&!e.startsWith("\\"))return null;this.next();let t=$t(e,"math");return t?t.definitionType==="function"&&t.ifMode&&!t.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:e}),null):t.definitionType==="symbol"&&(t.type==="mopen"||t.type==="mclose")||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(e)?e:(this.onError({code:"unexpected-delimiter",arg:e}),null):(this.onError({code:"unknown-command",arg:e}),null)}scanLeftRight(){var e;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new Hi("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new Hi("\\mright");let t="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;t="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new Hi(t==="\\right"?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(t);)this.parseExpression();let n=this.mathlist;this.endContext();let i=(e=this.scanDelim())!=null?e:".";return new mt(t==="\\right"?"left...right":"mleft...mright",n,{leftDelim:r,rightDelim:i,style:this.style})}parseSupSub(){if(this.parseMode!=="math")return!1;let e=this.peek();if(e!=="^"&&e!=="_"&&e!=="'")return!1;let t=this.lastSubsupAtom();for(;e==="^"||e==="_"||e==="'";)this.match("'")?this.match("'")?t.addChild(new q({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):t.addChild(new q({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&t.addChildren(te(this.scanArgument("expression")),e==="_"?"subscript":"superscript"),e=this.peek();return!0}parseLimits(){if(this.parseMode!=="math")return!1;let e=this.match("\\limits"),t=!e&&this.match("\\nolimits"),r=!t&&!e&&this.match("\\displaylimits");if(!e&&!t&&!r)return!1;let n=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return n===null?!1:(n.explicitSubsupPlacement=!0,e&&(n.subsupPlacement="over-under"),t&&(n.subsupPlacement="adjacent"),r&&(n.subsupPlacement="auto"),!0)}scanArguments(e){if(!(e!=null&&e.params))return[void 0,[]];let t,r=[],n=e.infix?2:0;for(;n<e.params.length;){let i=e.params[n];i.type==="rest"?r.push(this.scan(o=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(o))):i.isOptional?r.push(this.scanOptionalArgument(i.type)):i.type.endsWith("*")?t=i.type.slice(0,-1):r.push(this.scanArgument(i.type)),n+=1}return[t,r]}scanSymbolOrLiteral(){let e=this.peek();if(!e)return null;this.next();let t;if(Eo(e)){let r=hr.createAtom(this.parseMode,e,M({},this.style));return r?[r]:null}if(t=this.scanMacro(e),t)return[t];if(e.startsWith("\\")){let r=$t(e,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:e}),[new Hi(e)];if(r.definitionType==="symbol"){let n=M({},this.style);r.variant&&(n.variant=r.variant),t=new q({type:r.type,command:e,style:n,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:e})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:e}),[new Hi(e)];r.createAtom&&(t=r.createAtom({command:e,args:[],style:this.style,mode:this.parseMode}))}}return t?[t]:null}scanArgument(e){var t;this.skipFiller();let r=this.parseMode;if(e==="auto"&&(e=r),!this.match("<{>")){if(e==="string")return this.scanString();if(e==="value")return this.scanValue();if(e==="delim")return(t=this.scanDelim())!=null?t:".";if(e==="expression")return this.scanExpression();if(e==="math"){e!==r&&this.beginContext({mode:"math"});let i=this.scanSymbolOrLiteral();return e!==r&&this.endContext(),i}if(e==="text"){e!==r&&this.beginContext({mode:"text"});let i=this.scanSymbolOrLiteral();return e!==r&&this.endContext(),i}return e==="balanced-string"?null:e==="rest"?this.scan(i=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(i)):null}if(e==="text"){this.beginContext({mode:"text"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}if(e==="math"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}let n=null;if(e==="expression"){this.beginContext({mode:"math"});do this.mathlist.push(...this.scan());while(!this.match("<}>")&&!this.end());let i=this.mathlist;return this.endContext(),{group:i}}return e==="string"?n=this.scanString():e==="balanced-string"?n=this.scanBalancedString():e==="colspec"?n=this.scanColspec():e==="value"&&(n=this.scanValue()),this.skipUntilToken("<}>"),n}scanOptionalArgument(e){if(e=e==="auto"?this.parseMode:e,this.skipFiller(),!this.match("["))return null;let t=null;for(;!this.end()&&!this.match("]");)if(e==="string")t=this.scanString();else if(e==="value")t=this.scanValue();else if(e==="colspec")t=this.scanColspec();else if(e==="bbox"){let r={},n=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let i of n){let o=i.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(o)r.padding={dimension:parseInt(o[1]),unit:o[2]};else{let a=i.match(/^\s*border\s*:\s*(.*)/);a?r.border=a[1]:r.backgroundcolor={string:i}}}t=r}else e==="math"&&(this.beginContext({mode:"math"}),t=this.mathlist.concat(this.scan(r=>r==="]")),this.endContext());return t}scanSymbolOrCommand(e){var t,r,n;if(e==="\\placeholder"){let s=this.scanOptionalArgument("string"),l=this.scanOptionalArgument("math"),u=q.serialize(l,{defaultMode:"math"}),c=[],d;!d&&u==="correct"?d="correct":!d&&u==="incorrect"?d="incorrect":u!==""&&(c=l);let p=this.scanOptionalArgument("string")==="locked",m=this.scanArgument("auto"),g;return m&&Array.isArray(m)&&m.length>0?g=m:m&&typeof m=="object"&&"group"in m?g=m.group:g=c,s?[new H2(s,d,p,g??c,{mode:this.parseMode,style:this.style})]:[new Rr({mode:this.parseMode,style:this.style})]}if(e==="\\renewcommand"||e==="\\newcommand"||e==="\\providecommand"||e==="\\def"){let s=this.index,l=this.scanLiteralGroup()||this.next();if(!l)return null;if(this.context.registers[l.substring(1)]){let u=this.scanArgument("string");u!==null&&(this.context.registers[l.substring(1)]=u);let c=Le([e,Fi(this.tokens.slice(s,this.index))]);return[new q({type:"text",value:"",verbatimLatex:c})]}}let i=this.scanMacro(e);if(i)return[i];let o=$t(e,this.parseMode);if(!o)return this.parseMode==="text"?(/[a-zA-Z]/.test((t=this.peek())!=null?t:"")&&(e+=" "),[...e].map(s=>new q({type:"text",value:s,mode:"text",style:this.style}))):(this.onError({code:"unknown-command",arg:e}),[new Hi(e)]);let a=this.index;if(o.definitionType==="symbol"){let s=M({},this.style);o.variant&&(s.variant=o.variant),i=new q({type:o.type,command:e,style:s,value:String.fromCodePoint(o.codepoint),mode:this.parseMode})}else{if(o.ifMode&&!o.ifMode.includes(this.parseMode))return[];let s=this.parseMode;o.applyMode&&(this.parseMode=o.applyMode);let l,u=[];if(o.parse?u=o.parse(this):[l,u]=this.scanArguments(o),this.parseMode=s,o.applyMode&&!o.applyStyle&&!o.createAtom)return te(u[0]);if(o.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if(typeof o.createAtom=="function")i=o.createAtom({command:e,args:u,style:this.style,mode:this.parseMode}),l&&(i.body=te(this.scanArgument(l)));else if(typeof o.applyStyle=="function"){let c=o.applyStyle(this.style,e,u,this.context),d=this.parseMode;if(o.applyMode&&(this.parseMode=o.applyMode),l){let p=this.style;this.style=c;let m=this.scanArgument(l);return this.style=p,this.parseMode=d,te(m)}this.style=c}else i=new q({type:"mord",command:(r=o.command)!=null?r:e,style:M({},this.style),value:e,mode:(n=o.applyMode)!=null?n:this.parseMode})}if(!i)return null;if(i instanceof q&&i.verbatimLatex===void 0&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)){let s=Le([e,Fi(this.tokens.slice(a,this.index))]);s&&(i.verbatimLatex=s)}if(i.verbatimLatex===null&&(i.verbatimLatex=void 0),i.isFunction&&this.smartFence){let s=this.scanSmartFence();if(s)return[i,s]}return[i]}scanSymbolCommandOrLiteral(){this.expandUnicode();let e=this.get();if(!e)return null;if(Eo(e)){let t=hr.createAtom(this.parseMode,e,M({},this.style));if(!t)return null;if(t.isFunction&&this.smartFence){let r=this.scanSmartFence();if(r)return[t,r]}return[t]}return e.startsWith("\\")?this.scanSymbolOrCommand(e):e==="<space>"?this.parseMode==="text"?[new ma(" "," ",this.style)]:null:(e==="<}>"?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null)}scanMacro(e){var t;let r=this.context.getMacro(e);if(!r)return null;let n=this.index,i=r.args,o={"?":(t=this.args)==null?void 0:t.call(this,"?")};for(let a=1;a<=i;a++){let s=this.scanLiteralGroup();if(!s){let l=this.index;this.scanExpression(),s=Fi(this.tokens.slice(l,this.index))}o[a]=s}return new z2(e,{expand:r.expand,captureSelection:r.captureSelection,args:n===this.index?null:Fi(this.tokens.slice(n,this.index)),style:this.parsingContext.style,body:Mr(r.def,{context:this.context,parseMode:this.parseMode,args:a=>o[a],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var e,t,r,n;let i=(n=(r=(t=(e=this.scanEnvironment())!=null?e:this.scanModeShift())!=null?t:this.scanModeSet())!=null?r:this.scanGroup())!=null?n:this.scanLeftRight();if(i===null){if(this.parseSupSub()||this.parseLimits())return!0;i=this.scanSymbolCommandOrLiteral()}return i?(Pt(i)?this.mathlist.push(...i):this.mathlist.push(i),!0):!1}};function Mr(e,t){var r,n,i,o;let a=(r=t==null?void 0:t.args)!=null?r:void 0,s=new W2(_s(e,a),t==null?void 0:t.context,{args:a,mathstyle:(n=t==null?void 0:t.mathstyle)!=null?n:"displaystyle",parseMode:(i=t==null?void 0:t.parseMode)!=null?i:"math",style:(o=t==null?void 0:t.style)!=null?o:{}}),l=[];for(;!s.end();)l.push(...s.scan(()=>!1));return l}function Lw(e,t){var r;let n=new W2(_s(e,null),t==null?void 0:t.context,{mathstyle:"displaystyle",parseMode:(r=t==null?void 0:t.parseMode)!=null?r:"math"});for(;!n.end();)n.scan();return n.errors}var j2=class G2 extends q{constructor(t,r){super({type:"chem"},{command:t,mode:"math"});let n=ot.go(G.go(r,t==="\\pu"?"pu":"ce"),!1);this.body=Mr(n),this._verbatimLatex=t+"{"+r+"}",this.arg=r,this.captureSelection=!0}static fromJson(t){return new G2(t.command,t.arg)}set verbatimLatex(t){}get verbatimLatex(){return this._verbatimLatex}toJson(){return B(M({},super.toJson()),{arg:this.arg})}render(t){let r=q.createBox(t,this.body,{type:"inner"});return this.caret&&(r.caret=this.caret),this.bind(t,r)}_serialize(t){return this.verbatimLatex,this.verbatimLatex}};H(["ce","pu"],"{chemformula:balanced-string}",{createAtom:e=>{var t;return new j2(e.command,(t=e.args[0])!=null?t:"")}});var G={go:function(e,t){if(!e)return[];t===void 0&&(t="ce");var r="0",n={};n.parenthesisLevel=0,e=e.replace(/\n/g," "),e=e.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),e=e.replace(/[\u2026]/g,"...");for(var i,o=10,a=[];;){i!==e?(o=10,i=e):o--;var s=G.stateMachines[t],l=s.transitions[r]||s.transitions["*"];e:for(var u=0;u<l.length;u++){var c=G.patterns.match_(l[u].pattern,e);if(c){for(var d=l[u].task,p=0;p<d.action_.length;p++){var m;if(s.actions[d.action_[p].type_])m=s.actions[d.action_[p].type_](n,c.match_,d.action_[p].option);else if(G.actions[d.action_[p].type_])m=G.actions[d.action_[p].type_](n,c.match_,d.action_[p].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+d.action_[p].type_+")"];G.concatArray(a,m)}if(r=d.nextState||r,e.length>0){if(d.revisit||(e=c.remainder),!d.toContinue)break e}else return a}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,t){if(t)if(Object.prototype.toString.call(t)==="[object Array]")for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.slice(1),remainder:e.substr(t[0].length)}:null},"(-)(9)^(-9)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return t&&t[0]?{match_:t.slice(1),remainder:e.substr(t[0].length)}:null},"state of aggregation $":function(e){var t=G.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var r=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:e.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(e){return G.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return G.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return G.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return G.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return G.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return G.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return G.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return G.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(e){return G.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return G.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return G.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$":function(e){return G.patterns.findObserveGroups(e,"${","","","}$")},"$(...)$":function(e){return G.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return G.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return G.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return G.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(e){return G.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(e){return G.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(e){return G.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return G.patterns.findObserveGroups(e,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){var t;if(t=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),t)return{match_:t[0],remainder:e.substr(t[0].length)};var r=G.patterns.findObserveGroups(e,"","$","$","");return r&&(t=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),t)?{match_:t[0],remainder:e.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,t,r,n,i,o,a,s,l,u){var c=function(E,C){if(typeof C=="string")return E.indexOf(C)!==0?null:C;var v=E.match(C);return v?v[0]:null},d=function(E,C,v){for(var k=0;C<E.length;){var I=E.charAt(C),T=c(E.substr(C),v);if(T!==null&&k===0)return{endMatchBegin:C,endMatchEnd:C+T.length};if(I==="{")k++;else if(I==="}"){if(k===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];k--}C++}return null},p=c(e,t);if(p===null||(e=e.substr(p.length),p=c(e,r),p===null))return null;var m=d(e,p.length,n||i);if(m===null)return null;var g=e.substring(0,n?m.endMatchEnd:m.endMatchBegin);if(o||a){var y=this.findObserveGroups(e.substr(m.endMatchEnd),o,a,s,l);if(y===null)return null;var L=[g,y.match_];return{match_:u?L.join(""):L,remainder:y.remainder}}else return{match_:g,remainder:e.substr(m.endMatchEnd)}},match_:function(e,t){var r=G.patterns.patterns[e];if(r===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if(typeof r=="function")return G.patterns.patterns[e](t);var n=t.match(r);if(n){var i;return n[2]?i=[n[1],n[2]]:n[1]?i=n[1]:i=n[0],{match_:i,remainder:t.substr(n[0].length)}}return null}},actions:{"a=":function(e,t){e.a=(e.a||"")+t},"b=":function(e,t){e.b=(e.b||"")+t},"p=":function(e,t){e.p=(e.p||"")+t},"o=":function(e,t){e.o=(e.o||"")+t},"q=":function(e,t){e.q=(e.q||"")+t},"d=":function(e,t){e.d=(e.d||"")+t},"rm=":function(e,t){e.rm=(e.rm||"")+t},"text=":function(e,t){e.text_=(e.text_||"")+t},insert:function(e,t,r){return{type_:r}},"insert+p1":function(e,t,r){return{type_:r,p1:t}},"insert+p1+p2":function(e,t,r){return{type_:r,p1:t[0],p2:t[1]}},copy:function(e,t){return t},rm:function(e,t){return{type_:"rm",p1:t||""}},text:function(e,t){return G.go(t,"text")},"{text}":function(e,t){var r=["{"];return G.concatArray(r,G.go(t,"text")),r.push("}"),r},"tex-math":function(e,t){return G.go(t,"tex-math")},"tex-math tight":function(e,t){return G.go(t,"tex-math tight")},bond:function(e,t,r){return{type_:"bond",kind_:r||t}},"color0-output":function(e,t){return{type_:"color0",color:t[0]}},ce:function(e,t){return G.go(t)},"1/2":function(e,t){var r=[];t.match(/^[+\-]/)&&(r.push(t.substr(0,1)),t=t.substr(1));var n=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(e,t){return G.go(t,"9,9")}},createTransitions:function(e){var t,r,n,i,o={};for(t in e)for(r in e[t])for(n=r.split("|"),e[t][r].stateArray=n,i=0;i<n.length;i++)o[n[i]]=[];for(t in e)for(r in e[t])for(n=e[t][r].stateArray||[],i=0;i<n.length;i++){var a=e[t][r];if(a.action_){a.action_=[].concat(a.action_);for(var s=0;s<a.action_.length;s++)typeof a.action_[s]=="string"&&(a.action_[s]={type_:a.action_[s]})}else a.action_=[];for(var l=t.split("|"),u=0;u<l.length;u++)if(n[i]==="*")for(var c in o)o[c].push({pattern:l[u],task:a});else o[n[i]].push({pattern:l[u],task:a})}return o},stateMachines:{}};G.stateMachines={ce:{transitions:G.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,t){var r;if((e.d||"").match(/^[0-9]+$/)){var n=e.d;e.d=void 0,r=this.output(e),e.b=n}else r=this.output(e);return G.actions["o="](e,t),r},"d= kv":function(e,t){e.d=t,e.dType="kv"},"charge or bond":function(e,t){if(e.beginsWithBond){var r=[];return G.concatArray(r,this.output(e)),G.concatArray(r,G.actions.bond(e,t,"-")),r}else e.d=t},"- after o/d":function(e,t,r){var n=G.patterns.match_("orbital",e.o||""),i=G.patterns.match_("one lowercase greek letter $",e.o||""),o=G.patterns.match_("one lowercase latin letter $",e.o||""),a=G.patterns.match_("$one lowercase latin letter$ $",e.o||""),s=t==="-"&&(n&&n.remainder===""||i||o||a);s&&!e.a&&!e.b&&!e.p&&!e.d&&!e.q&&!n&&o&&(e.o="$"+e.o+"$");var l=[];return s?(G.concatArray(l,this.output(e)),l.push({type_:"hyphen"})):(n=G.patterns.match_("digits",e.d||""),r&&n&&n.remainder===""?(G.concatArray(l,G.actions["d="](e,t)),G.concatArray(l,this.output(e))):(G.concatArray(l,this.output(e)),G.concatArray(l,G.actions.bond(e,t,"-")))),l},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,t){return{type_:"state of aggregation",p1:G.go(t,"o")}},comma:function(e,t){var r=t.replace(/\s*$/,""),n=r!==t;return n&&e.parenthesisLevel===0?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(e,t,r){var n;if(!e.r)n=[],!e.a&&!e.b&&!e.p&&!e.o&&!e.q&&!e.d&&!r||(e.sb&&n.push({type_:"entitySkip"}),!e.o&&!e.q&&!e.d&&!e.b&&!e.p&&r!==2?(e.o=e.a,e.a=void 0):!e.o&&!e.q&&!e.d&&(e.b||e.p)?(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):e.o&&e.dType==="kv"&&G.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&e.dType==="kv"&&!e.q&&(e.dType=void 0),n.push({type_:"chemfive",a:G.go(e.a,"a"),b:G.go(e.b,"bd"),p:G.go(e.p,"pq"),o:G.go(e.o,"o"),q:G.go(e.q,"pq"),d:G.go(e.d,e.dType==="oxidation"?"oxidation":"bd"),dType:e.dType}));else{var i;e.rdt==="M"?i=G.go(e.rd,"tex-math"):e.rdt==="T"?i=[{type_:"text",p1:e.rd||""}]:i=G.go(e.rd);var o;e.rqt==="M"?o=G.go(e.rq,"tex-math"):e.rqt==="T"?o=[{type_:"text",p1:e.rq||""}]:o=G.go(e.rq),n={type_:"arrow",r:e.r,rd:i,rq:o}}for(var a in e)a!=="parenthesisLevel"&&a!=="beginsWithBond"&&delete e[a];return n},"oxidation-output":function(e,t){var r=["{"];return G.concatArray(r,G.go(t,"oxidation")),r.push("}"),r},"frac-output":function(e,t){return{type_:"frac-ce",p1:G.go(t[0]),p2:G.go(t[1])}},"overset-output":function(e,t){return{type_:"overset",p1:G.go(t[0]),p2:G.go(t[1])}},"underset-output":function(e,t){return{type_:"underset",p1:G.go(t[0]),p2:G.go(t[1])}},"underbrace-output":function(e,t){return{type_:"underbrace",p1:G.go(t[0]),p2:G.go(t[1])}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:G.go(t[1])}},"r=":function(e,t){e.r=t},"rdt=":function(e,t){e.rdt=t},"rd=":function(e,t){e.rd=t},"rqt=":function(e,t){e.rqt=t},"rq=":function(e,t){e.rq=t},operator:function(e,t,r){return{type_:"operator",kind_:r||t}}}},a:{transitions:G.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:G.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:G.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var t={type_:"text",p1:e.text_};for(var r in e)delete e[r];return t}}}},pq:{transitions:G.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,t){return{type_:"state of aggregation subscript",p1:G.go(t,"o")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:G.go(t[1],"pq")}}}},bd:{transitions:G.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,t){return{type_:"color",color1:t[0],color2:G.go(t[1],"bd")}}}},oxidation:{transitions:G.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(e,t){return{type_:"roman numeral",p1:t||""}}}},"tex-math":{transitions:G.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"tex-math tight":{transitions:G.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"9,9":{transitions:G.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:G.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,t){var r=[];return t[0]==="+-"||t[0]==="+/-"?r.push("\\pm "):t[0]&&r.push(t[0]),t[1]&&(G.concatArray(r,G.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?G.concatArray(r,G.go(t[2],"pu-9,9")):r.push(t[2])),(t[3]||t[4])&&(t[3]==="e"||t[4]==="*"?r.push({type_:"cdot"}):r.push({type_:"times"}))),t[5]&&r.push("10^{"+t[5]+"}"),r},"number^":function(e,t){var r=[];return t[0]==="+-"||t[0]==="+/-"?r.push("\\pm "):t[0]&&r.push(t[0]),G.concatArray(r,G.go(t[1],"pu-9,9")),r.push("^{"+t[2]+"}"),r},operator:function(e,t,r){return{type_:"operator",kind_:r||t}},space:function(){return{type_:"pu-space-1"}},output:function(e){var t,r=G.patterns.match_("{(...)}",e.d||"");r&&r.remainder===""&&(e.d=r.match_);var n=G.patterns.match_("{(...)}",e.q||"");if(n&&n.remainder===""&&(e.q=n.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:G.go(e.d,"pu"),q:G.go(e.q,"pu")};e.o==="//"?t={type_:"pu-frac",p1:i.d,p2:i.q}:(t=i.d,i.d.length>1||i.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),G.concatArray(t,i.q))}else t=G.go(e.d,"pu-2");for(var o in e)delete e[o];return t}}},"pu-2":{transitions:G.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var t=[];if(e.rm){var r=G.patterns.match_("{(...)}",e.rm||"");r&&r.remainder===""?t=G.go(r.match_,"pu"):t={type_:"rm",p1:e.rm}}for(var n in e)delete e[n];return t}}},"pu-9,9":{transitions:G.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var r=e.text_.length%3;r===0&&(r=3);for(var n=e.text_.length-3;n>0;n-=3)t.push(e.text_.substr(n,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,r)),t.reverse()}else t.push(e.text_);for(var i in e)delete e[i];return t},"output-o":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){for(var r=e.text_.length-3,n=0;n<r;n+=3)t.push(e.text_.substr(n,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(n))}else t.push(e.text_);for(var i in e)delete e[i];return t}}}};var ot={go:function(e,t){if(!e)return"";for(var r="",n=!1,i=0;i<e.length;i++){var o=e[i];typeof o=="string"?r+=o:(r+=ot._go2(o),o.type_==="1st-level escape"&&(n=!0))}return!t&&!n&&r&&(r="{"+r+"}"),r},_goInner:function(e){return e&&ot.go(e,!0)},_go2:function(e){var t;switch(e.type_){case"chemfive":t="";var r={a:ot._goInner(e.a),b:ot._goInner(e.b),p:ot._goInner(e.p),o:ot._goInner(e.o),q:ot._goInner(e.q),d:ot._goInner(e.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),t+=r.a+"\\,"),(r.b||r.p)&&(t+="{\\vphantom{X}}",t+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",t+="{\\vphantom{X}}",t+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",t+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),t+=r.o),e.dType==="kv"?((r.d||r.q)&&(t+="{\\vphantom{X}}"),r.d&&(t+="^{"+r.d+"}"),r.q&&(t+="_{\\smash[t]{"+r.q+"}}")):e.dType==="oxidation"?(r.d&&(t+="{\\vphantom{X}}",t+="^{"+r.d+"}"),r.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+r.q+"}}"),r.d&&(t+="{\\vphantom{X}}",t+="^{"+r.d+"}"));break;case"rm":t="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+e.p1+"}"):t="\\text{"+e.p1+"}";break;case"roman numeral":t="\\mathrm{"+e.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+ot._goInner(e.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+ot._goInner(e.p1);break;case"bond":if(t=ot._getBond(e.kind_),!t)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var n="\\frac{"+e.p1+"}{"+e.p2+"}";t="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+ot._goInner(e.p1)+"}{"+ot._goInner(e.p2)+"}";t="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":t=e.p1+" ";break;case"frac-ce":t="\\frac{"+ot._goInner(e.p1)+"}{"+ot._goInner(e.p2)+"}";break;case"overset":t="\\overset{"+ot._goInner(e.p1)+"}{"+ot._goInner(e.p2)+"}";break;case"underset":t="\\underset{"+ot._goInner(e.p1)+"}{"+ot._goInner(e.p2)+"}";break;case"underbrace":t="\\underbrace{"+ot._goInner(e.p1)+"}_{"+ot._goInner(e.p2)+"}";break;case"color":t="{\\color{"+e.color1+"}{"+ot._goInner(e.color2)+"}}";break;case"color0":t="\\color{"+e.color+"}";break;case"arrow":var o={rd:ot._goInner(e.rd),rq:ot._goInner(e.rq)},a=ot._getArrow(e.r);o.rd||o.rq?e.r==="<=>"||e.r==="<=>>"||e.r==="<<=>"||e.r==="<-->"?(a="\\long"+a,o.rd&&(a="\\overset{"+o.rd+"}{"+a+"}"),o.rq&&(e.r==="<-->"?a="\\underset{\\lower2mu{"+o.rq+"}}{"+a+"}":a="\\underset{\\lower6mu{"+o.rq+"}}{"+a+"}"),a=" {}\\mathrel{"+a+"}{} "):(o.rq&&(a+="[{"+o.rq+"}]"),a+="{"+o.rd+"}",a=" {}\\mathrel{\\x"+a+"}{} "):a=" {}\\mathrel{\\long"+a+"}{} ",t=a;break;case"operator":t=ot._getOperator(e.kind_);break;case"1st-level escape":t=e.p1+" ";break;case"space":t=" ";break;case"entitySkip":t="~";break;case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(e){switch(e){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},X2=class J2 extends q{constructor(t){super(B(M({},t),{type:"delim"})),this.value=t.delim,this.size=t.size}static fromJson(t){return new J2(t)}toJson(){return B(M({},super.toJson()),{delim:this.value,size:this.size})}render(t){return new Z(this.value,{type:"middle"})}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,t):et(this.command,this.value)}},Y2=class Z2 extends q{constructor(t){super(B(M({},t),{type:"sizeddelim",value:t.delim})),this.delimType=t.delimType,this.size=t.size}static fromJson(t){return new Z2(t)}toJson(){return B(M({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(t){let r=fw(this.value,this.size,t,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return r?(r=this.bind(t,r),this.caret&&(r.caret=this.caret),r):null}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);return r!=null&&r.serialize?r.serialize(this,t):et(this.command,this.value)}},As=class Q2 extends q{constructor(t,r,n,i){var o,a;super({type:"enclose",command:t,style:i.style}),this.body=r,this.backgroundcolor=i.backgroundcolor,n.updiagonalarrow&&(n.updiagonalstrike=!1),n.box&&(n.left=!1,n.right=!1,n.bottom=!1,n.top=!1),this.notation=n,this.shadow=(o=i.shadow)!=null?o:"none",this.strokeWidth=(a=i.strokeWidth)!=null?a:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(t){return new Q2(t.command,t.body,t.notation,t)}toJson(){return B(M({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(t){var r;if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=$t(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,t);let i=(r=this.command)!=null?r:"";if(this.command==="\\enclose"){i+="{"+Object.keys(this.notation).join(" ")+"}";let o="",a="";this.backgroundcolor&&this.backgroundcolor!=="transparent"&&(o+=a+'mathbackground="'+this.backgroundcolor+'"',a=","),this.shadow&&this.shadow!=="auto"&&(o+=a+'shadow="'+this.shadow+'"',a=","),this.strokeWidth||this.strokeStyle!=="solid"?(o+=a+this.borderStyle,a=","):this.strokeColor&&this.strokeColor!=="currentColor"&&(o+=a+'mathcolor="'+this.strokeColor+'"',a=","),o&&(i+=`[${o}]`)}return et(i,this.bodyToLatex(t))}render(t){let r=new Ie({parent:t},this.style),n=q.createBox(r,this.body);if(!n)return null;let i=Aw(this.borderStyle),o=r.toEm(!this.padding||this.padding==="auto"?{register:"fboxsep"}:{string:this.padding});n.setStyle("position","relative"),n.setStyle("display","inline-block"),n.setStyle("top",o,"em"),n.setStyle("height",n.height+n.depth,"em"),n.setStyle("width",n.width,"em");let a=new Z(null,{classes:"ML__notation"}),s=n.height+n.depth+2*o,l=n.width+2*o,u="";if(this.notation.horizontalstrike&&(u+=this.line(3,50,97,50)),this.notation.verticalstrike&&(u+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(u+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(u+=this.line(3,3,97,97)),this.notation.updiagonalarrow){u+=this.line(o.toString(),(o+n.depth+n.height).toString(),(o+n.width).toString(),o.toString());let p=.03*Math.sqrt(l*l+s*s)*1,m=n.width*p,g=(n.depth+n.height)*p,y=o+n.width,L=o;L+g-.4*m<0&&(L=.4*m-g),u+='<polygon points="',u+=`${y},${L} ${y-m-.4*g},${L+g-.4*m} `,u+=`${y-.7*m},${L+.7*g} ${y-m+.4*g},${L+g+.4*m} `,u+=`${y},${L}`,u+=`" stroke='none' fill="${this.strokeColor}"`,u+="/>"}let c=0;if(this.notation.phasorangle){let p=hb(r),m=(n.height+n.depth+2*p+o).toString(),g=(n.height+n.depth)/2;u+=this.line(o.toString(),m,(o+g+n.width).toString(),m),u+=this.line(o.toString(),m,(o+g).toString(),(o-p).toString()),s+=p,c=g,n.left+=s/2-o}if(this.notation.longdiv){let p=hb(r);s+=p,u+=this.line(o.toString(),o.toString(),(o+n.width).toString(),o.toString());let m=.3;c=m+p,n.left+=m+p,n.setTop(o+p),u+='<path d="',u+=`M ${o} ${o}  a${m} ${(n.depth+n.height+2*p)/2}, 0, 1, 1, 0 ${n.depth+n.height+2*p} "`,u+=` stroke-width="${Dw(r)}" stroke="${this.strokeColor}" fill="none"`,u+="/>"}if(a.width=n.width+2*o+c,a.height=n.height+o,a.depth=n.depth+o,a.setStyle("box-sizing","border-box"),a.setStyle("left",`calc(-${i} / 2 )`),a.setStyle("height",`${Math.floor(100*s)/100}em`),a.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&a.setStyle("background-color",this.backgroundcolor),this.notation.box&&a.setStyle("border","1px solid red"),this.notation.actuarial&&(a.setStyle("border-top",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(a.setStyle("border-bottom",this.borderStyle),a.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(a.setStyle("border-radius","8px"),a.setStyle("border",this.borderStyle)),this.notation.circle&&(a.setStyle("border-radius","50%"),a.setStyle("border",this.borderStyle)),this.notation.top&&a.setStyle("border-top",this.borderStyle),this.notation.left&&a.setStyle("border-left",this.borderStyle),this.notation.right&&a.setStyle("border-right",this.borderStyle),this.notation.bottom&&a.setStyle("border-bottom",this.borderStyle),u){let p="";this.shadow==="auto"&&(p+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),this.shadow!=="none"&&(p+=`filter: drop-shadow(${this.shadow})`),p+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,p+=' stroke-linecap="round"',this.svgStrokeStyle&&(p+=` stroke-dasharray="${this.svgStrokeStyle}"`),a.svgStyle=p,a.svgOverlay=u}let d=new Z([a,n]);return d.setStyle("position","relative"),d.setStyle("vertical-align",o,"em"),d.setStyle("height",`${Math.floor(100*(n.height+n.depth+2*o))/100}em`),d.setStyle("display","inline-block"),d.height=a.height,d.depth=a.depth,d.width=a.width-2*o,d.left=o,d.right=o,this.caret&&(d.caret=this.caret),d.wrap(r)}line(t,r,n,i){return`<line x1="${zl(t)}"  y1="${zl(r)}" x2="${zl(n)}" y2="${zl(i)}" vector-effect="non-scaling-stroke"></line>`}};function zl(e){return typeof e=="number"?`${Math.floor(100*e)/100}%`:e}function Aw(e){if(!e)return"1px";let t=e.match(/([0-9][a-zA-Z\%]+)/);return t===null?"1px":t[1]}function Dw(e){return(Math.floor(100*e.metrics.sqrtRuleThickness/e.scalingFactor)/100/10).toString()+"em"}function hb(e){let t=e.isDisplayStyle?oi:e.metrics.defaultRuleThickness;return e.metrics.defaultRuleThickness+e.scalingFactor*t/4}var co=class e3 extends q{constructor(t,r,n){var i,o,a;super(B(M({},n),{type:"genfrac",displayContainsHighlight:!0})),this.above=t,this.below=r,this.hasBarLine=(i=n==null?void 0:n.hasBarLine)!=null?i:!0,this.continuousFraction=(o=n==null?void 0:n.continuousFraction)!=null?o:!1,this.align=(a=n==null?void 0:n.align)!=null?a:"center",this.numerPrefix=n==null?void 0:n.numerPrefix,this.denomPrefix=n==null?void 0:n.denomPrefix,this.mathstyleName=n==null?void 0:n.mathstyleName,this.leftDelim=n==null?void 0:n.leftDelim,this.rightDelim=n==null?void 0:n.rightDelim,this.fractionNavigationOrder=n==null?void 0:n.fractionNavigationOrder}static fromJson(t){return new e3(t.above,t.below,t)}toJson(){let t={};return this.continuousFraction&&(t.continuousFraction=!0),this.align!=="center"&&(t.align=this.align),this.numerPrefix&&(t.numerPrefix=this.numerPrefix),this.denomPrefix&&(t.denomPrefix=this.denomPrefix),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),this.hasBarLine||(t.hasBarLine=!1),this.mathstyleName&&(t.mathstyleName=this.mathstyleName),this.fractionNavigationOrder&&(t.fractionNavigationOrder=this.fractionNavigationOrder),M(M({},super.toJson()),t)}get children(){if(this._children)return this._children;let t=[];if(this.fractionNavigationOrder==="denominator-numerator"){for(let r of this.below)t.push(...r.children),t.push(r);for(let r of this.above)t.push(...r.children),t.push(r)}else{for(let r of this.above)t.push(...r.children),t.push(r);for(let r of this.below)t.push(...r.children),t.push(r)}return this._children=t,t}render(t){var r,n;let i=new Ie({parent:t,mathstyle:this.mathstyleName},this.style),o=i.metrics,a=new Ie({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),s=this.numerPrefix?new Z([new Z(this.numerPrefix),q.createBox(a,this.above)],{isTight:a.isTight,type:"ignore"}):(r=q.createBox(a,this.above,{type:"ignore"}))!=null?r:new Z(null,{type:"ignore"}),l=new Ie({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),u=this.denomPrefix?new Z([new Z(this.denomPrefix),q.createBox(l,this.below,{type:"ignore"})]):(n=q.createBox(l,this.below,{type:"ignore"}))!=null?n:new Z(null,{type:"ignore"}),c=this.hasBarLine?o.defaultRuleThickness:0,d,p=0,m;i.isDisplayStyle?(d=a.metrics.num1,p=c>0?3*c:7*c,m=l.metrics.denom1):(c>0?(d=a.metrics.num2,p=c):(d=a.metrics.num3,p=3*o.defaultRuleThickness),m=l.metrics.denom2);let g=[];this.isSelected&&g.push("ML__selected");let y=s.depth,L=u.height,E;if(c<=0){let R=d-y-(L-m);R<p&&(d+=(p-R)/2,m+=(p-R)/2),E=new _t({individualShift:[{box:s,shift:-d,classes:[...g,Kl(this.align)]},{box:u,shift:m,classes:[...g,Kl(this.align)]}]}).wrap(i)}else{let R=new Z(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});R.softWidth=Math.max(s.width,u.width),R.height=c/2,R.depth=c/2;let N=Nr+c/2;d<p+y+N&&(d=p+y+N);let z=Nr-c/2;m<p+L-z&&(m=p+L-z),E=new _t({individualShift:[{box:u,shift:m,classes:[...g,Kl(this.align)]},{box:R,shift:-z,classes:g},{box:s,shift:-d,classes:[...g,Kl(this.align)]}]}).wrap(i)}let C=i.isDisplayStyle?o.delim1:o.delim2,v=this.leftDelim?this.bind(t,Tu("open",this.leftDelim,C,!0,t,{style:this.style,mode:this.mode,isSelected:this.isSelected})):so(i,"ML__open"),k=null;this.continuousFraction?k=new Z(null,{type:"close"}):this.rightDelim?k=this.bind(t,Tu("close",this.rightDelim,C,!0,t,{style:this.style,mode:this.mode,isSelected:this.isSelected})):k=so(i,"ML__close");let I=new Z([v,E,k],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),T=this.bind(t,I);return this.caret&&(T.caret=this.caret),this.attachSupsub(t,{base:T})}};function Kl(e){var t;return(t={left:"ML__left",right:"ML__right",center:"ML__center"}[e])!=null?t:"ML__center"}var Et=class t3 extends q{constructor(t,r){var n;super({type:"latex",value:t,mode:"latex"}),this.isSuggestion=(n=r==null?void 0:r.isSuggestion)!=null?n:!1,this.isError=!1}static fromJson(t){let r=new t3(t.value);return t.isSuggestion&&(r.isSuggestion=!0),t.isError&&(r.isError=!0),r}toJson(){let t={};return this.isSuggestion&&(t.isSuggestion=!0),this.isError&&(t.isError=!0),M({type:"latex",value:this.value},t)}render(t){let r=new Z(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return r?(this.caret&&(r.caret=this.caret),this.bind(t,r)):null}},rs=class r3 extends q{constructor(t=""){super({type:"latexgroup",mode:"latex"}),this.body=[...t].map(r=>new Et(r)),this.skipBoundary=!0}static fromJson(t){return new r3}toJson(){return super.toJson()}render(t){let r=q.createBox(t,this.body);return r?(this.caret&&(r.caret=this.caret),this.bind(t,r)):null}_serialize(t){var r,n;return(n=(r=this.body)==null?void 0:r.map(i=>i.value).join(""))!=null?n:""}},Gh=class n3 extends q{constructor(t,r){super(B(M({},r),{type:"extensible-symbol",isFunction:r==null?void 0:r.isFunction})),this.value=t,this.variant=r==null?void 0:r.variant,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(t){return new n3(t.symbol,t)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.subsupPlacement&&(t.limits=this.subsupPlacement),this.value&&(t.symbol=this.value),t}render(t){var r;let n=t.isDisplayStyle&&this.value!=="\\smallint",i=new Z(this.value,{fontFamily:n?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(n?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:t.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let o=(i.height-i.depth)/2-Nr*t.scalingFactor,a=i.italic;i.setTop(o);let s=i;if(this.superscript||this.subscript){let l=(r=this.subsupPlacement)!=null?r:"auto";l==="auto"&&t.isDisplayStyle&&(l="over-under"),s=l==="over-under"?this.attachLimits(t,{base:i,baseShift:o,slant:a}):this.attachSupsub(t,{base:i})}return new Z(this.bind(t,s),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(t)}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,t);let n=[];return n.push(this.command),this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(t)),Le(n)}},ho=class i3 extends q{constructor(t){let r=t.body;super(B(M({},t),{type:"overlap",body:typeof r=="string"?[new q({value:r})]:r,style:t==null?void 0:t.style})),this.skipBoundary=!0,this.align=t==null?void 0:t.align,this.boxType=t==null?void 0:t.boxType}static fromJson(t){return new i3(t)}toJson(){let t={};return this.align&&(t.align=this.align),this.boxType&&(t.boxType=this.boxType),M(M({},super.toJson()),t)}render(t){let r=q.createBox(t,this.body,{classes:"ML__inner"});return r?(this.caret&&(r.caret=this.caret),this.bind(t,new Z([r,new Z(null,{classes:"ML__fix"})],{classes:this.align==="right"?"ML__rlap":"ML__llap",type:this.boxType}))):null}},Er=class o3 extends q{constructor(t){var r,n,i,o;super({type:"overunder",command:t.command,style:t.style,mode:t.mode,body:t.body,skipBoundary:(r=t.skipBoundary)!=null?r:!0}),this.subsupPlacement=t.supsubPlacement,this.svgAbove=t.svgAbove,this.svgBelow=t.svgBelow,this.svgBody=t.svgBody,this.above=t.above,this.below=t.below,this.boxType=(n=t.boxType)!=null?n:"ord",this.paddedBody=(i=t.paddedBody)!=null?i:!1,this.paddedLabels=(o=t.paddedLabels)!=null?o:!1}static fromJson(t){return new o3(t)}toJson(){let t=super.toJson();return this.skipBoundary||(t.skipBoundary=!1),this.subsupPlacement&&(t.subsupPlacement=this.subsupPlacement),this.svgAbove&&(t.svgAbove=this.svgAbove),this.svgBelow&&(t.svgBelow=this.svgBelow),this.svgBody&&(t.svgBody=this.svgBody),this.boxType!=="ord"&&(t.boxType=this.boxType),this.paddedBody&&(t.paddedBody=!0),this.paddedLabels&&(t.paddedLabels=!0),t}render(t){let r=this.svgBody?au(this.svgBody):q.createBox(t,this.body,{type:"ignore"}),n=new Ie({parent:t,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=au(this.svgAbove):this.above&&(i=q.createBox(n,this.above,{type:"ignore"}));let o=null;this.svgBelow?o=au(this.svgBelow):this.below&&(o=q.createBox(n,this.below,{type:"ignore"})),this.paddedBody&&(r=new Z([so(t,"ML__open"),r,so(t,"ML__close")],{type:"ignore"}));let a=Bw(t,{base:r,above:i,below:o,type:this.boxType==="bin"||this.boxType==="rel"?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return a?(this.subsupPlacement==="over-under"?a=this.attachLimits(t,{base:a,type:a.type}):a=this.attachSupsub(t,{base:a}),this.caret&&(a.caret=this.caret),this.bind(t,a)):null}};function Bw(e,t){if(!t.base)return null;if(!t.above&&!t.below){let s=new Z(t.base,{type:t.type});return s.setStyle("position","relative"),s}let r=0;t.above&&(r=e.metrics.bigOpSpacing5);let n=null,i=t.base,o=0,a=["ML__center"];if(t.paddedAboveBelow&&a.push("ML__label_padding"),t.below&&t.above){let s=e.metrics.bigOpSpacing5+t.below.height+t.below.depth+i.depth+o;n=new _t({bottom:s,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:a},{box:i,classes:["ML__center"]},r,{box:t.above,classes:a},e.metrics.bigOpSpacing5]})}else t.below?n=new _t({top:i.height-o,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:a},{box:i,classes:["ML__center"]}]}):t.above&&(n=new _t({bottom:i.depth+o,children:[{box:i,classes:["ML__center"]},r,{box:t.above,classes:a},e.metrics.bigOpSpacing5]}));return new Z(n,{type:t.type})}var Ds=class a3 extends q{constructor(t){var r,n,i,o;super(B(M({},t),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=(r=t.isInvisible)!=null?r:!1,this.smashDepth=(n=t.smashDepth)!=null?n:!1,this.smashHeight=(i=t.smashHeight)!=null?i:!1,this.smashWidth=(o=t.smashWidth)!=null?o:!1}static fromJson(t){return new a3(t)}toJson(){let t={};return this.isInvisible&&(t.isInvisible=!0),this.smashDepth&&(t.smashDepth=!0),this.smashHeight&&(t.smashHeight=!0),this.smashWidth&&(t.smashWidth=!0),M(M({},super.toJson()),t)}render(t){let r=new Ie({parent:t,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,q.createBox(r,this.body,{classes:"ML__inner"});let n=q.createBox(this.isInvisible?r:t,this.body);if(!n)return null;if(this.smashWidth){let i=new Z(null,{classes:"ML__fix"});return new Z([n,i],{classes:"ML__rlap"}).wrap(t)}if(!this.smashHeight&&!this.smashDepth)return n;if(this.smashHeight&&(n.height=0),this.smashDepth&&(n.depth=0),n.children)for(let i of n.children)this.smashHeight&&(i.height=0),this.smashDepth&&(i.depth=0);return new _t({firstBaseline:[{box:n}]},{type:n.type}).wrap(t)}},Bs=class s3 extends q{constructor(t){var r;super(M({type:"spacing"},t)),this.width=t==null?void 0:t.width,this._braced=(r=t==null?void 0:t.braced)!=null?r:!1}static fromJson(t){return new s3(t)}toJson(){let t=super.toJson();return this.width!==void 0&&(t.width=this.width),this._braced&&(t.braced=!0),t}render(t){var r;if(this.command==="space")return new Z(this.mode==="math"?null:" ");let n;if(this.width!==void 0)n=new Z(null,{classes:"ML__mspace"}),n.left=t.toEm(this.width);else{let i=(r={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])!=null?r:"ML__mediumspace";n=new Z(null,{classes:i})}return n=this.bind(t,n),this.caret&&(n.caret=this.caret),n}_serialize(t){var r;if(!t.expandMacro&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let n=$t(this.command,this.mode);if(n!=null&&n.serialize)return n.serialize(this,t);let i=(r=this.command)!=null?r:"";return this.width===void 0?i:this._braced&&!("register"in this.width)?`${i}{${Ot(this.width)}}`:`${i}${Ot(this.width)}`}},l3=class u3 extends q{constructor(t){var r;super(B(M({},t),{type:"surd",mode:(r=t.mode)!=null?r:"math",style:t.style,displayContainsHighlight:!0,body:t.body})),this.above=t.index}static fromJson(t){return new u3(B(M({},t),{index:t.above}))}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,t);let n=this.command,i=this.bodyToLatex(t);return this.above&&!this.hasEmptyBranch("above")?et(`${n}[${this.aboveToLatex(t)}]`,i):/^[0-9]$/.test(i)?`${n}${i}`:et(n,i)}get children(){if(this._children)return this._children;let t=[];if(this.above)for(let r of this.above)t.push(...r.children),t.push(r);if(this.body)for(let r of this.body)t.push(...r.children),t.push(r);return this._children=t,t}render(t){var r;let n=new Ie({parent:t,mathstyle:"cramp"},this.style),i=(r=q.createBox(n,this.body,{type:"inner"}))!=null?r:new Z(null),o=n.scalingFactor,a=n.metrics.defaultRuleThickness/o,s=t.isDisplayStyle?oi:a,l=new Z(null,{classes:"ML__sqrt-line",style:this.style});l.height=a,l.softWidth=i.width;let u=o*(a+s/4),c=Math.max(o*2*s,i.height+i.depth)+u+a,d=new Ie({parent:t},this.style),p=this.bind(d,new Z(Tu("inner","\\surd",c,!1,d,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!p)return null;let m=p.height+p.depth-a;m>i.height+i.depth+u&&(u=(u+m-(i.height+i.depth))/2),p.setTop(p.height-i.height-u);let g=this.bind(t,new _t({firstBaseline:[{box:new Z(i)},u-2*a,{box:l},a]})),y=q.createBox(new Ie({parent:t,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!y){let C=new Z([p,g],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return C.setStyle("display","inline-block"),C.setStyle("height",C.height+C.depth,"em"),this.caret&&(C.caret=this.caret),this.bind(t,C)}let L=new _t({shift:-.6*(Math.max(p.height,g.height)-Math.max(p.depth,g.depth)),children:[{box:y}]}),E=new Z([new Z(L,{classes:"ML__sqrt-index",type:"ignore"}),p,g],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return E.height=p.height,E.depth=p.depth,this.caret&&(E.caret=this.caret),this.bind(t,E)}},Tw=class extends Z{constructor(e){super(null,{type:"skip"}),this._width=e}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(this.width*100)/100}em"></span>`}};function cu(e,t){if(!e.parent)return;let r=e.parent.children,n=r.indexOf(e),i=n-1;for(;i>=0&&r[i].type==="ignore";)i-=1;if(i<0&&e.parent.parent&&e.parent.type==="lift"){cu(e.parent,t);return}n>0&&r[n-1].type==="skip"?r[n-1].width+=t:r.splice(n,0,new Tw(t))}var Fw={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},Ow={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function Pw(e){ns(e,(t,r)=>{r.type==="bin"&&(!t||/^(middle|bin|op|rel|open|punct)$/.test(t.type))&&(r.type="ord"),(t==null?void 0:t.type)==="bin"&&/^(rel|close|punct)$/.test(r.type)&&(t.type="ord"),r.type!=="ignore"&&(t=r)})}function Ts(e,t){if(!e.children)return e;let r=e.children;Pw(r);let n=t.getRegisterAsEm("thinmuskip"),i=t.getRegisterAsEm("medmuskip"),o=t.getRegisterAsEm("thickmuskip");return ns(r,(a,s)=>{var l,u,c;if(!a)return;let d=a.type,p=s.isTight?(l=Ow[d])!=null?l:null:(u=Fw[d])!=null?u:null,m=(c=p==null?void 0:p[s.type])!=null?c:null;m===3&&cu(s,n),m===4&&cu(s,i),m===5&&cu(s,o)}),e}function ns(e,t,r=void 0){if(!e)return r;e=[...e];for(let n of e)n.type==="lift"?r=ns(n.children,t,r):n.type==="ignore"?ns(n.children,t):(t(r,n),ns(n.children,t),r=n);return r}var Xh=class c3 extends q{constructor(t){super({type:"tooltip",command:t.command,mode:t.mode,style:t.style,body:t.body,displayContainsHighlight:!0}),this.tooltip=new q({type:"root",mode:t.content,body:t.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(t){return new c3(B(M({},t),{tooltip:ai(t.tooltip)}))}toJson(){var t;let r=(t=this.tooltip.body)==null?void 0:t.filter(n=>n.type!=="first").map(n=>n.toJson());return B(M({},super.toJson()),{tooltip:r})}render(t){let r=q.createBox(new Ie,this.body);if(!r)return null;let n=new Ie({parent:t,mathstyle:"displaystyle"},{fontSize:Hh}),i=cc(Ts(new Z(this.tooltip.render(n),{classes:"ML__tooltip-content"}),n)),o=new Z([i,r],{classes:"ML__tooltip-container"});return this.caret&&(o.caret=this.caret),this.bind(t,o)}},po=class d3 extends q{constructor(t,r){super(B(M({},r),{type:"operator",isFunction:r==null?void 0:r.isFunction})),this.value=t,this.variant=r==null?void 0:r.variant,this.variantStyle=r==null?void 0:r.variantStyle,this.subsupPlacement=r==null?void 0:r.limits}static fromJson(t){return new d3(t.symbol,t)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.variantStyle&&(t.variantStyle=this.variantStyle),this.subsupPlacement&&(t.limits=this.subsupPlacement),this.value&&(t.symbol=this.value),t}render(t){var r;let n=new Z(this.value,{type:"op",mode:"math",maxFontSize:t.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:t.letterShapeStyle}),i=n;if(this.superscript||this.subscript){let o=(r=this.subsupPlacement)!=null?r:"auto";i=o==="over-under"||o==="auto"&&t.isDisplayStyle?this.attachLimits(t,{base:n}):this.attachSupsub(t,{base:n})}return new Z(this.bind(t,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(t)}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&typeof this.verbatimLatex=="string")return this.verbatimLatex;let r=$t(this.command,this.mode);if(r!=null&&r.serialize)return r.serialize(this,t);let n=[this.command];return this.explicitSubsupPlacement&&(this.subsupPlacement==="over-under"&&n.push("\\limits"),this.subsupPlacement==="adjacent"&&n.push("\\nolimits"),this.subsupPlacement==="auto"&&n.push("\\displaylimits")),n.push(this.supsubToLatex(t)),Le(n)}};function ai(e){if(Pt(e))return e.map(n=>ai(n));if(typeof e=="string")return q.fromJson(e);e=M({},e);for(let n of sa)e[n]&&(e[n]=ai(e[n]));e.args&&(e.args=Iw(e.args)),e.array&&(e.array=ai(e.array));let t=e.type,r;t==="accent"&&(r=pc.fromJson(e)),t==="array"&&(r=He.fromJson(e)),t==="box"&&(r=di.fromJson(e)),t==="chem"&&(r=j2.fromJson(e)),t==="composition"&&(r=F2.fromJson(e)),t==="delim"&&(r=X2.fromJson(e)),t==="enclose"&&(r=As.fromJson(e)),t==="error"&&(r=Hi.fromJson(e)),t==="extensible-symbol"&&(r=Gh.fromJson(e)),t==="genfrac"&&(r=co.fromJson(e)),t==="group"&&(r=I2.fromJson(e)),t==="latex"&&(r=Et.fromJson(e)),t==="latexgroup"&&(r=rs.fromJson(e)),t==="leftright"&&(r=mt.fromJson(e)),t==="macro"&&(r=z2.fromJson(e)),t==="macro-argument"&&(r=Ew.fromJson(e)),t==="operator"&&(r=po.fromJson(e)),t==="overlap"&&(r=ho.fromJson(e)),t==="overunder"&&(r=Er.fromJson(e)),t==="placeholder"&&(r=Rr.fromJson(e)),t==="prompt"&&(r=H2.fromJson(e)),t==="phantom"&&(r=Ds.fromJson(e)),t==="sizeddelim"&&(r=Y2.fromJson(e)),t==="spacing"&&(r=Bs.fromJson(e)),t==="subsup"&&(r=gc.fromJson(e)),t==="surd"&&(r=l3.fromJson(e)),t==="text"&&(r=ma.fromJson(e)),t==="tooltip"&&(r=Xh.fromJson(e)),r||(r=q.fromJson(e));for(let n of sa)e[n]&&r.setChildren(e[n],n);return e.verbatimLatex!==void 0&&(r.verbatimLatex=e.verbatimLatex),e.subsupPlacement&&(r.subsupPlacement=e.subsupPlacement),e.explicitSubsupPlacement&&(r.explicitSubsupPlacement=!0),e.isFunction&&(r.isFunction=!0),e.skipBoundary&&(r.skipBoundary=!0),e.captureSelection&&(r.captureSelection=!0),r}function Iw(e){if(e&&Array.isArray(e))return e.map(t=>t==="<null>"?null:typeof t=="object"&&"group"in t?{group:t.group.map(r=>ai(r))}:typeof t=="object"&&"atoms"in t?t.atoms.map(r=>ai(r)):t)}function Yn(e,t){!e||!t||(Pt(e)?e.forEach(r=>Yn(r,t)):typeof e=="object"&&!e.style.color&&!e.style.backgroundColor&&!e.style.fontFamily&&!e.style.fontShape&&!e.style.fontSeries&&!e.style.fontSize&&!e.style.variant&&!e.style.variantStyle&&(e.applyStyle(t),Yn(e.body,t),Yn(e.above,t),Yn(e.below,t),Yn(e.subscript,t),Yn(e.superscript,t)))}function $0(e,t,r,n){function i(a,s){for(let l of o)if(l.style[a]!==s)return!1;return!0}if(t=e.normalizeRange(t),t[0]===t[1])return!1;let o=e.getAtoms(t,{includeChildren:!0});n.operation==="toggle"&&(r.color&&i("color",r.color)&&(r.color="none",delete r.verbatimColor),r.backgroundColor&&i("backgroundColor",r.backgroundColor)&&(r.backgroundColor="none",delete r.verbatimBackgroundColor),r.fontFamily&&i("fontFamily",r.fontFamily)&&(r.fontFamily="none"),r.fontSeries&&i("fontSeries",r.fontSeries)&&(r.fontSeries="auto"),r.fontShape&&i("fontShape",r.fontShape)&&(r.fontShape="auto"),r.fontSize&&i("fontSize",r.fontSize)&&(r.fontSize=Hh),r.variant&&i("variant",r.variant)&&(r.variant="normal"),r.variantStyle&&i("variantStyle",r.variantStyle)&&(r.variantStyle=""));for(let a of o)a.applyStyle(r);return!0}function Nw(e){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[e??""]}function bc(e){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[e??""]}var pb={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},R0={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},h3=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,$w=/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/,Rw=[/^[a-z]$/,/^[A-Z]$/,h3,$w],zw={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]},Kw=class extends hr{constructor(){super("math")}createAtom(e,t,r){var n,i,o,a,s,l;if(t===null)return new q({type:"mord",mode:"math",command:e,value:e,style:r});let u;try{u=(o=(i=globalThis.MathfieldElement)==null?void 0:i.isFunction((n=t.command)!=null?n:e))!=null?o:!1}catch{u=!1}if(t.definitionType==="symbol"){let d=new q({type:(a=t.type)!=null?a:"mord",mode:"math",command:(s=t.command)!=null?s:e,value:String.fromCodePoint(t.codepoint),isFunction:u,style:r});return e.startsWith("\\")&&(d.verbatimLatex=e),d}let c=new q({type:"mord",mode:"math",command:(l=t.command)!=null?l:e,value:e,isFunction:u,style:r});return e.startsWith("\\")&&(c.verbatimLatex=e),c}serialize(e,t){let r=qw(e,B(M({},t),{defaultMode:"math"}));return r.length===0||t.defaultMode!=="text"?r:["$ ",...r," $"]}getFont(e,t){var r,n;if(t.variant,t.fontFamily){let[u,c]=pb[t.fontFamily];return c&&(e.classes+=" "+c),u}let{variant:i}=t,{variantStyle:o}=t;if(i==="normal"&&!o&&/[\u00A3\u0131\u0237]/.test(e.value)&&(i="main",o="italic"),i==="normal"&&!o&&e.value.length===1){let u=!1;Rw.forEach((c,d)=>{var p;c.test(e.value)&&zw[(p=t.letterShapeStyle)!=null?p:"tex"][d]==="it"&&(u=!0)}),u&&(o=Nw(o))}o==="up"&&(o=void 0);let a=o?i+"-"+o:i,[s,l]=pb[a];if(R0[i]&&!R0[i].test(e.value)){let u=C0(e.value,i,o);return u||(u=(r=C0(e.value,i))!=null?r:e.value,e.classes+=(n={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[o??""])!=null?n:""),e.value=u,null}return h3.test(e.value)&&(e.classes+=" lcGreek"),l&&(e.classes+=" "+l),s}};function qw(e,t){return Sn(e,"bold").map(r=>{if(F0(r[0])!=="bold"||F0(r[0].parent)==="bold")return Le(ql(r,t));let n=Le(r.map(i=>{var o;return(o=i.value)!=null?o:""}));return/^[a-zA-Z0-9]+$/.test(n)?et("\\mathbf",Le(ql(r,t))):et("\\bm",Le(ql(r,t)))})}function ql(e,t){let{parent:r}=e[0],n=O0(r);return Sn(e,"variant").map(i=>{let o=O0(i[0]),a="";o&&o!==n&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[o]);let s=Le(i.map(l=>l._serialize(t)));return a?et(a,s):s})}new Kw;function Hw(e,t){return e.map(r=>r._serialize(t))}function Vw(e,t){return Sn(e,"fontShape").map(r=>{let n=Hw(r,t),{fontShape:i}=r[0].style,o="";return i==="it"&&(o="\\textit"),i==="sl"&&(o="\\textsl"),i==="sc"&&(o="\\textsc"),i==="n"&&(o="\\textup"),!o&&i?`{${et("\\fontshape",i)}${Le(n)}}`:o?et(o,Le(n)):Le(n)})}function Uw(e,t){return Sn(e,"fontSeries").map(r=>{let n=Vw(r,t),{fontSeries:i}=r[0].style,o="";return i==="b"&&(o="\\textbf"),i==="l"&&(o="\\textlf"),i==="m"&&(o="\\textmd"),i&&!o?`{${et("\\fontseries",i)}${Le(n)}}`:o?et(o,Le(n)):Le(n)})}function Ww(e,t){return Sn(e,"fontSize").map(r=>{var n,i;let o=Uw(r,t),a=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][(n=r[0].style.fontSize)!=null?n:""])!=null?i:"";return a?`${a} ${Le(o)}`:Le(o)})}function jw(e,t,r){return Sn(e,"fontFamily").map(n=>{var i;r=r&&!n.every(l=>l.style.fontFamily||l.style.fontShape||l.style.fontSeries||l.style.fontSize);let o=Ww(n,t),{fontFamily:a}=n[0].style,s=(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[a??""])!=null?i:"";return s?`\\${s}{${Le(o)}}`:a?`{\\fontfamily{${n[0].style.fontFamily}} ${Le(o)}}`:r?`\\text{${Le(o)}}`:Le(o)})}var mb={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"},Gw=class extends hr{constructor(){super("text")}createAtom(e,t,r){return t&&t.definitionType==="symbol"?new ma(e,String.fromCodePoint(t.codepoint),r??{}):null}serialize(e,t){return jw(e,B(M({},t),{defaultMode:"text"}),t.defaultMode!=="text")}getFont(e,t){var r,n,i,o,a;let{fontFamily:s}=t;if(mb[s]?e.classes+=" "+mb[s]:s&&e.setStyle("font-family",s),t.fontShape&&(e.classes+=" ",e.classes+=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[t.fontShape])!=null?r:""),t.fontSeries){let l=t.fontSeries.match(/(.?[lbm])?(.?[cx])?/);l&&(e.classes+=" ",e.classes+=(i={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[(n=l[1])!=null?n:""])!=null?i:"",e.classes+=" ",e.classes+=(a={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[(o=l[2])!=null?o:""])!=null?a:"")}return"Main-Regular"}};new Gw;var Xw=class extends hr{constructor(){super("latex")}createAtom(e){return new Et(e)}serialize(e,t){return e.filter(r=>r instanceof Et&&!r.isSuggestion).map(r=>r.value)}getFont(){return null}};new Xw;var Jw={id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},z0={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},p3={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},m3={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},Yw={id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}},Zw={id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},Qw={id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}},ek={id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}},tk={id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}},rk={id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}},nk={id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}},ik={id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}},ok={id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["\x1B","\x1B","\x1B","\x1B"],Backspace:["\b","\b","\b","\b"],Tab:["	","","	",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function f3(e){let t=e.split("+"),r={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:t.pop()};return t.includes("shift")&&(r.shift=!0),t.includes("alt")&&(r.alt=!0),t.includes("ctrl")&&(r.ctrl=!0),t.includes("cmd")&&(r.cmd=!0),t.includes("win")&&(r.win=!0),t.includes("meta")&&(r.meta=!0),r}function No(e){let t="";return e.shift&&(t+="shift+"),e.alt&&(t+="alt+"),e.ctrl&&(t+="ctrl+"),e.cmd&&(t+="cmd+"),e.win&&(t+="win+"),e.meta&&(t+="meta+"),t+e.key}var ak={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},Fu=[];function Jh(){switch(pa()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function lr(e){(!e.platform||e.platform===Jh())&&Fu.push(e)}function sk(e,t){var r;let n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!e)return n;for(let[i,o]of Object.entries(t.mapping)){if(o[0]===e)return n.key=`[${i}]`,n;if(o[1]===e)return n.shift=!0,n.key=`[${i}]`,n;if(o[2]===e)return n.alt=!0,n.key=`[${i}]`,n;if(o[3]===e)return n.shift=!0,n.alt=!0,n.key=`[${i}]`,n}return n.key=(r=ak[e])!=null?r:"",n}function lk(e){if(e.code)return e;let t=Object.entries(ws().mapping),r=!1,n=!1,i="";for(let o=0;o<4;o++){for(let[a,s]of t)if(s[o]===e.key){i=a,o===3?(r=!0,n=!0):o===2?r=!0:o===1&&(n=!0);break}if(i)break}return new KeyboardEvent(e.type,B(M({},e),{altKey:r,shiftKey:n,code:i}))}function uk(e){var t,r;if(!e||e.key==="Unidentified"||e.key==="Dead")return;let n=e.shiftKey&&e.altKey?3:e.altKey?2:e.shiftKey?1:0;for(let i of Fu)((t=i.mapping[e.code])==null?void 0:t[n])===e.key?i.score+=1:(r=i.mapping[e.code])!=null&&r[n]&&(i.score=0);Fu.sort((i,o)=>o.score-i.score)}function ws(){return Fu[0]}function ck(){switch(Jh()){case"apple":return z0;case"windows":return p3;case"linux":return m3}return z0}switch(Jh()){case"apple":lr(z0),lr(Yw),lr(nk),lr(ek);break;case"windows":lr(p3),lr(Zw),lr(ik),lr(tk);break;case"linux":lr(m3),lr(Qw),lr(ok),lr(rk);break}lr(Jw);function Yh(e){var t;let r=/macos|ios/.test(pa()),n=e.split("+"),i="";for(let o of n)i&&(i+=r?" ":'<span class="ML__shortcut-join">+</span>'),o.startsWith("[Key")?i+=o.slice(4,5):o.startsWith("Key")?i+=o.slice(3,4):o.startsWith("[Digit")?i+=o.slice(6,7):o.startsWith("Digit")?i+=o.slice(5,6):i+=(t={cmd:"⌘",meta:r?"⌘":"Ctrl",shift:r?"⇧":"Shift",alt:r?"⌥":"Alt",ctrl:r?"⌃":"Ctrl","\n":r?"⏎":"Return","[return]":r?"⏎":"Return","[enter]":r?"⌤":"Enter","[tab]":r?"⇥":"Tab","[escape]":"Esc","[backspace]":r?"⌫":"Backspace","[delete]":r?"⌦":"Del","[pageup]":r?"⇞":"Page Up","[pagedown]":r?"⇟":"Page Down","[home]":r?"⤒":"Home","[end]":r?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[o.toLowerCase()])!=null?t:o.toUpperCase();return i}function Ou(e){if(e instanceof MouseEvent||e instanceof PointerEvent)return{x:e.clientX,y:e.clientY};if(typeof TouchEvent<"u"&&e instanceof TouchEvent){let t=[...e.touches].reduce((n,i)=>({x:n.x+i.clientX,y:n.y+i.clientY}),{x:0,y:0}),r=e.touches.length;return{x:t.x/r,y:t.y/r}}}function Ji(e){let t={alt:!1,control:!1,shift:!1,meta:!1};return(e instanceof MouseEvent||e instanceof PointerEvent||typeof TouchEvent<"u"&&e instanceof TouchEvent||e instanceof KeyboardEvent)&&(e.altKey&&(t.alt=!0),e.ctrlKey&&(t.control=!0),e.metaKey&&(t.meta=!0),e.shiftKey&&(t.shift=!0)),t}function dk(e,t){return!e&&t||e&&!t?!1:!e||!t?!0:e.alt===t.alt&&e.control===t.control&&e.shift===t.shift&&e.meta===t.meta}var hk=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function yc(e){return e.ctrlKey||e.metaKey||["Dead","Process"].includes(e.key)?!1:e.code===""?!0:hk.has(e.code)}function Pu(){var e;let t=document.activeElement;for(;(e=t==null?void 0:t.shadowRoot)!=null&&e.activeElement;)t=t.shadowRoot.activeElement;return t}var Fr=class pn{static get scrim(){return pn._scrim||(pn._scrim=new pn),pn._scrim}static open(t){pn.scrim.open(t)}static close(){pn.scrim.close()}static get state(){return pn.scrim.state}static get element(){return pn.scrim.element}constructor(t){var r,n;this.lightDismiss=(r=t==null?void 0:t.lightDismiss)!=null?r:!0,this.translucent=(n=t==null?void 0:t.translucent)!=null?n:!1,this.state="closed"}get element(){if(this._element)return this._element;let t=document.createElement("div");return t.setAttribute("role","presentation"),t.style.position="fixed",t.style.contain="content",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.zIndex="var(--scrim-zindex, 10099)",t.style.outline="none",this.translucent?(t.style.background="rgba(255, 255, 255, .2)",t.style.backdropFilter="contrast(40%)"):t.style.background="transparent",this._element=t,t}open(t){var r;if(this.state!=="closed")return;this.state="opening",this.onDismiss=t==null?void 0:t.onDismiss,this.savedActiveElement=Pu();let{element:n}=this;((r=t==null?void 0:t.root)!=null?r:document.body).appendChild(n),n.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let i=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let o=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${o+i}px`,t!=null&&t.child&&n.append(t.child),this.state="open"}close(){var t,r,n,i;if(this.state!=="open"){this.element.parentElement;return}this.state="closing",typeof this.onDismiss=="function"&&this.onDismiss(),this.onDismiss=void 0;let{element:o}=this;o.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),o.remove(),document.body.style.overflow=(t=this.savedOverflow)!=null?t:"",document.body.style.marginRight=(r=this.savedMarginRight)!=null?r:"",Pu()!==this.savedActiveElement&&((i=(n=this.savedActiveElement)==null?void 0:n.focus)==null||i.call(n)),o.innerHTML="",this.state="closed"}handleEvent(t){this.lightDismiss&&(t.target===this._element&&t.type==="click"?(this.close(),t.preventDefault(),t.stopPropagation()):t.target===document&&(t.type==="touchmove"||t.type==="scroll")&&(this.close(),t.preventDefault(),t.stopPropagation()))}};function pk(e,t,r){let n=null,i=null,o=!1,a=!1,s=!1,l=new AbortController,u=l.signal;return e.addEventListener("keydown",c=>{if(o||c.key==="Process"||c.code==="CapsLock"||/(Control|Meta|Alt|Shift)(Left|Right)/.test(c.code)){n=null;return}n=c,i=null,r.onKeystroke(c)?e.textContent="":n=null},{capture:!0,signal:u}),e.addEventListener("keypress",c=>{o||(n&&i&&r.onKeystroke(n),i=c)},{capture:!0,signal:u}),e.addEventListener("compositionstart",c=>{e.textContent="",o=!0,r.onCompositionStart(c.data)},{capture:!0,signal:u}),e.addEventListener("compositionupdate",c=>{o&&r.onCompositionUpdate(c.data)},{capture:!0,signal:u}),e.addEventListener("compositionend",c=>{e.textContent="",o&&(o=!1,r.onCompositionEnd(c.data))},{capture:!0,signal:u}),e.addEventListener("beforeinput",c=>c.stopImmediatePropagation(),{signal:u}),e.addEventListener("input",c=>{var d;if(!o&&(e.textContent="",c.inputType!=="insertCompositionText")){if(c.inputType==="insertFromPaste"){c.preventDefault(),c.stopPropagation();return}r.onInput((d=c.data)!=null?d:""),c.preventDefault(),c.stopPropagation()}},{signal:u}),e.addEventListener("paste",c=>{e.focus({preventScroll:!0}),e.textContent="",r.onPaste(c)||c.preventDefault(),c.stopImmediatePropagation()},{signal:u}),e.addEventListener("cut",c=>r.onCut(c),{capture:!0,signal:u}),e.addEventListener("copy",c=>r.onCopy(c),{capture:!0,signal:u}),e.addEventListener("blur",c=>{var d,p;if(((p=(d=c.relatedTarget)==null?void 0:d._mathfield)==null?void 0:p.element)===t){e.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let m=!1,g=c.relatedTarget;for(;g;){if(g.classList.contains("ML__keyboard")){m=!0;break}g=g.parentElement}if(m){e.focus({preventScroll:!0}),c.preventDefault(),c.stopPropagation();return}let y=Fr.state;if(y==="open"||y==="opening"){c.preventDefault(),c.stopPropagation();return}if(c.relatedTarget===c.target.getRootNode().host){c.preventDefault(),c.stopPropagation();return}s||a||(s=!0,n=null,i=null,r.onBlur(),s=!1)},{capture:!0,signal:u}),e.addEventListener("focus",c=>{s||a||(a=!0,r.onFocus(),a=!1)},{capture:!0,signal:u}),{dispose:()=>l.abort(),cancelComposition:()=>{o&&(e.blur(),requestAnimationFrame(()=>e.focus({preventScroll:!0})))},blur:()=>{typeof e.blur=="function"&&e.blur()},focus:()=>{!a&&typeof e.focus=="function"&&e.focus({preventScroll:!0})},hasFocus:()=>Pu()===e,setAriaLabel:c=>e.setAttribute("aria-label",c),setValue:c=>{var d;e.textContent!==c&&(e.textContent=c,e.style.left="-1000px",(d=window.getSelection())==null||d.selectAllChildren(e))},moveTo:(c,d)=>{e.style.top=`${d}px`,e.style.left=`${c}px`}}}function Fo(e){var t;if(!e||!yc(e))return"";let r;return e.key==="Unidentified"&&e.target&&(r=e.target.value),r=(t=r??e.key)!=null?t:e.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(r)&&(r=""),r}function g3(e){e=lk(e);let t=[];return e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.length===0?`[${e.code}]`:(t.push(`[${e.code}]`),t.join("+"))}function mk(e){if(Cr()){let t=pa(),r=e.startsWith("!"),n=e.endsWith(t);if(r&&!n||!r&&n)return!0}return e==="!other"?!1:e==="other"}function fk(e,t,r){if(e.length===0)return"";let n=No(f3(g3(r))),i=No({key:r.key,shift:r.shiftKey,alt:r.altKey,ctrl:r.ctrlKey,meta:r.metaKey||r.ctrlKey&&/macos|ios/.test(pa()),cmd:!1,win:!1});for(let o=e.length-1;o>=0;o--)if((e[o].key===n||e[o].key===i)&&(!e[o].ifMode||e[o].ifMode===t))return e[o].command;return""}function fb(e){let t=e;return Pt(t)&&(t=t.length>0?t[0]+"("+t.slice(1).join("")+")":""),t}function gk(e,t){let r=[];if(typeof t=="string"){let o=Q9[t];Pt(o)?r=o.slice():o&&r.push(o)}let n=fb(t),i=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let o of e)i.test(fb(o.command))&&r.push(o.key);return r.map(Yh)}function bk(e,t){if(e.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(e.ifPlatform))throw new Error(`Unexpected platform "${e.ifPlatform}" for keybinding ${e.key}`);if(e.ifLayout!==void 0&&(t.score===0||!e.ifLayout.includes(t.id)))return;let r=f3(e.key),n=e.ifPlatform;if(r.cmd){if(n&&n!=="macos"&&n!=="ios")throw new Error('Unexpected "cmd" modifier with platform "'+n+`"
"cmd" modifier can only be used with macOS or iOS platform.`);n||(n=pa()==="ios"?"ios":"macos"),r.win=!1,r.cmd=!1,r.meta=!0}if(r.win){if(n&&n!=="windows")throw new Error('Unexpected "win" modifier with platform "'+n+`"
"win" modifier can only be used with Windows platform.`);n="windows",r.win=!1,r.cmd=!1,r.meta=!0}if(n&&!mk(n))return;if(/^\[.+\]$/.test(r.key))return B(M({},e),{key:No(r)});let i=sk(r.key,t);if(!i)return B(M({},e),{key:No(r)});if(i.shift&&r.shift||i.alt&&r.alt)throw new Error(`The keybinding ${e.key} (${K0(e.command)}) is conflicting with the key combination ${No(i)} using the ${t.displayName} keyboard layout`);return i.shift=i.shift||r.shift,i.alt=i.alt||r.alt,i.meta=r.meta,i.ctrl=r.ctrl,B(M({},e),{key:No(i)})}function K0(e){if(Array.isArray(e)){let t=[...e];return t.shift()+"("+t.map(r=>typeof r=="string"?`"${r}"`:r.toString()).join(", ")+")"}return e}function yk(e,t){let r=[],n=[];for(let i of e)try{let o=bk(i,t);if(!o)continue;let a=n.find(s=>s.key===o.key&&s.ifMode===o.ifMode);if(a)throw new Error(`Ambiguous key binding ${i.key} (${K0(i.command)}) matches ${a.key} (${K0(a.command)}) with the ${t.displayName} keyboard layout`);n.push(o)}catch(o){o instanceof Error&&r.push(o.message)}return[n,r]}var vk=class extends Ze{constructor(){super("latex")}createAtom(e){return new Et(e)}onPaste(e,t){if(!t)return!1;let r=typeof t=="string"?t:t.getData("application/x-latex")||t.getData("text/plain");return r&&e.model.contentWillChange({inputType:"insertFromPaste",data:r})?(e.stopCoalescingUndo(),e.stopRecording(),this.insert(e.model,r)&&(e.startRecording(),e.snapshot("paste"),e.model.contentDidChange({inputType:"insertFromPaste"}),dt(e)),e.startRecording(),!0):!1}insert(e,t,r){if(!e.contentWillChange({data:t,inputType:"insertText"}))return!1;r||(r={}),r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder");let{silenceNotifications:n}=e;r.silenceNotifications&&(e.silenceNotifications=!0);let i=e.silenceNotifications;e.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!e.selectionIsCollapsed?e.deleteAtoms(Ut(e.selection)):r.insertionMode==="replaceAll"?(e.root.setChildren([],"body"),e.position=0):r.insertionMode==="insertBefore"?e.collapseSelection("backward"):r.insertionMode==="insertAfter"&&e.collapseSelection("forward");let o=[];for(let l of t)_9.test(l)&&o.push(new Et(l));let a=e.at(e.position);if(a instanceof rs&&(a=a.lastChild),!(a.parent instanceof rs)){let l=new rs;a.parent.addChildAfter(l,a),a=l.firstChild}let s=a.parent.addChildrenAfter(o,a);return e.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?e.setSelection(e.anchor,e.offsetOf(s)):s&&(e.position=e.offsetOf(s))),e.contentDidChange({data:t,inputType:"insertText"}),e.silenceNotifications=n,!0}};function Zh(e){return e.atoms.find(t=>t.type==="latexgroup")}function Iu(e){var t,r;let n=Zh(e);return(r=(t=n==null?void 0:n.body)==null?void 0:t.filter(i=>i.type==="latex"))!=null?r:[]}function b3(e,t){var r;let n=0,i=!1,o=Number.isFinite(t==null?void 0:t.before)?(r=t==null?void 0:t.before)!=null?r:0:e.lastOffset;for(;n<=o&&!i;){let l=e.at(n);i=l instanceof Et&&l.isSuggestion,i||n++}if(!i)return[void 0,void 0];let a=n,s=!1;for(;a<=o&&!s;){let l=e.at(a);s=!(l instanceof Et&&l.isSuggestion),s||a++}return[n-1,a-1]}new vk;function vc(e){let t=Iu(e.model).filter(r=>r.isSuggestion);if(t.length!==0){e.model.position=e.model.offsetOf(t[0].leftSibling);for(let r of t)r.parent.removeChild(r)}}function Fs(e,t){var r;let{model:n}=e;vc(e);for(let c of Iu(n))c.isError=!1;if(!n.selectionIsCollapsed||e.options.popoverPolicy==="off"){ua(e);return}let i=[],o=n.at(n.position);for(;o&&o instanceof Et&&/^[a-zA-Z\*]$/.test(o.value);)o=o.leftSibling;if(o&&o instanceof Et&&o.value==="\\")for(i.push(o),o=o.rightSibling;o&&o instanceof Et&&/^[a-zA-Z\*]$/.test(o.value);)i.push(o),o=o.rightSibling;let a=i.map(c=>c.value).join(""),s=w9(e,a);if(s.length===0){if(/^\\[a-zA-Z\*]+$/.test(a))for(let c of i)c.isError=!0;ua(e);return}let l=(r=t==null?void 0:t.atIndex)!=null?r:0;e.suggestionIndex=l<0?s.length-1:l%s.length;let u=s[e.suggestionIndex];if(u!==a){let c=i[i.length-1];c.parent.addChildrenAfter([...u.slice(a.length-u.length)].map(d=>new Et(d,{isSuggestion:!0})),c),no(e,{interactive:!0})}xk(e,s)}function gb(e){let[t,r]=b3(e,{before:e.position});if(t===void 0||r===void 0)return!1;let n=!1;return e.getAtoms([t,r]).forEach(i=>{i.isSuggestion&&(i.isSuggestion=!1,n=!0)}),n}function la(e,t="accept",r){var n,i;ua(e);let o=Zh(e.model);if(!o)return!1;if(t==="accept-suggestion"||t==="accept-all"){let l=Iu(e.model).filter(u=>u.isSuggestion);if(l.length!==0){for(let u of l)u.isSuggestion=!1;e.model.position=e.model.offsetOf(l[l.length-1])}if(t==="accept-suggestion")return l.length!==0}let a=Iu(e.model).filter(l=>!l.isSuggestion).map(l=>l.value).join(""),s=o.leftSibling;return o.parent.removeChild(o),e.model.position=e.model.offsetOf(s),e.switchMode((n=r==null?void 0:r.mode)!=null?n:"math"),t==="reject"||(Ze.insert(e.model,a,{selectionMode:(i=r==null?void 0:r.selectItem)!=null&&i?"item":"placeholder",format:"latex",mode:"math"}),e.snapshot(),e.model.announce("replacement"),e.switchMode("math")),!0}function _c(e){var t;let r=document.getElementById(e);return r?r.dataset.refcount=Number(Number.parseInt((t=r.dataset.refcount)!=null?t:"0")+1).toString():(r=document.createElement("div"),r.setAttribute("aria-hidden","true"),r.dataset.refcount="1",r.id=e,document.body.append(r)),r}function Qh(e){var t;let r=document.getElementById(e);if(!r)return;let n=Number.parseInt((t=r.getAttribute("data-refcount"))!=null?t:"0");n<=1?r.remove():r.dataset.refcount=Number(n-1).toString()}function _k(e,t){let r=new Ie({from:e.context}),n=new q({mode:"math",type:"root",body:Mr(t,{context:r})}),i=cc(Ts(new Z(n.render(r),{classes:"ML__base"}),r));return dc(i,{classes:"ML__latex"}).toMarkup()}function xk(e,t){var r;if(t.length===0){ua(e);return}let n="";for(let[o,a]of t.entries()){let s=a,l=_k(e,a),u=gk(e.keybindings,s).join("<br>");n+=`<li role="button" data-command="${s}" ${o===e.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${s}</span><span class="ML__popover__command">${l}</span>`,u&&(n+=`<span class="ML__popover__keybinding">${u}</span>`),n+="</li>"}let i=wk(e,`<ul>${n}</ul>`);q0()&&((r=i.querySelector(".ML__popover__current"))==null||r.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout(()=>{var o;i&&!q0()&&(i.classList.add("is-visible"),xc(e),(o=i.querySelector(".ML__popover__current"))==null||o.scrollIntoView({block:"nearest",inline:"nearest"}))},32)}function q0(){let e=document.getElementById("mathlive-suggestion-popover");return e?e.classList.contains("is-visible"):!1}function xc(e,t){var r,n,i;if(!e.element||e.element.mathfield!==e||!q0())return;if(((r=e.model.at(e.model.position))==null?void 0:r.type)!=="latex"){ua(e);return}if(t!=null&&t.deferred){setTimeout(()=>xc(e),32);return}let o=uu(e.field);if(!o)return;let a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerWidth-document.documentElement.clientWidth,u=window.innerHeight-document.documentElement.clientHeight,c=(i=(n=window.mathVirtualKeyboard)==null?void 0:n.boundingRect.height)!=null?i:0,d=document.getElementById("mathlive-suggestion-popover");o.x+d.offsetWidth/2>s-l?d.style.left=`${s-d.offsetWidth-l}px`:o.x-d.offsetWidth/2<0?d.style.left="0":d.style.left=`${o.x-d.offsetWidth/2}px`;let p=o.y-o.height;a-u-c-o.y<p?(d.classList.add("ML__popover--reverse-direction"),d.classList.remove("top-tip"),d.classList.add("bottom-tip"),d.style.top=`${o.y-o.height-d.offsetHeight-15}px`):(d.classList.remove("ML__popover--reverse-direction"),d.classList.add("top-tip"),d.classList.remove("bottom-tip"),d.style.top=`${o.y+15}px`)}function ua(e){e.suggestionIndex=0;let t=document.getElementById("mathlive-suggestion-popover");t&&(t.classList.remove("is-visible"),t.innerHTML="")}function wk(e,t){let r=document.getElementById("mathlive-suggestion-popover");return r||(r=_c("mathlive-suggestion-popover"),ui("suggestion-popover"),ui("core"),r.addEventListener("pointerdown",n=>n.preventDefault()),r.addEventListener("click",n=>{let i=n.target;for(;i&&!i.dataset.command;)i=i.parentElement;i&&(la(e,"reject"),Ze.insert(e.model,i.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),e.dirty=!0,e.focus())})),r.innerHTML=globalThis.MathfieldElement.createHTML(t),r}function kk(){document.getElementById("mathlive-suggestion-popover")&&(Qh("mathlive-suggestion-popover"),ci("suggestion-popover"),ci("core"))}function Mk(){let e=String(new Error().stack).replace(/^Error.*\n/,"").split(`
`);if(e.length===0)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${new Error().stack}").`),"";let t=e[1],r=t.match(/http.*\.ts[\?:]/);return r&&(t=e[2]),r=t.match(/(https?:.*):[0-9]+:[0-9]+/),r||(r=t.match(/at (.*(\.ts))[\?:]/),r||(r=t.match(/at (.*(\.mjs|\.js))[\?:]/))),r?r[1]:(console.error(e),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${t}").`),"")}var Hl=null,bb,yb,Pd=((yb=(bb=globalThis==null?void 0:globalThis.document)==null?void 0:bb.currentScript)==null?void 0:yb.src)||Mk();async function y3(e){if(/^(?:[a-z+]+:)?\/\//i.test(e)){try{return new URL(e).href}catch{}if(e.startsWith("//"))try{return new URL(`${window.location.protocol}${e}`).href}catch{}return e}if(Hl===null)try{let t=await fetch(Pd,{method:"HEAD"});t.status===200&&(Hl=t.url)}catch{console.error(`Invalid URL "${e}" (relative to "${Pd}")`)}return new URL(e,Hl??Pd).href}function Sk(e,t,r={}){return new FontFace(e,`url(${t}.woff2) format('woff2')`,r)}var dr="not-loaded";async function Ck(){return dr="not-loaded",ep()}async function ep(){var e;if(dr==="not-loaded"){if(dr="loading",(e=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))!=null?e:!1){dr="ready";return}if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let t=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],r=Array.from(document.fonts).map(o=>o.family);if(t.every(o=>r.includes(o))){dr="ready";return}if(!globalThis.MathfieldElement.fontsDirectory){dr="not-loaded";return}let n=await y3(globalThis.MathfieldElement.fontsDirectory);if(!n){document.body.classList.add("ML__fonts-did-not-load"),dr="error";return}let i=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(o=>Sk(o[0].replace(/-[a-zA-Z]+$/,""),`${n}/${o[0]}`,o[1]));try{(await Promise.all(i.map(o=>{try{return o.load()}catch{}}))).forEach(o=>document.fonts.add(o)),dr="ready";return}catch(o){console.error(`MathLive 0.101.0: The math fonts could not be loaded from "${n}"`,{cause:o}),document.body.classList.add("ML__fonts-did-not-load")}dr="error"}}}function Ek(e,t=0){let r=3735928559^t,n=1103547991^t;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);r=Math.imul(r^o,2654435761),n=Math.imul(n^o,1597334677)}return r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)}function dt(e,t){!e||e.dirty||(e.resizeObserver.unobserve(e.field),e.dirty=!0,requestAnimationFrame(()=>{Qn(e)&&e.dirty&&(e.atomBoundsCache=new Map,no(e,t),e.atomBoundsCache=void 0,e.resizeObserver.observe(e.field),e.resizeObserverStarted=!0)}))}function Lk(e,t){var r;t=t??{};let n=new Ie({from:B(M({},e.context),{atomIdsSettings:{seed:t.forHighlighting?Ek(q.serialize([e.model.root],{expandMacro:!1,defaultMode:e.options.defaultMode})):"random",groupNumbers:(r=t.forHighlighting)!=null?r:!1},letterShapeStyle:e.options.letterShapeStyle}),mathstyle:e.options.defaultMode==="inline-math"?"textstyle":"displaystyle"}),i=e.model.root.render(n);return dc(Ts(i,n),{classes:e.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}function v3(e,t){let{model:r}=e;r.root.caret=void 0,r.root.isSelected=!1,r.root.containsCaret=!0;for(let n of r.atoms)n.caret=void 0,n.isSelected=!1,n.containsCaret=!1;if(r.selectionIsCollapsed){let n=r.at(r.position);n.caret=e.model.mode;let i=n.parent;for(;i;)i.containsCaret=!0,i=i.parent}else{let n=r.getAtoms(r.selection,{includeChildren:!0});for(let i of n)i.isSelected=!0}return Lk(e,t).toMarkup()}function no(e,t){if(!Qn(e))return;t!=null||(t={});let r=e.element.querySelector("[part=virtual-keyboard-toggle]");r&&(r.style.display=e.hasEditableContent?"":"none");let n=e.field;if(!n)return;let i=e.isSelectionEditable&&e.hasFocus(),o=n.classList.contains("ML__focused");o&&!i?n.classList.remove("ML__focused"):!o&&i&&n.classList.add("ML__focused");let a=v3(e,t),s=e.element.querySelector("[part=menu-toggle]");if(s){let l=!1;(e.disabled||e.readOnly&&!e.hasEditableContent||e.userSelect==="none")&&(l=!0),!l&&n.offsetWidth<50&&(l=!0),s.style.display=l?"none":""}if(e.model.atoms.length<=1){let l=e.options.contentPlaceholder;l&&(a+=`<span part=placeholder class="ML__content-placeholder">${kt(l)}</span>`)}n.innerHTML=globalThis.MathfieldElement.createHTML(a),Nu(e,t.interactive),e.dirty=!1}function Nu(e,t){let r=e.field;if(!r)return;for(let a of r.querySelectorAll(".ML__selection, .ML__contains-highlight"))a.remove();if(!(t!=null&&t)&&dr!=="error"&&dr!=="ready"){setTimeout(()=>{dr==="ready"?Nu(e):setTimeout(()=>Nu(e),128)},32);return}let n=e.model,i,o=()=>{if(i!==void 0)return i;let a=r.offsetWidth,s=r.getBoundingClientRect().width;return i=Math.floor(s)/a,isNaN(i)&&(i=1),i};if(n.selectionIsCollapsed){xc(e,{deferred:!0});let a=n.at(n.position);for(;a&&a.type!=="prompt"&&!(a.containsCaret&&a.displayContainsHighlight);)a=a.parent;if(a!=null&&a.containsCaret&&a.displayContainsHighlight){let s=o(),l=g2(e,Ls(e,a),s);if(l){l.left/=s,l.right/=s,l.top/=s,l.bottom/=s;let u=document.createElement("div");u.classList.add("ML__contains-highlight"),u.style.position="absolute",u.style.left=`${l.left+1}px`,u.style.top=`${Math.ceil(l.top)}px`,u.style.width=`${Math.ceil(l.right-l.left)}px`,u.style.height=`${Math.ceil(l.bottom-l.top)}px`,r.insertBefore(u,r.childNodes[0])}}return}for(let a of Ak(y2(e,{excludeAtomsWithBackground:!0}))){let s=o();a.left/=s,a.right/=s,a.top/=s,a.bottom/=s;let l=document.createElement("div");l.classList.add("ML__selection"),l.style.position="absolute",l.style.left=`${a.left}px`,l.style.top=`${a.top}px`,l.style.width=`${Math.ceil(a.right-a.left)}px`,l.style.height=`${Math.ceil(a.bottom-a.top-1)}px`,r.insertBefore(l,r.childNodes[0])}}function Ak(e){let t=[];for(let r of e){let n=!1;for(let i of t)if(r.left===i.left&&r.right===i.right&&r.top===i.top&&r.bottom===i.bottom){n=!0;break}n||t.push(r)}e=t,t=[];for(let r of e){let n=0;for(let i of e)if(r.left>=i.left&&r.right<=i.right&&r.top>=i.top&&r.bottom<=i.bottom&&(n+=1,n>1))break;n===1&&t.push(r)}return t}function _3(e){if(!e)return;let t=e.model,r=t.selection,n=q.serialize([t.root],{expandMacro:!1,defaultMode:e.options.defaultMode});Ze.insert(t,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let i=t.silenceNotifications;t.silenceNotifications=!0,t.selection=r,t.silenceNotifications=i,dt(e)}var x3=3,Qr;function Qt(e,t){t=M({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},t??{}),Qr||(Qr={});for(let r of Object.keys(e))Qr[r],Qr[r]=B(M({},t),{fn:e[r]})}function tp(e){let t;if(Array.isArray(e)){if(e[0]==="performWithFeedback")return tp(e[1]);t=e[0]}else t=e;return Qr[t]}function Go(e){var t;return(t=tp(e))==null?void 0:t.target}function Dk(e,t){var r,n;if(t=ks(t),!t)return!1;let i,o=[],a=!1,s=!1;Pt(t)?(i=t[0],o=t.slice(1)):i=t;let l=Qr[i],u=l==null?void 0:l.target;if(u==="model"){if(!e.isSelectionEditable&&l!=null&&l.changeContent)return e.model.announce("plonk"),!1;/^(delete|add)/.test(i)&&(i!=="deleteBackward"&&e.flushInlineShortcutBuffer(),e.snapshot(i)),/^complete/.test(i)||vc(e),Qr[i].fn(e.model,...o),Fs(e),s=!0,a=!0}else if(u==="virtual-keyboard")s=(n=(r=window.mathVirtualKeyboard)==null?void 0:r.executeCommand(t))!=null?n:!1,a=!0;else if(Qr[i]){if(!e.isSelectionEditable&&l!=null&&l.changeContent)return e.model.announce("plonk"),!1;/^(undo|redo)/.test(i)&&e.flushInlineShortcutBuffer(),s=Qr[i].fn(e,...o),a=!0}else throw new Error(`Unknown command "${i}"`);return u!=="virtual-keyboard"&&(!e.model.selectionIsCollapsed||l!=null&&l.changeSelection&&i!=="deleteBackward")&&(e.flushInlineShortcutBuffer(),l!=null&&l.changeContent||e.stopCoalescingUndo(),e.defaultStyle={}),s&&dt(e),a}function Bk(e,t){var r;if(!e)return!1;e.focus(),sp.keypressVibration&&G4()&&navigator.vibrate(x3);let n=tp(t);globalThis.MathfieldElement.playSound((r=n==null?void 0:n.audioFeedback)!=null?r:"keypress");let i=e.executeCommand(t);return e.scrollIntoView(),i}Qt({performWithFeedback:(e,t)=>Bk(e,t)});function Tk(e){return Fs(e,{atIndex:e.suggestionIndex+1}),!1}function Fk(e){return Fs(e,{atIndex:e.suggestionIndex-1}),!1}Qt({complete:la},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0});Qt({dispatchEvent:(e,t,r)=>{var n,i;return(i=(n=e.host)==null?void 0:n.dispatchEvent(new CustomEvent(t,{detail:r})))!=null?i:!1}},{target:"mathfield"});Qt({nextSuggestion:Tk,previousSuggestion:Fk},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});function ks(e){if(!e)return;if(Pt(e)&&e.length>0){let n=e[0];return n.replace(/-\w/g,i=>i[1].toUpperCase()),n==="performWithFeedback"&&e.length===2?[n,ks(e[1])]:[n,...e.slice(1)]}if(typeof e!="string")return;let t=e.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(t){let n=t[1];n.replace(/-\w/g,o=>o[1].toUpperCase());let i=t[2].split(",").map(o=>o.trim());return[n,...i.map(o=>{if(/"[^"]*"/.test(o)||/'[^']*'/.test(o))return o.slice(1,-1);if(/^true$/.test(o))return!0;if(/^false$/.test(o))return!1;if(/^[-]?\d+$/.test(o))return parseInt(o,10);if(/^\{.*\}$/.test(o))try{return JSON.parse(o)}catch{return console.error("Invalid argument:",o),o}return ks(o)})]}let r=e;return r.replace(/-\w/g,n=>n[1].toUpperCase()),r}var $u="mathlive#virtual-keyboard-message";function rp(e){var t;return e.type!=="message"?!1:((t=e.data)==null?void 0:t.type)===$u}var Ok=class w3{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new w3),this._singleton}getKeycap(t){}setKeycap(t,r){this.sendMessage("update-setting",{setKeycap:{keycap:t,value:r}})}set alphabeticLayout(t){this.sendMessage("update-setting",{alphabeticLayout:t})}set layouts(t){this.sendMessage("update-setting",{layouts:t})}get normalizedLayouts(){return[]}set editToolbar(t){this.sendMessage("update-setting",{editToolbar:t})}set container(t){throw new Error("Container inside an iframe cannot be changed")}show(t){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",t),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(t){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",t),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(t){t?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(t){return this.sendMessage("execute-command",{command:t}),!0}updateToolbar(t){this.sendMessage("update-toolbar",t)}update(t){this.sendMessage("update-setting",t)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(t,r,n){this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].has(r)||this.listeners[t].add(r)}dispatchEvent(t){return!this.listeners[t.type]||this.listeners[t.type].size===0?!0:(this.listeners[t.type].forEach(r=>{typeof r=="function"?r(t):r==null||r.handleEvent(t)}),!t.defaultPrevented)}removeEventListener(t,r,n){this.listeners[t]&&this.listeners[t].delete(r)}handleEvent(t){if(rp(t)){if(!jh(t.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");this.handleMessage(t.data)}}handleMessage(t){let{action:r}=t;if(r==="execute-command"){let{command:n}=t;Go(n)==="virtual-keyboard"&&this.executeCommand(n);return}if(r==="synchronize-proxy"){this._boundingRect=t.boundingRect,this._isShifted=t.isShifted;return}if(r==="geometry-changed"){this._boundingRect=t.boundingRect,this.dispatchEvent(new Event("geometrychange"));return}}sendMessage(t,r={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(M({type:$u,action:t},r),this.targetOrigin)}},vb={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"zeta",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\arsinh"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rarr",shift:"\\rArr",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\arcosh"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\artanh"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\arctg"},{class:"small",latex:"\\tg"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:`
          .minimalist-backdrop {
            display: flex;
            justify-content: center;
          }          
          .minimalist-container {
            --keycap-height: 40px;
            --keycap-max-width: 53px;
            --keycap-small-font-size: 12px;
            background: var(--keyboard-background);
            padding: 20px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            border: 1px solid var(--keyboard-border);
            box-shadow: 0 0 32px rgb(0 0 0 / 30%);
          }        
        `,backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},du={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]},is;function k3(e,t){var r,n,i,o,a;let s=yi.singleton;if(!s)return;let l=$o(e),u="";if(window.mathVirtualKeyboard.isShifted){let E=(r=s.getKeycap(l==null?void 0:l.id))==null?void 0:r.shift;typeof E=="object"&&"variants"in E&&(u=(n=E.variants)!=null?n:"")}else u=(o=(i=s.getKeycap(l==null?void 0:l.id))==null?void 0:i.variants)!=null?o:"";if(typeof u=="string"&&!H0(u)||Array.isArray(u)&&u.length===0){t==null||t();return}let c={},d="";for(let E of Ik(u)){let C=np(E),v=Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);c[v]=C;let[k,I]=wc(C);d+=`<div id=${v} class="item ${I}">${k}</div>`}let p=document.createElement("div");p.setAttribute("aria-hidden","true"),p.className="MLK__variant-panel",p.style.height="auto";let m=Object.keys(c).length,g=5;m===1?g=1:m===2||m===4?g=2:m===3||m===5||m===6?g=3:m>=7&&m<14&&(g=4),p.style.width=`calc(var(--variant-keycap-length) * ${g} + 12px)`,p.innerHTML=sp.createHTML(d),Fr.open({root:(a=s==null?void 0:s.container)==null?void 0:a.querySelector(".ML__keyboard"),child:p}),is=new AbortController;let{signal:y}=is,L=e==null?void 0:e.getBoundingClientRect();if(L){L.top-p.clientHeight<0&&(p.style.width="auto",m<=6?p.style.height="56px":m<=12?p.style.height="108px":m<=18?p.style.height="205px":p.classList.add("compact"));let E=Math.max(0,Math.min(window.innerWidth-p.offsetWidth,(L.left+L.right-p.offsetWidth)/2)),C=L.top-p.clientHeight+5;p.style.left=`${E}px`,p.style.top=`${C}px`,p.classList.add("is-visible"),requestAnimationFrame(()=>{p.addEventListener("pointerup",v=>{let k=$o(v.target);!(k!=null&&k.id)||!c[k.id]||(V0(c[k.id]),os(),t==null||t(),v.preventDefault())},{capture:!0,passive:!1,signal:y}),p.addEventListener("pointerenter",v=>{let k=$o(v.target);!(k!=null&&k.id)||!c[k.id]||k.classList.add("is-active")},{capture:!0,signal:y}),p.addEventListener("pointerleave",v=>{let k=$o(v.target);!(k!=null&&k.id)||!c[k.id]||k.classList.remove("is-active")},{capture:!0,signal:y}),window.addEventListener("pointercancel",()=>{os(),t==null||t()},{signal:y}),window.addEventListener("pointerup",()=>{os(),t==null||t()},{signal:y})})}}function os(){is==null||is.abort(),is=null,Fr.state==="open"&&Fr.close()}function Pk(e){if(e==="foreground-color"){let t=[];for(let r of Object.keys(ro))t.push({class:"swatch-button",label:'<span style="border: 3px solid '+ro[r]+'"></span>',command:["applyStyle",{color:r}]});return t}if(e==="background-color"){let t=[];for(let r of Object.keys(to))t.push({class:"swatch-button",label:'<span style="background:'+to[r]+'"></span>',command:["applyStyle",{backgroundColor:r}]});return t}}function H0(e){return du[e]!==void 0}function Ik(e){var t;return typeof e!="string"?e:(du[e]||(du[e]=(t=Pk(e))!=null?t:[]),du[e])}function Nk(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r} !important`).join(";")}function $k(e){return Object.keys(e).map(t=>`${t} {${Nk(e[t])}}`).join("")}function za(e){if(!e)return"";let t=new Ie,r=new q({mode:"math",type:"root",body:Mr(e,{context:t,args:i=>i==="@"?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})}),n=cc(Ts(new Z(r.render(t),{classes:"ML__base"}),t));return dc(n,{classes:"ML__latex"}).toMarkup()}function as(e){if(Array.isArray(e))return e.map(r=>as(r)).flat();let t=typeof e=="string"?{markup:e}:e;return"rows"in t&&Array.isArray(t.rows)&&(t.rows=t.rows.map(r=>r.map(n=>np(n)))),t.id!=null||(t.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36)),[t]}function Rk(){var e,t;let r=window.mathVirtualKeyboard.alphabeticLayout;if(r==="auto"){let a=ws();a&&(r=a.virtualLayout),(!r||r==="auto")&&(r=(e={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Se.locale.slice(0,2)])!=null?e:"qwerty")}let n={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},i=(t=n[r])!=null?t:n.qwerty,o=r==="azerty"?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let a of i){let s=[];for(let l of a)/[a-z]/.test(l)?s.push({label:l,class:"hide-shift",shift:{label:l.toUpperCase(),variants:H0(l.toUpperCase())?l.toUpperCase():void 0},variants:H0(l)?l:void 0}):l==="~"?r!=="dvorak"?s.push("[backspace]"):s.push({label:"[backspace]",width:1}):l==="^"?s.push("[shift]"):l===" "&&s.push("[separator-5]");o.push(s)}return o.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:as({rows:o})}}function M3(e){if(e==="alphabetic")return Rk();if(typeof e=="string")return vb[e],M3(vb[e]);let t;if("rows"in e&&Array.isArray(e.rows)){let i=e,o=Su(i,["rows"]);t=B(M({},o),{layers:as({rows:e.rows})})}else if("markup"in e&&typeof e.markup=="string"){let i=e,o=Su(i,["markup"]);t=B(M({},o),{layers:as(e.markup)})}else t=M({},e),"layers"in e?t.layers=as(e.layers):console.error('MathLive 0.101.0: provide either a "rows", "markup" or "layers" property');let r=!1,n=!1;for(let i of t.layers)if(i.rows)for(let o of i.rows.flat()){Xo(o)&&(r=!0);let a=o.command;typeof a=="string"&&["undo","redo","cut","copy","paste"].includes(a)&&(n=!0)}return(!("displayShiftedKeycaps"in e)||e.displayShiftedKeycaps===void 0)&&(t.displayShiftedKeycaps=r),(!("displayEditToolbar"in e)||e.displayEditToolbar===void 0)&&(t.displayEditToolbar=!n),t}function zk(e,t){var r,n;let i='<div class="left">';if(e.normalizedLayouts.length>1)for(let[o,a]of e.normalizedLayouts.entries()){let s=a,l=[o===t?"selected":"layer-switch"];s.tooltip&&l.push("MLK__tooltip"),s.labelClass&&l.push(...s.labelClass.split(" ")),i+=`<div class="${l.join(" ")}"`,s.tooltip&&(i+=" data-tooltip='"+((r=ve(s.tooltip))!=null?r:s.tooltip)+"' "),o!==t&&(i+=`data-layer="${s.layers[0].id}"`),i+=`>${(n=s.label)!=null?n:"untitled"}</div>`}return i+="</div>",i}function Kk(e,t){let r="";if(e.editToolbar==="none")return"";let n=[];t.selectionIsCollapsed?n.push("undo","redo","pasteFromClipboard"):n.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let i={undo:`<div class='action ${t.canUndo===!1?"disabled":""}'
          data-command='"undo"'
          data-tooltip='${ve("tooltip.undo")}'>
          <svg><use xlink:href='#svg-undo' /></svg>
      </div>`,redo:`<div class='action ${t.canRedo===!1?"disabled":""}'
          data-command='"redo"'
          data-tooltip='${ve("tooltip.redo")}'>
          <svg><use xlink:href='#svg-redo' /></svg>
      </div>`,cutToClipboard:`
        <div class='action'
            data-command='"cutToClipboard"'
            data-tooltip='${ve("tooltip.cut to clipboard")}'>
            <svg><use xlink:href='#svg-cut' /></svg>
        </div>
    `,copyToClipboard:`
        <div class='action'
            data-command='"copyToClipboard"'
            data-tooltip='${ve("tooltip.copy to clipboard")}'>
            <svg><use xlink:href='#svg-copy' /></svg>
        </div>
    `,pasteFromClipboard:`
        <div class='action'
            data-command='"pasteFromClipboard"'
            data-tooltip='${ve("tooltip.paste from clipboard")}'>
            <svg><use xlink:href='#svg-paste' /></svg>
        </div>
    `};return r+=n.map(o=>i[o]).join(""),r}function qk(e){for(let t of e)Hk(t)}function Hk(e){let t=yi.singleton;if(!t)return;let r={};if(!e.id){if(e.hasAttribute("data-label")&&(r.label=e.dataset.label),e.hasAttribute("data-latex")&&(r.latex=e.dataset.latex),e.hasAttribute("data-key")&&(r.key=e.dataset.key),e.hasAttribute("data-insert")&&(r.insert=e.dataset.insert),e.hasAttribute("data-variants")&&(r.variants=e.dataset.variants),e.hasAttribute("data-aside")&&(r.aside=e.dataset.aside),e.className&&(r.class=e.className),!r.label&&!r.latex&&!r.key&&!r.insert&&(r.latex=e.innerText,r.label=e.innerHTML),e.hasAttribute("data-command"))try{r.command=JSON.parse(e.dataset.command)}catch{}e.id=t.registerKeycap(r)}if(!e.innerHTML){let[n,i]=wc(r);e.innerHTML=globalThis.MathfieldElement.createHTML(n)}}function Vk(){ui("virtual-keyboard"),ui("core"),ep()}function Uk(){ci("core"),ci("virtual-keyboard")}var Wk=`<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

<symbol id="svg-delete-backward" viewBox="0 0 576 512">
  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>
</symbol>

<symbol id="svg-shift" viewBox="0 0 384 512">
  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>
</symbol>

<symbol id="svg-commit" viewBox="0 0 512 512">
  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>
</symbol>


<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>

<symbol id="svg-command" viewBox="0 0 640 512">
  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>
</symbol>

<symbol id="svg-undo" viewBox="0 0 512 512">
  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>
</symbol>
<symbol id="svg-redo" viewBox="0 0 512 512">
  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>
</symbol>
<symbol id="svg-arrow-left" viewBox="0 0 320 512">
  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>
</symbol>
<symbol id="svg-arrow-right" viewBox="0 0 320 512">
  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>
</symbol>
<symbol id="svg-tab" viewBox="0 0 448 512">
  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>
</symbol>
<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>
<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>
<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>
</symbol>
<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>
</symbol>
<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>
</symbol>
<symbol id="svg-trash" viewBox="0 0 448 512">
  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>
</symbol>
<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>
</svg>`;function jk(e){e.resetKeycapRegistry(),Vk();let t=document.createElement("div");t.className="ML__keyboard";let r=document.createElement("div");r.className="MLK__plate",r.innerHTML=globalThis.MathfieldElement.createHTML(Wk+e.normalizedLayouts.map((a,s)=>Gk(e,a,s)).join(""));let n=document.createElement("div");n.className="MLK__backdrop",n.appendChild(r),t.appendChild(n),t.addEventListener("pointerdown",Jk,{passive:!1});let i=t.querySelectorAll(".ML__edit-toolbar");if(i)for(let a of i)a.addEventListener("click",s=>{var l,u;let c=s.target,d="";for(;c&&!d;)d=(l=c==null?void 0:c.getAttribute("data-command"))!=null?l:"",c=(u=c==null?void 0:c.parentElement)!=null?u:null;d&&e.executeCommand(JSON.parse(d))});qk(t.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let o=t.querySelectorAll(".MLK__layer");o.length>0;for(let a of o)a.addEventListener("pointerdown",s=>s.preventDefault());return e.currentLayer=e.latentLayer,t}function Gk(e,t,r){let n=[];if(!("layers"in t))return"";for(let i of t.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${i.id}">`),(e.normalizedLayouts.length>1||t.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(zk(e,r)),t.displayEditToolbar&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(Xk(e,i)),n.push("</div>");return n.join("")}function Xk(e,t){if(typeof t=="string")return t;let r="";if(typeof t.style=="string"?r+=`<style>${t.style}</style>`:typeof t.style=="object"&&(r+=`<style>${$k(t.style)}</style>`),t.backdrop&&(r+=`<div class='${t.backdrop}'>`),t.container&&(r+=`<div class='${t.container}'>`),t.rows){r+="<div class=MLK__rows>";for(let n of t.rows){r+='<div dir="ltr" class=MLK__row>';for(let i of n)if(i){let o=e.registerKeycap(i),[a,s]=wc(i);/(^|\s)separator/.test(s)?r+=`<div class="${s}"`:r+=`<div tabindex="-1" id="${o}" class="${s}"`,i.tooltip&&(r+=` data-tooltip="${i.tooltip}"`),r+=`>${a}</div>`}r+="</div>"}r+="</div>"}else t.markup&&(r+=t.markup);return t.container&&(r+="</div>"),t.backdrop&&(r+="</div>"),r}function wc(e,t={shifted:!1}){var r,n,i,o,a,s,l;let u="",c=(r=e.class)!=null?r:"";if(t.shifted&&Xo(e)&&(c+=" is-active"),t.shifted&&"shift"in e)typeof e.shift=="string"?u=za(e.shift):typeof e.shift=="object"&&(u=e.shift.label?e.shift.label:(n=za(e.shift.latex||e.shift.insert||"")||e.shift.key)!=null?n:""),typeof e.shift=="object"&&(c=(o=(i=e.shift.class)!=null?i:e.class)!=null?o:"");else{if(u=e.label?e.label:(a=za(e.latex||e.insert||"")||e.key)!=null?a:"",e.shift){let d;typeof e.shift=="string"?d=za(e.shift):e.shift.label?d=e.shift.label:d=(s=za(e.shift.latex||e.shift.insert||"")||e.shift.key)!=null?s:"",u+=`<span class="MLK__shift">${d}</span>`}e.aside&&(u+=`<aside>${e.aside}</aside>`)}return e.layer&&!/layer-switch/.test(c)&&(c+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(c)||(c+=" MLK__keycap"),!/\bw[0-9]+\b/.test(c)&&e.width&&(c+=(l={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[e.width])!=null?l:""),[u,c||"MLK__keycap"]}var gn={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function np(e){var t;if(typeof e=="string"){if(e==="[.]"&&globalThis.MathfieldElement.decimalSeparator===","&&(e="[,]"),!gn[e])return{latex:e};e={label:e}}let r;return"label"in e&&e.label&&gn[e.label]&&(r=B(M(M({},gn[e.label]),e),{label:gn[e.label].label})),"key"in e&&e.key&&gn[e.key]&&(r=B(M(M({},gn[e.key]),e),{key:gn[e.key].key})),r?(r.command==="insertDecimalSeparator"&&(r.label=(t=globalThis.MathfieldElement.decimalSeparator)!=null?t:"."),(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.tooltip===void 0||r.tooltip===null||r.tooltip===!1)&&delete r.tooltip,(r.aside===void 0||r.aside===null||r.aside===!1)&&delete r.aside,(r.variants===void 0||r.variants===null||r.variants===!1)&&delete r.variants,(r.shift===void 0||r.shift===null||r.shift===!1)&&delete r.shift,r):e}var ss;function Jk(e){var t;if(e.button!==0)return;let r=yi.singleton;if(!r)return;let n=e.target;for(;n&&!n.getAttribute("data-layer");)n=n.parentElement;if(n){r.currentLayer=(t=n.getAttribute("data-layer"))!=null?t:"",e.preventDefault();return}let i=$o(e.target);if(!(i!=null&&i.id))return;let o=r.getKeycap(i.id);if(!o)return;e.type;let a=new AbortController,s=a.signal;i.classList.add("is-pressed"),i.addEventListener("pointerenter",Vl(a),{capture:!0,signal:s}),i.addEventListener("pointerleave",Vl(a),{capture:!0,signal:s}),i.addEventListener("pointercancel",Vl(a),{signal:s}),i.addEventListener("pointerup",Vl(a),{signal:s}),Xo(o)&&(i.classList.add("is-active"),r.shiftPressCount++),o.variants&&(ss&&clearTimeout(ss),ss=setTimeout(()=>{i.classList.contains("is-pressed")&&(i.classList.remove("is-pressed"),i.classList.add("is-active"),e.target&&"releasePointerCapture"in e.target&&e.target.releasePointerCapture(e.pointerId),k3(i,()=>{a.abort(),i==null||i.classList.remove("is-active")}))},300)),e.preventDefault()}function Vl(e){return t=>{let r=$o(t.target);if(!(r!=null&&r.id))return;let n=yi.singleton;if(!n)return;let i=n.getKeycap(r.id);if(i){if(t.type==="pointerenter"&&t.target===r&&t.isPrimary&&r.classList.add("is-pressed"),t.type==="pointercancel"){r.classList.remove("is-pressed"),Xo(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted)),e.abort();return}if(t.type==="pointerleave"&&t.target===r){r.classList.remove("is-pressed"),Xo(i)&&(n.shiftPressCount--,r.classList.toggle("is-active",n.isShifted));return}if(t.type==="pointerup"){ss&&clearTimeout(ss),Xo(i)?r.classList.toggle("is-active",n.isShifted):r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),n.isShifted&&i.shift?typeof i.shift=="string"?n.executeCommand(["insert",i.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):V0(i.shift):V0(i),n.shiftPressCount===1&&!t.shiftKey&&(n.shiftPressCount=0)),e.abort(),t.preventDefault();return}}}}function V0(e){var t;let r=e.command;!r&&e.insert&&(r=["insert",e.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!r&&e.key&&(r=["typedText",e.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!r&&e.latex&&(r=["insert",e.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),r||(r=["typedText",e.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),(t=yi.singleton)==null||t.executeCommand(r)}function Yk(e){if(e.nodeType!==1)return!1;let t=e.classList;return t.contains("MLK__keycap")||t.contains("shift")||t.contains("action")||t.contains("fnbutton")||t.contains("bigfnbutton")}function $o(e){if(!e)return;let t=e;for(;t&&!Yk(t);)t=t.parentElement;return t??void 0}function Xo(e){return!!e.class&&/(^|\s)shift($|\s)/.test(e.class)}var yi=class S3{constructor(){this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0;var t;this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver(r=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})}),this.listeners={};try{(t=window.top)==null||t.addEventListener("message",this)}catch{window.addEventListener("message",this)}document.addEventListener("focusin",r=>{let n=r.target;n!=null&&n.isConnected&&setTimeout(()=>{let i=_b();i&&!i.readOnly&&i.mathVirtualKeyboardPolicy==="auto"&&j4()&&this.show({animate:!0})},300)}),document.addEventListener("focusout",r=>{r.target instanceof lo&&r.target.mathVirtualKeyboardPolicy!=="manual"&&setTimeout(()=>{_b()||this.hide()},300)})}get currentLayer(){var t,r,n;return(n=(r=(t=this._element)==null?void 0:t.querySelector(".MLK__layer.is-visible"))==null?void 0:r.id)!=null?n:""}set currentLayer(t){var r;if(!this._element){this.latentLayer=t;return}let n=t?this._element.querySelector(`#${t}.MLK__layer`):null;n||(n=this._element.querySelector(".MLK__layer")),n&&((r=this._element.querySelector(".MLK__layer.is-visible"))==null||r.classList.remove("is-visible"),n.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(t){var r;this._shiftPressCount=t>2||t<0?0:t,(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(t){let r="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36);return this.keycapRegistry[r]=t,r}setKeycap(t,r){gn[t]=np(r),this.rebuild()}getKeycap(t){var r;return t?(r=gn[t])!=null?r:this.keycapRegistry[t]:void 0}getLayer(t){let r=this.normalizedLayouts;for(let n of r)for(let i of n.layers)if(i.id===t)return i}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(t){this._alphabeticLayout=t,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(t){this.updateNormalizedLayouts(t),this.rebuild()}updateNormalizedLayouts(t){let r=Array.isArray(t)?[...t]:[t],n=r.findIndex(i=>i==="default");n>=0&&r.splice(n,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(r),this._normalizedLayouts=r.map(i=>M3(i))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(t){this._editToolbar=t,this.rebuild()}get container(){return this._container===void 0?window.document.body:this._container}set container(t){this._container=t,this.rebuild()}static get singleton(){if(this._singleton===void 0)try{this._singleton=new S3}catch{this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(t,r,n){this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].has(r)||this.listeners[t].add(r)}dispatchEvent(t){return!this.listeners[t.type]||this.listeners[t.type].size===0?!0:(this.listeners[t.type].forEach(r=>{typeof r=="function"?r(t):r==null||r.handleEvent(t)}),!t.defaultPrevented)}removeEventListener(t,r,n){this.listeners[t]&&this.listeners[t].delete(r)}get element(){return this._element}set element(t){var r;this._element!==t&&((r=this._element)==null||r.remove(),this._element=t)}get visible(){return this._visible}set visible(t){t?this.show():this.hide()}get boundingRect(){var t;if(!this._visible)return new DOMRect;let r=(t=this._element)==null?void 0:t.getElementsByClassName("MLK__plate")[0];return r?r.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var t,r;let n=this.boundingRect.height;if(this.container===document.body){(t=this._element)==null||t.style.setProperty("--_keyboard-height",`calc(${n}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let i=n-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${i}px)`:`${i}px`}else(r=this._element)==null||r.style.setProperty("--_keyboard-height",`${n}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let t=this.currentLayer;requestAnimationFrame(()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=t,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))})}render(){var t;if(!this._element)return;let r=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!!(r&&(r.backdrop||r.container)));let n=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!n)return;let i=this.isShifted;for(let o of n){let a=this.getKeycap(o.id);if(a){let[s,l]=wc(a,{shifted:i});o.innerHTML=globalThis.MathfieldElement.createHTML(s),o.className=l,i&&typeof a.shift=="object"&&(t=a.shift)!=null&&t.tooltip?o.dataset.tooltip=a.shift.tooltip:!i&&a.tooltip&&(o.dataset.tooltip=a.tooltip)}}}show(t){var r;if(this._visible)return;let n=this.container;if(n&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let i=this._element.getElementsByClassName("MLK__plate")[0];if(i&&this.observer.observe(i),n===window.document.body){let o=n.style.paddingBottom;this.originalContainerBottomPadding=o;let a=i.offsetHeight-1;n.style.paddingBottom=o?`calc(${o} + ${a}px)`:`${a}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),(r=this._element)==null||r.classList.toggle("is-caps-lock",this.shiftPressCount===2),this.currentLayer=this.latentLayer}this._visible=!0,t!=null&&t.animate?requestAnimationFrame(()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",()=>{var i;return(i=this._element)==null?void 0:i.classList.remove("animate")},{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())}):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(t){var r;let n=this.container;if(n&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let i=this._element.getElementsByClassName("MLK__plate")[0];i&&this.observer.unobserve(i),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),os(),Uk(),(r=this._element)==null||r.remove(),this._element=void 0,this.originalContainerBottomPadding!==null&&(n.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var t,r;return(r=(t=this.element)==null?void 0:t.offsetHeight)!=null?r:0}buildAndAttachElement(){var t;this.element,this.element=jk(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",r=>{r.shiftKey||((r.ctrlKey||r.button===2)&&k3(r.target),r.preventDefault(),r.stopPropagation())},{capture:!0}),(t=this.container)==null||t.appendChild(this.element)}handleEvent(t){if(rp(t)){if(!jh(t.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");t.data.action==="disconnect"?this.connectedMathfieldWindow=void 0:t.data.action!=="update-setting"&&t.data.action!=="proxy-created"&&t.data.action!=="execute-command"&&(t.source,this.connectedMathfieldWindow=t.source),this.handleMessage(t.data,t.source)}if(this._element)switch(t.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":t.button!==2&&t.preventDefault();break;case"keydown":{t.key==="Shift"&&!t.repeat&&(this.shiftPressCount=1);break}case"keyup":{(t.key==="Shift"||!t.getModifierState("Shift")&&this.shiftPressCount!==2)&&(this.shiftPressCount=0);break}}}handleMessage(t,r){let{action:n}=t;if(n==="execute-command"){let{command:i}=t,o=Go(i);if(window.top!==void 0&&o!=="virtual-keyboard")return;this.executeCommand(i);return}if((n==="connect"||n==="show")&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r),n!=="disconnect"&&window===window.top){if(n==="show"){typeof t.animate<"u"?this.show({animate:t.animate}):this.show();return}if(n==="hide"){typeof t.animate<"u"?this.hide({animate:t.animate}):this.hide();return}if(n==="update-setting"){if(t.alphabeticLayout&&(this.alphabeticLayout=t.alphabeticLayout),t.layouts&&(this.layouts=t.layouts),t.editToolbar&&(this.editToolbar=t.editToolbar),t.setKeycap){let{keycap:i,value:o}=t.setKeycap;this.setKeycap(i,o),this.render()}return}if(n==="proxy-created"){this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},r);return}}}sendMessage(t,r,n){if(r.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:r.command})),n||(n=this.connectedMathfieldWindow),this.targetOrigin===null||this.targetOrigin==="null"||n===window){window.dispatchEvent(new MessageEvent("message",{source:window,data:M({type:$u,action:t},r)}));return}if(n)n.postMessage(M({type:$u,action:t},r),{targetOrigin:this.targetOrigin});else if(t==="execute-command"&&Array.isArray(r.command)&&r.command[0]==="insert"){let i=r.command[1].split("");for(let o of i)this.dispatchEvent(new KeyboardEvent("keydown",{key:o,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:o,bubbles:!0}))}}stateWillChange(t){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:t},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(t){let r=this._element;if(!r)return;r.classList.toggle("is-math-mode",t.mode==="math"),r.classList.toggle("is-text-mode",t.mode==="text"),r.classList.toggle("can-undo",t.canUndo),r.classList.toggle("can-redo",t.canRedo),r.classList.toggle("can-copy",!t.selectionIsCollapsed),r.classList.toggle("can-copy",!t.selectionIsCollapsed),r.classList.toggle("can-paste",!0);let n=r.querySelectorAll(".ML__edit-toolbar");if(n)for(let i of n)i.innerHTML=Kk(this,t)}update(t){this._style=t.style,this.updateToolbar(t)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(t){if(t=ks(t),!t)return!1;let r,n=[],i=Go(t);return Pt(t)?(r=t[0],r==="performWithFeedback"&&(i=Go(t.slice(1))),n=t.slice(1)):r=t,i==="virtual-keyboard"?Qr[r].fn(void 0,...n):(this.sendMessage("execute-command",{command:t}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function _b(){let e=Pu(),t=null;for(;e;){if("host"in e&&e.host instanceof lo){t=e.host;break}e=e.parentNode}return t}if(Cr()&&!("mathVirtualKeyboard"in window))if(window===window.top){let e=yi.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>e})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>Ok.singleton,configurable:!0});function Zk(e,t){e.flushInlineShortcutBuffer(),e.stopCoalescingUndo();let r=U0(e,t),{model:n}=e;return n.selectionIsCollapsed?(e.defaultStyle.fontSeries&&r.fontSeries===e.defaultStyle.fontSeries&&(r.fontSeries="auto"),r.fontShape&&r.fontShape===e.defaultStyle.fontShape&&(r.fontShape="auto"),r.color&&r.color===e.defaultStyle.color&&(r.color="none"),r.backgroundColor&&r.backgroundColor===e.defaultStyle.backgroundColor&&(r.backgroundColor="none"),r.fontSize&&r.fontSize===e.defaultStyle.fontSize&&(r.fontSize="auto"),e.defaultStyle=M(M({},e.defaultStyle),r)):e.model.deferNotifications({content:!0,type:"insertText"},()=>{n.selection.ranges.forEach(i=>$0(n,i,r,{operation:"toggle"})),e.snapshot("style-change")}),!0}Qt({applyStyle:Zk},{target:"mathfield",canUndo:!0,changeContent:!0});function U0(e,t){var r,n,i,o,a,s,l,u,c,d;let p={};if(typeof t.color=="string"){let g=(n=e.colorMap((r=t.color)!=null?r:t.verbatimColor))!=null?n:"none";g!==t.color&&(p.verbatimColor=(i=t.verbatimColor)!=null?i:t.color),p.color=g}if(typeof t.backgroundColor=="string"){let g=(a=e.backgroundColorMap((o=t.backgroundColor)!=null?o:t.verbatimBackgroundColor))!=null?a:"none";g!==t.backgroundColor&&(p.verbatimBackgroundColor=(s=t.verbatimBackgroundColor)!=null?s:t.backgroundColor),p.backgroundColor=g}typeof t.fontFamily=="string"&&(p.fontFamily=t.fontFamily),typeof t.series=="string"&&(p.fontSeries=t.series),typeof t.fontSeries=="string"&&(p.fontSeries=t.fontSeries.toLowerCase()),p.fontSeries&&(p.fontSeries=(l={bold:"b",medium:"m",normal:"m"}[p.fontSeries])!=null?l:p.fontSeries),typeof t.shape=="string"&&(p.fontShape=t.shape),typeof t.fontShape=="string"&&(p.fontShape=t.fontShape.toLowerCase()),p.fontShape&&(p.fontShape=(u={italic:"it",up:"n",upright:"n",normal:"n"}[p.fontShape])!=null?u:p.fontShape),t.variant&&(p.variant=t.variant.toLowerCase()),t.variantStyle&&(p.variantStyle=t.variantStyle.toLowerCase());let m=(c=t.size)!=null?c:t.fontSize;return typeof m=="number"?p.fontSize=Math.max(1,Math.min(10,m)):typeof m=="string"&&(p.fontSize=(d={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[m.toLowerCase()])!=null?d:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[m]),p}function ip(e,t,r){var n,i;let o=e.model;if(o.mode==="latex")return{};let a=e.styleBias;if(a==="none")return e.defaultStyle;if(o.mode==="text")return(i=(n=o.at(a==="right"?r.after:r.before))==null?void 0:n.style)!=null?i:e.defaultStyle;if(o.mode==="math"){let s=o.at(a==="right"?r.after:r.before);return s?B(M({},s.style),{variant:"normal"}):e.defaultStyle}return{}}function Ru(e){let t=e.options.onInsertStyle;if(t===null)return{};t===void 0&&(t=ip);let r=e.model,n=e.styleBias,i=r.at(r.position),o=xb(r,i,n),a=xb(r,i.rightSibling,n);return t(e,r.position,{before:o,after:a})}function xb(e,t,r){var n;return!t||t.type==="first"&&r!=="right"?-1:t.type!=="group"?e.offsetOf(t):!t.body||t.body.length<2?-1:((n=t.body)==null?void 0:n.length)===1||r!=="right"?e.offsetOf(t.body[0]):e.offsetOf(t.body[t.body.length-1])}function zu(e){let t={};for(let r of Object.keys(e))switch(r){case"scriptDepth":let n=e.scriptDepth;if(Pt(n))t.scriptDepth=[n[0],n[1]];else if(typeof n=="number")t.scriptDepth=[n,n];else if(typeof n=="string"){let[o,a]=n.split(",").map(s=>parseInt(s.trim()));t.scriptDepth=[o,a]}else throw new TypeError("Unexpected value for scriptDepth");break;case"mathVirtualKeyboardPolicy":let i=e.mathVirtualKeyboardPolicy.toLowerCase();if(i==="sandboxed"){if(window!==window.top){let o=yi.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>o})}i="manual"}t.mathVirtualKeyboardPolicy=i;break;case"letterShapeStyle":e.letterShapeStyle==="auto"?Se.locale.startsWith("fr")?t.letterShapeStyle="french":t.letterShapeStyle="tex":t.letterShapeStyle=e.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(e.defaultMode)?t.defaultMode=e.defaultMode:(console.error('MathLive 0.101.0:  valid values for defaultMode are "text", "math" or "inline-math"'),t.defaultMode="math");break;case"macros":t.macros=A0(e.macros);break;default:Pt(e[r])?t[r]=[...e[r]]:typeof e[r]=="object"&&!(e[r]instanceof Element)&&r!=="computeEngine"?t[r]=M({},e[r]):t[r]=e[r]}return t}function Gi(e,t){let r;typeof t=="string"?r=[t]:t===void 0?r=Object.keys(e):r=t;let n={};for(let i of r)e[i]===null?n[i]=null:Pt(e[i])?n[i]=[...e[i]]:typeof e[i]=="object"&&!(e[i]instanceof Element)&&i!=="computeEngine"?n[i]=M({},e[i]):n[i]=e[i];return typeof t=="string"?n[t]:n}function hu(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:uc,backgroundColorMap:zh,letterShapeStyle:Se.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:e=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(e),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:Z9,inlineShortcuts:p2,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:window==null?void 0:window.origin,originValidator:"none",onInsertStyle:ip,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:Y9,value:""}}function wb(e){return e.defaultMode==="inline-math"?"math":e.defaultMode}function Qk(e,t){let r=e.at(e.position);if(r.type==="composition")r.value=t;else{let{caret:n}=r;r.caret=void 0;let i=new F2(t,{mode:r.mode});i.caret=n,r.parent.addChildAfter(i,r),e.position+=1}}function eM(e){let t=e.at(e.position);t.type==="composition"&&(t.parent.removeChild(t),e.position-=1)}e2(["math","displaymath"],Sr);e2("center",Sr);H("displaylines","",{parse:e=>{let t=[],r=[];e.beginContext({tabular:!0});do{if(e.end()||e.match("<}>"))break;e.matchColumnSeparator()||e.matchRowSeparator()?(t.push([r]),r=[]):r.push(...e.scan(n=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(n)))}while(!0);return e.endContext(),t.push([r]),t},createAtom:e=>new He("lines",e.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}]})});Mn("array","{columns:colspec}",(e,t,r,n)=>new He(e,op(t),r,{columns:n[0],mathstyleName:"textstyle"}));Mn(["equation","equation*","subequations"],"",(e,t,r)=>new He(e,op(t),r,{columns:[{align:"c"}]}));Mn(["multline","multline*"],"",Sr);Mn(["align","align*","aligned","eqnarray"],"",Sr);Mn("split","",Sr);Mn(["gather","gather*","gathered"],"",Sr);Mn(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",Sr);Mn(["smallmatrix","smallmatrix*"],"[columns:colspec]",Sr);Mn(["cases","dcases","rcases"],"",Sr);function tM(e){for(let t of e)for(let r of t)if(r.length>0)return!1;return!0}function op(e,t=1){return tM(e)?Array(t).fill([[new q({type:"first"}),new Rr]]):e.map(r=>r.length===0?[[new q({type:"first"})]]:r.map(n=>n.length===0?[new q({type:"first"})]:n[0].type==="first"?n:[new q({type:"first"}),...n]))}function Sr(e,t=[[[]]],r=[],n=[],i){switch(t=op(t,["split","align","align*","aligned","eqnarray"].includes(e)?2:1),e){case"math":return new He(e,t,r,{mathstyleName:"textstyle"});case"displaymath":return new He(e,t,r,{mathstyleName:"textstyle"});case"center":return new He(e,t,r,{columns:[{align:"c"}]});case"multline":case"multline*":return new He(e,t,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:"."});case"split":return new He(e,t,r,{columns:[{align:"r"},{align:"l"}],minColumns:2});case"gather":case"gathered":return new He(e,t,r,{columns:[{gap:.25},{align:"c"},{gap:0}]});case"pmatrix":case"pmatrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:Pi(n[0],i)});case"bmatrix":case"bmatrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:Pi(n[0],i)});case"Bmatrix":case"Bmatrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:Pi(n[0],i)});case"vmatrix":case"vmatrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:Pi(n[0],i)});case"Vmatrix":case"Vmatrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:Pi(n[0],i)});case"matrix":case"matrix*":return new He(e,t,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:Pi(n==null?void 0:n[0],i)});case"smallmatrix":case"smallmatrix*":return new He(e,t,r,{mathstyleName:"scriptstyle",columns:Pi(n==null?void 0:n[0],i),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new He(e,t,r,{mathstyleName:e==="dcases"?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new He(e,t,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new He(e,t,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}]});case"align":case"align*":case"aligned":case"eqnarray":{let o=0;for(let l of t)o=Math.max(o,l.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],s=2;for(;s<o;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),s+=2;return a.push({gap:0}),new He(e,t,r,{arraycolsep:0,columns:a,minColumns:2})}}return new He(e,t,r,{mathstyleName:"textstyle"})}function Pi(e,t=10){return e??Array(t).fill({align:"c"})}function rM(e,t){let r=e.at(e.position);for(;r&&!(r.parent instanceof He);)r=r.parent;if(r&&r.type==="array"&&r.environmentName,!r||!(r.parent instanceof He)){let n=e.at(e.position);if(r=n,!r.parent.parent){let i=e.extractAtoms([e.position,e.lastOffset]),o=e.extractAtoms([0,e.position]);o.length===0&&(o=Wl()),i.length===0&&(i=Wl());let a;return t.endsWith("column")?(a=Sr("split",[[o,i]]),e.root=a,Ii(a,0,0)?Ni(e,a,0,0):Ii(a,0,1)?Ni(e,a,0,1):e.position=e.offsetOf(n)):(a=Sr("lines",[[o],[i]]),e.root=a,Ii(a,0,0)?Ni(e,a,0,0):Ii(a,1,0)?Ni(e,a,1,0):e.position=e.offsetOf(n)),[void 0,[0,0]]}if(r.parent instanceof mt){let i=r.parent,o=e.extractAtoms([e.position,e.offsetOf(i.lastChild)]),a=e.extractAtoms([e.offsetOf(i.firstChild),e.position]);a.length===0&&(a=Wl()),o.length===0&&(o=Wl());let s="pmatrix",l=i.leftDelim,u=i.rightDelim;l==="("&&(u===")"||u==="?")?s="pmatrix":(l==="["||l==="\\lbrack")&&(u==="]"||u==="\\rbrack"||u==="?")?s="bmatrix":l==="\\vert"&&u==="\\vert"?s="vmatrix":l==="\\Vert"&&u==="\\Vert"?s="Vmatrix":(l==="{"||l==="\\lbrace")&&(u==="."||u==="?")&&(s="cases");let c=Sr(s,t.endsWith("column")?[[a,o]]:[[a],[o]]);return i.parent.addChildBefore(c,i),i.parent.removeChild(i),Ii(c,0,0)?Ni(e,c,0,0):t.endsWith("column")?Ii(c,0,1)?Ni(e,c,0,1):e.position=e.offsetOf(r):Ii(c,1,0)?Ni(e,c,1,0):e.position=e.offsetOf(r),[void 0,[0,0]]}}return r&&r.parent instanceof He?[r.parent,r.parentBranch]:[void 0,[0,0]]}function Ii(e,t,r){let n=e.getCell(t,r);return!n||n.length!==2?!1:n[1].type==="placeholder"}function nM(e,t,r,n){let i=t.getCell(r,n);return i?[e.offsetOf(i[0]),e.offsetOf(i[i.length-1])]:-1}function Ni(e,t,r,n){let i=nM(e,t,r,n);typeof i!="number"&&e.setSelection(i)}function Ul(e,t,r,n,i){let o=t.getCell(r,n);o&&e.setPositionHandlingPlaceholder(e.offsetOf(o[i==="start"?0:o.length-1]))}function kc(e,t){let[r,[n,i]]=rM(e,t);if(r)switch(t){case"after row":r.addRowAfter(n),Ul(e,r,n+1,0,"end");break;case"after column":if(r.maxColumns<=r.colCount){e.announce("plonk");return}r.addColumnAfter(i),Ul(e,r,n,i+1,"end");break;case"before row":r.addRowBefore(n),Ul(e,r,n,0,"start");break;case"before column":if(r.maxColumns<=r.colCount){e.announce("plonk");return}r.addColumnBefore(i),Ul(e,r,n,i,"start");break}}function C3(e){return e.contentWillChange({inputType:"insertText"})?(kc(e,"after row"),e.contentDidChange({inputType:"insertText"}),!0):!1}function iM(e){return e.contentWillChange({inputType:"insertText"})?(kc(e,"before row"),e.contentDidChange({inputType:"insertText"}),!0):!1}function E3(e){return e.contentWillChange({inputType:"insertText"})?(kc(e,"after column"),e.contentDidChange({inputType:"insertText"}),!0):!1}function oM(e){return e.contentWillChange({inputType:"insertText"})?(kc(e,"before column"),e.contentDidChange({inputType:"insertText"}),!0):!1}function L3(e,t){if(!e.contentWillChange({}))return!1;e.mathfield.snapshot();let r=".",n=".";switch(t){case"pmatrix":case"pmatrix*":r="(",n=")";break;case"bmatrix":case"bmatrix*":r="[",n="]";break;case"Bmatrix":case"Bmatrix*":r="\\lbrace",n="\\rbrace";break;case"vmatrix":case"vmatrix*":r="\\vert",n="\\vert";break;case"Vmatrix":case"Vmatrix*":r="\\Vert",n="\\Vert";break;case"matrix":case"matrix*":r=".",n=".";break;case"cases":case"dcases":r="\\lbrace";break;case"rcases":n="\\rbrace";break}let i=e.at(e.position),o=i.type==="array"?i:e.parentEnvironment;return o.environmentName=t,o.leftDelim=r,o.rightDelim=n,e.contentDidChange({}),!0}function A3(e,t){let r=e.at(e.position);for(;r&&!(Array.isArray(r.parentBranch)&&r.parent instanceof He);)r=r.parent;if(Array.isArray(r==null?void 0:r.parentBranch)&&(r==null?void 0:r.parent)instanceof He){let n=r.parent,i=r.parentBranch,o;switch(t){case"row":if(n.rowCount>1){n.removeRow(i[0]);let a=n.getCell(Math.max(0,i[0]-1),i[1]);o=e.offsetOf(a[a.length-1])}break;case"column":if(n.colCount>n.minColumns){n.removeColumn(i[1]);let a=n.getCell(i[0],Math.max(0,i[1]-1));o=e.offsetOf(a[a.length-1])}break}o&&e.setPositionHandlingPlaceholder(o)}}function aM(e){return e.contentWillChange({inputType:"deleteContent"})?(A3(e,"row"),e.contentDidChange({inputType:"deleteContent"}),!0):!1}function sM(e){return e.contentWillChange({inputType:"deleteContent"})?(A3(e,"column"),e.contentDidChange({inputType:"deleteContent"}),!0):!1}Qt({addRowAfter:C3,addColumnAfter:E3,addRowBefore:iM,addColumnBefore:oM,removeRow:aM,removeColumn:sM,setEnvironment:L3},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});function Wl(){return[new Rr]}var D3=class B3{constructor(t){this.recording=!1,this.model=t,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(t){t&&this.index>=0&&(this.stack[this.index].selection=t),this.lastOp=""}undo(){return this.canUndo()?(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0):!1}redo(){return this.canRedo()?(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0):!1}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(t){return this.recording?(t&&t===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>B3.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=t??"",!0):!1}};D3.maximumDepth=1e3;var lM=D3;function W0(e,t,r){if(e.at(t).mode!=="text")return t;let n=r==="backward"?-1:1,i;if(vs.test(e.at(t).value)){let o=t,a;do a=e.at(o).mode==="text"&&vs.test(e.at(o).value),o+=n;while(e.at(o)&&a);i=e.at(o)?o-2*n:o-n}else if(/\s/.test(e.at(t).value)){let o=t;for(;e.at(o)&&e.at(o).mode==="text"&&/\s/.test(e.at(o).value);)o+=n;if(!e.at(o))i=o-n;else{let a=!0;do a=e.at(o).mode==="text"&&!/\s/.test(e.at(o).value),o+=n;while(e.at(o)&&a);i=e.at(o)?o-2*n:o-n}}else{let o=t;for(;e.at(o)&&e.at(o).mode==="text"&&!/\s/.test(e.at(o).value);)o+=n;i=e.at(o)?o:o-n;let a=!0;for(;e.at(o)&&a;)a=e.at(o).mode==="text"&&/\s/.test(e.at(o).value),a&&(i=o),o+=n;i=e.at(o)?o-2*n:o-n}return i-(n>0?0:1)}function Ro(e,t,r){var n,i,o,a,s,l,u;let c=e.position;(n=r==null?void 0:r.extend)!=null&&n||e.collapseSelection(t);let d=e.at(e.position);if(t==="forward"&&(d.type==="subsup"?(d=d.rightSibling,d||(d=e.at(e.position+1))):d=e.at(e.position+1)),!d)return e.announce("plonk"),!1;let p=e.offsetOf(d);if(d instanceof ma)p=W0(e,p,t);else if(d instanceof Et)if(d.isSuggestion)for(;d&&d instanceof Et;)d.isSuggestion=!1,p=e.offsetOf(d),d=d.rightSibling;else if(t==="forward"){if(d=d.rightSibling,!d||!(d instanceof Et))return e.announce("plonk"),!1;for(;d&&d instanceof Et&&/[a-zA-Z\*]/.test(d.value);)p=e.offsetOf(d),d=d.rightSibling}else{if(d=d.leftSibling,!d||!(d instanceof Et))return e.announce("plonk"),!1;for(;d&&d instanceof Et&&/[a-zA-Z\*]/.test(d.value);)p=e.offsetOf(d),d=d.leftSibling}else if(t==="forward"&&d.type==="mopen"){let m=0;do d.type==="mopen"?m+=1:d.type==="mclose"&&(m-=1),d=d.rightSibling;while(!d.isLastSibling&&m!==0);p=e.offsetOf(d.leftSibling)}else if(t==="backward"&&d.type==="mclose"){let m=0;do d.type==="mopen"?m+=1:d.type==="mclose"&&(m-=1),d=d.leftSibling;while(!d.isFirstSibling&&m!==0);p=e.offsetOf(d)}else if(t==="backward")if(d.type==="first")for(;p>0&&d.type==="first";)p-=1,d=e.at(p);else{let m=d.type;d.type==="subsup"&&(p=e.offsetOf(e.at(p).leftSibling)),p-=1;let g=(i=e.at(p))==null?void 0:i.type;for(;p>=0&&g===m;)((o=e.at(p))==null?void 0:o.type)==="subsup"?p=e.offsetOf(e.at(p).leftSibling):p-=1,g=e.at(p).type}else{let{type:m}=d,g=(a=e.at(p))==null?void 0:a.type,{lastOffset:y}=e;for(;p<=y&&(g===m||g==="subsup");){for(;((s=e.at(p).rightSibling)==null?void 0:s.type)==="subsup";)p=e.offsetOf(e.at(p).rightSibling);p+=1,g=(l=e.at(p))==null?void 0:l.type}p-=1}if((u=r==null?void 0:r.extend)!=null&&u){if(!e.setSelection(e.anchor,p))return e.announce("plonk"),!1}else{if(p===e.position)return e.announce("plonk"),!1;e.position=p}return e.announce("move",c),e.mathfield.stopCoalescingUndo(),!0}function en(e,t,r){var n,i;if(r=r??{extend:!1},e.mathfield.styleBias=t==="backward"?"right":"left",t!=="forward"){let[s,l]=b3(e);s!==void 0&&l!==void 0&&e.deleteAtoms([s,l])}if(t==="upward")return cM(e,r);if(t==="downward")return dM(e,r);if(r.extend){let s=pu(e,e.position,t);s<0&&(s=0),s>e.lastOffset&&(s=e.lastOffset);let l=e.setSelection(e.anchor,s);return e.mathfield.stopCoalescingUndo(),l}if(e.selectionIsPlaceholder){e.collapseSelection(t);let s=en(e,t);return e.mathfield.stopCoalescingUndo(),s}let o=e.position,a=o;if(e.collapseSelection(t)?(o=e.position,T3(e,o)||(o=pu(e,o,t))):o=pu(e,o,t),o<0||o>e.lastOffset){let s=!0;return e.silenceNotifications||(s=(i=(n=e.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:t},cancelable:!0,bubbles:!0,composed:!0})))!=null?i:!0),s&&e.announce("plonk"),s}return e.setPositionHandlingPlaceholder(o),e.mathfield.stopCoalescingUndo(),e.announce("move",a),!0}function pu(e,t,r){return t=t+(r==="forward"?1:-1),t<0||t>e.lastOffset||T3(e,t)?t:pu(e,t,r)}function T3(e,t){var r;let n=e.at(t),i=n.parent;for(;i&&!i.inCaptureSelection;)i=i.parent;return!(i!=null&&i.inCaptureSelection||(r=n.parent)!=null&&r.skipBoundary&&(!n.isFirstSibling&&n.isLastSibling||n.type==="first")||e.mathfield.hasEditablePrompts&&!n.parentPrompt)}function uM(e,t,r){let n=1/0,i=0;for(;i<t.length;i++){let o=t[i],a=e.getHTMLElement(o);if(!a)continue;let s=v2(a).right,l=Math.abs(r-s);if(l<=n)n=l;else break}return t[i-1]}function Ku(e,t,r,n,i){let o=e.mathfield.hasEditablePrompts,a=o?r.filter(u=>u.type==="prompt"&&!u.captureSelection):r,s=v2(e.mathfield.getHTMLElement(t)).right,l=e.offsetOf(uM(e.mathfield,a,s))-(o?1:0);if(n){let[u,c]=e.selection.ranges[0],d;l<(i==="up"?u:c)?d={ranges:[[l,c]],direction:"backward"}:d={ranges:[[u,l]],direction:"forward"},e.setSelection(d)}else e.setPositionHandlingPlaceholder(l);e.announce(`move ${i}`)}function cM(e,t){var r,n;let i=(r=t==null?void 0:t.extend)!=null?r:!1;i||e.collapseSelection("backward");let o=()=>{var l,u;let c=!0;return e.silenceNotifications||(c=(u=(l=e.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),e.announce(c?"line":"plonk"),c},a=e.at(e.position),s=a;for(;s&&s.parentBranch!=="below"&&!(Array.isArray(s.parentBranch)&&s.parent instanceof He);)s=s.parent;if(Array.isArray(s==null?void 0:s.parentBranch)&&s.parent instanceof He){let l=s.parent;if(s.parentBranch[0]<1)return o();let u=s.parentBranch[0]-1,c=l.array[u][s.parentBranch[1]];if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&e.mathfield.hasEditablePrompts)return o();Ku(e,a,c,i,"up")}else if(s){let l=(n=s.parent.branch("above"))!=null?n:s.parent.createBranch("above");if(!l.some(u=>u.type==="prompt"&&u.placeholderId)&&e.mathfield.hasEditablePrompts)return o();Ku(e,a,l,i,"up")}else return o();return e.mathfield.stopCoalescingUndo(),!0}function dM(e,t){var r,n;let i=(r=t==null?void 0:t.extend)!=null?r:!1;i||e.collapseSelection("forward");let o=()=>{var l,u;let c=!0;return e.silenceNotifications||(c=(u=(l=e.mathfield.host)==null?void 0:l.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))!=null?u:!0),e.announce(c?"line":"plonk"),c},a=e.at(e.position),s=a;for(;s&&s.parentBranch!=="above"&&!(Array.isArray(s.parentBranch)&&s.parent instanceof He);)s=s.parent;if(Array.isArray(s==null?void 0:s.parentBranch)&&s.parent instanceof He){let l=s.parent;if(s.parentBranch[0]+1>l.array.length-1)return o();let u=s.parentBranch[0]+1,c=l.array[u][s.parentBranch[1]];if(!c.some(d=>d.type==="prompt"&&!d.captureSelection)&&e.mathfield.hasEditablePrompts)return o();Ku(e,a,c,i,"down")}else if(s){let l=(n=s.parent.branch("below"))!=null?n:s.parent.createBranch("below");if(!l.some(u=>u.type==="prompt")&&e.mathfield.hasEditablePrompts)return o();Ku(e,a,l,i,"down")}else return o();return!0}function F3(e){let t=e.position,r=e.at(t).parent;return r!=null&&r.parent?(e.position=e.offsetOf(r),e.mathfield.stopCoalescingUndo(),e.announce("move",t),!0):(e.announce("plonk"),!1)}function hM(e){let t=0,r=e.at(e.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(t+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!1):n=!0,r=r.parent;return n?t:0}function pM(e){let t=0,r=e.at(e.position),n=!1;for(;r;)(!r.hasEmptyBranch("superscript")||!r.hasEmptyBranch("subscript"))&&(t+=1),r.hasEmptyBranch("superscript")?r.hasEmptyBranch("subscript")||(n=!0):n=!1,r=r.parent;return n?t:0}function kb(e){var t;if(e.collapseSelection(),hM(e)>=e.mathfield.options.scriptDepth[1])return e.announce("plonk"),!1;let r=e.at(e.position);return r.subsupPlacement===void 0&&(((t=r.rightSibling)==null?void 0:t.type)!=="subsup"&&r.parent.addChildAfter(new gc({style:r.style}),r),r=r.rightSibling),r.createBranch("superscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(r.superscript[0]))),!0}function Mb(e){var t;if(e.collapseSelection(),pM(e)>=e.mathfield.options.scriptDepth[0])return e.announce("plonk"),!1;let r=e.at(e.position);return r.subsupPlacement===void 0&&(((t=e.at(e.position+1))==null?void 0:t.type)!=="subsup"&&r.parent.addChildAfter(new gc({style:e.at(e.position).style}),r),r=e.at(e.position+1)),r.createBranch("subscript"),e.setSelection(e.getSiblingsRange(e.offsetOf(r.subscript[0]))),!0}function mM(){function e(l){let u=[],c=[];return[...l.querySelectorAll(`input, select, textarea, a[href], button,
        [tabindex], audio[controls], video[controls],
        [contenteditable]:not([contenteditable="false"]), details>summary`)].filter(t).forEach((d,p)=>{let m=n(d);m===0?u.push(d):c.push({documentOrder:p,tabIndex:m,node:d})}),c.sort((d,p)=>d.tabIndex===p.tabIndex?d.documentOrder-p.documentOrder:d.tabIndex-p.tabIndex).map(d=>d.node).concat(u)}function t(l){return!(!r(l)||i(l)||n(l)<0)}function r(l){return!(l.disabled||l.type==="hidden"&&l.tagName.toUpperCase()==="INPUT"||s(l))}function n(l){var u;let c=Number.parseInt((u=l.getAttribute("tabindex"))!=null?u:"NaN",10);return Number.isNaN(c)?l.contentEditable==="true"||(l.nodeName==="AUDIO"||l.nodeName==="VIDEO")&&l.getAttribute("tabindex")===null?0:l.tabIndex:c}function i(l){return l.tagName.toUpperCase()==="INPUT"&&l.type==="radio"&&!a(l)}function o(l,u){for(let c of l)if(c.checked&&c.form===u)return c;return null}function a(l){var u;if(!l.name)return!0;let c=((u=l.form)!=null?u:l.ownerDocument).querySelectorAll('input[type="radio"][name="'+l.name+'"]'),d=o(c,l.form);return!d||d===l}function s(l){if(!Cr()||l===document.activeElement||l.contains(document.activeElement))return!1;if(getComputedStyle(l).visibility==="hidden")return!0;let u=l.getBoundingClientRect();if(u.width===0||u.height===0)return!0;for(;l;){if(getComputedStyle(l).display==="none")return!0;l=l.parentElement}return!1}return Cr()?e(document.body):[]}function Ht(e,t,r="forward"){let n=e.position;if(Pt(t)){let i=e.offsetOf(t[0]),o=e.offsetOf(t[t.length-1]);return r==="forward"?e.setSelection(i,o):e.setSelection(o,i),e.announce("move",n),e.mathfield.stopCoalescingUndo(),!0}return r==="forward"?Ht(e,[t.leftSibling,t]):Ht(e,[t,t.leftSibling])}function Tr(e,t){let r=e.position;if(typeof t=="number"&&(t=e.at(t)),t.type==="prompt")e.setSelection(e.offsetOf(t.firstChild),e.offsetOf(t.lastChild));else{let n=e.offsetOf(t);t.type==="placeholder"?e.setSelection(n-1,n):e.position=n}return e.announce("move",r),e.mathfield.stopCoalescingUndo(),!0}function zo(e,t){var r,n;let i=t==="forward"?1:-1;e.at(e.anchor).type==="placeholder"&&en(e,t);let o,a=e.at(e.anchor).parentPrompt;a?t==="forward"?o=e.offsetOf(a)+1:o=e.offsetOf(a.leftSibling):o=Math.max(e.position+i,0);let s=j0(e,o,t);if(!s||t==="forward"&&e.offsetOf(s)<o||t==="backward"&&e.offsetOf(s)>o){if(!((n=(r=e.mathfield.host)==null?void 0:r.dispatchEvent(new CustomEvent("move-out",{detail:{direction:t},cancelable:!0,bubbles:!0,composed:!0})))==null||n))return e.announce("plonk"),!1;let l=mM();if(!document.activeElement||l.length<=1)return e.announce("plonk"),!1;let u=l.indexOf(document.activeElement)+i;return u<0&&(u=l.length-1),u>=l.length&&(u=0),l[u].focus(),e.mathfield.stopCoalescingUndo(),!0}return Tr(e,s),!0}function j0(e,t=0,r="forward"){return e.findAtom(n=>n.type==="placeholder"||n.type==="prompt"||!e.mathfield.readOnly&&n.treeDepth>2&&n.isFirstSibling&&n.isLastSibling,t,r)}Qt({moveToOpposite:e=>{let t={superscript:"subscript",subscript:"superscript",above:"below",below:"above"},r=e.at(e.position),{parent:n}=r;if(!n)return e.announce("plonk"),!1;let i=r.parentBranch,o;if(typeof i=="string"&&(o=t[i]),!o){let s=r.subsupPlacement?Mb(e):kb(e);return e.mathfield.stopCoalescingUndo(),s}n.branch(o)||n.createBranch(o);let a=e.setSelection(e.getBranchRange(e.offsetOf(n),o));return e.mathfield.stopCoalescingUndo(),a},moveBeforeParent:e=>{let{parent:t}=e.at(e.position);return t?(e.position=e.offsetOf(t),e.mathfield.stopCoalescingUndo(),!0):(e.announce("plonk"),!1)},moveAfterParent:e=>F3(e),moveToNextChar:e=>en(e,"forward"),moveToPreviousChar:e=>en(e,"backward"),moveUp:e=>en(e,"upward"),moveDown:e=>en(e,"downward"),moveToNextWord:e=>Ro(e,"forward"),moveToPreviousWord:e=>Ro(e,"backward"),moveToGroupStart:e=>{let t=e.offsetOf(e.at(e.position).firstSibling);return t===e.position?(e.announce("plonk"),!1):(e.position=t,e.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:e=>{let t=e.offsetOf(e.at(e.position).lastSibling);return t===e.position?(e.announce("plonk"),!1):(e.position=t,e.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:e=>{var t,r,n,i;if(e.position===e.lastOffset&&e.anchor===e.lastOffset)return zo(e,"forward");let o=e.at(e.position);if(o.mode==="text"){if(e.selectionIsCollapsed){let d=o;for(;d&&d.mode==="text";)d=d.leftSibling;let p=o;for(;((t=p.rightSibling)==null?void 0:t.mode)==="text";)p=p.rightSibling;if(d&&p)return Ht(e,[d,p])}if(o.rightSibling.mode==="text"){let d=o;for(;d&&d.mode==="text";)d=d.rightSibling;return d?(Tr(e,(r=d.leftSibling)!=null?r:d),e.mathfield.switchMode("math"),!0):Tr(e,e.lastOffset)}}let a=e.at(e.anchor).parentPrompt,s=a?e.offsetOf(a)+1:Math.max(e.position+1,0),l=j0(e,s,"forward");if(l&&e.offsetOf(l)<s)return zo(e,"forward");if(l)return Tr(e,l);let u=Sb(e,o,d=>d.type==="leftright"||d.type==="text","forward");if(u){if(u.mode==="text"){let d=u;for(;d&&d.mode==="text";)d=d.rightSibling;return Ht(e,[(n=u.leftSibling)!=null?n:u,(i=d.leftSibling)!=null?i:d])}return Ht(e,u)}let c=o.parent;if(c){if(c.type==="leftright"||c.type==="surd")return Ht(e,c);if(o.parentBranch==="superscript"&&c.subscript)return Ht(e,c.subscript);if(o.parentBranch==="above"&&c.below)return Ht(e,c.below);if(o.parentBranch==="superscript"||o.parentBranch==="subscript")return Tr(e,c);if(o.parentBranch==="above"||o.parentBranch==="below")return Ht(e,c)}return Tr(e,e.lastOffset)},moveToPreviousGroup:e=>{var t;if(e.position===0&&e.anchor===0)return zo(e,"backward");let r=e.at(e.position),n=r.mode;if(n==="text"){if(e.selectionIsCollapsed){let s=r;for(;s&&s.mode==="text";)s=s.leftSibling;let l=r;for(;((t=l.rightSibling)==null?void 0:t.mode)==="text";)l=l.rightSibling;if(s&&l)return Ht(e,[s,l])}for(;r&&r.mode==="text";)r=r.leftSibling;return r?Tr(e,r):Tr(e,0)}let i=e.at(e.anchor).parentPrompt,o=i?e.offsetOf(i.leftSibling):Math.max(e.position-1,0),a=j0(e,o,"backward");if(a&&e.offsetOf(a)>o)return zo(e,"backward");if(a)return Tr(e,a);if(n==="math"){let s=Sb(e,r,u=>u.type==="leftright"||u.type==="text","backward");if(s){if(s.mode==="text"){let u=s;for(;u&&u.mode==="text";)u=u.leftSibling;return Ht(e,[s,u])}return Ht(e,s)}let l=r.parent;if(l){if(l.type==="leftright"||l.type==="surd")return Ht(e,l);if(r.parentBranch==="subscript"&&l.superscript)return Ht(e,l.superscript);if(r.parentBranch==="below"&&l.above)return Ht(e,l.above);if(r.parentBranch==="superscript"||r.parentBranch==="subscript")return Tr(e,l);if(r.parentBranch==="above"||r.parentBranch==="below")return Ht(e,l)}return Tr(e,0)}return!1},moveToMathfieldStart:e=>e.selectionIsCollapsed&&e.position===0?(e.announce("plonk"),!1):(e.position=0,e.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:e=>e.selectionIsCollapsed&&e.position===e.lastOffset?(e.announce("plonk"),!1):(e.position=e.lastOffset,e.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:kb,moveToSubscript:Mb},{target:"model",changeSelection:!0});Qt({moveToNextPlaceholder:e=>zo(e,"forward"),moveToPreviousPlaceholder:e=>zo(e,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"});function Sb(e,t,r,n){if(n==="forward"){let o=t.rightSibling;for(;o&&!r(o);)o=o.rightSibling;return o}let i=t.leftSibling;for(;i&&!r(i);)i=i.leftSibling;return i}function jl(e,t,r){typeof t=="function"&&(r=t,t=1/0),t===void 0&&(t=1/0);let n=e.position,i=!1,o="";for(;!i;){let a=e.at(n);i=t===0||a===void 0||a.type==="first"||a.mode!=="math"||!(a.type&&/mord|mpunct|operator/.test(a.type)||a.type==="mop"&&/[a-zA-Z ]+/.test(a.value))||!a.hasEmptyBranch("superscript")||!a.hasEmptyBranch("subscript")||typeof r=="function"&&!r(a),i||(a.mode="text",a.command=a.value,a.verbatimLatex=void 0,o+=a.value),n-=1,t-=1}e.contentDidChange({data:o,inputType:"insertText"})}function Ka(e,t,r){typeof t=="function"&&(r=t,t=1/0),t===void 0&&(t=1/0);let n=e.position,i=!1,o=[];for(;!i;){let a=e.at(n);i=t===0||!a||a.type==="first"||a.isFirstSibling||a.mode!=="text"||a.value===" "||typeof r=="function"&&!r(a),i||(o.push(q.serialize([a],{defaultMode:"math"})),a.mode="math"),n-=1,t-=1}ap(e),e.contentDidChange({data:Le(o),inputType:"insertText"})}function ap(e){var t;let r=e.position-1;for(;r>=0&&((t=e.at(r))==null?void 0:t.mode)==="math";)r-=1;if(!(r<0)&&e.at(r).mode==="text"&&e.at(r).value===" "&&e.at(r-1).mode==="math"){e.at(r-1).parent.removeChild(e.at(r-1));let n=e.silenceNotifications;e.silenceNotifications=!0,e.position-=1,e.silenceNotifications=n,e.contentDidChange({inputType:"deleteContent"})}}function fM(e){let t="",r=e.position,n=!1;for(;!n;){let i=e.at(r);n=!(i&&(i.mode==="text"||i.mode==="math"&&i.type&&/mord|mpunct/.test(i.type))),n||(t=i.value+t),r-=1}return t}function gM(e,t,r){let{model:n}=e;if(n.mode==="latex"||!n.at(n.position).isLastSibling||!r||!yc(r))return!1;let i=Fo(r);if(!n.selectionIsCollapsed)return!!(e.model.mode==="text"&&/[/_^]/.test(i));let o=fM(n)+i;if(e.model.mode==="text"){if(t==="Esc"||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(o)&&Ka(n,1),!0;let a={")":"(","}":"{","]":"["}[i],{parent:s}=n.at(n.position);if(a&&s instanceof mt&&s.leftDelim===a)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(o))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(i))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(o))return Ka(n,1),!1;if(/\D\.[^\d\s]$/.test(o)){Ka(n,1);let l=n.at(n.position);return l.value="⋅",l.style.variant="normal",l.command="\\cdot",l.verbatimLatex=void 0,n.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(o)||/\.\d$/.test(o)||/\([\d+\-.]$/.test(o))return Ka(n,1),!0;if(/\([a-z][,;]$/.test(o))return Ka(n,2),!0;if(/[\d+\-=><*|]$/.test(i))return ap(n),!0}else{if(t==="[Space]")return jl(n,void 0,a=>/[a-z][:,;.]$/.test(a.value)),!0;if(/[a-zA-Z]{3,}$/.test(o)&&!/(dxd|abc|xyz|uvw)$/.test(o))return jl(n,void 0,a=>/[a-zA-Z]/.test(a.value)),!0;if(/(^|\W)(if)$/i.test(o))return jl(n,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(o)&&!/(αβγ)$/.test(o))return jl(n,void 0,a=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(a.value)),!0;if(i==="?"||i==="."&&!/[\d-+]\.$/.test(o))return!0}return!1}function bM(e,t){if(!e.isSelectionEditable||!e.keystrokeCaptionVisible)return;let r=O3(),n=e.element.getBoundingClientRect();r.style.left=`${n.left}px`,r.style.top=`${n.top-64}px`,r.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(Yh(t)||t)+"</span>"+r.innerHTML),r.style.visibility="visible",setTimeout(()=>{r.childNodes.length>0&&r.childNodes[r.childNodes.length-1].remove(),r.childNodes.length===0&&(r.style.visibility="hidden")},3e3)}function yM(e){if(e.keystrokeCaptionVisible=!e.keystrokeCaptionVisible,e.keystrokeCaptionVisible){let t=O3();t.innerHTML=""}else{let t=_c("mathlive-keystroke-caption-panel");t.style.visibility="hidden"}return!1}function O3(){return document.getElementById("mathlive-keystroke-caption-panel")||(ui("keystroke-caption"),ui("core"),_c("mathlive-keystroke-caption-panel"))}function vM(){document.getElementById("mathlive-keystroke-caption-panel")&&(Qh("mathlive-keystroke-caption-panel"),ci("core"),ci("keystroke-caption"))}function P3(e,t){var r,n,i;let{model:o}=e,a=g3(t);if(t.isTrusted){uk(t);let g=ws();e.keyboardLayout!==g.id&&(e.keyboardLayout=g.id,e._keybindings=void 0)}if(clearTimeout(e.inlineShortcutBufferFlushTimer),e.inlineShortcutBufferFlushTimer=0,bM(e,a),t.isTrusted&&t.defaultPrevented)return e.flushInlineShortcutBuffer(),!1;let s,l=0,u="",c=0,d=e.inlineShortcutBuffer;if(e.isSelectionEditable){if(o.mode==="math")if(a==="[Backspace]")e.undoManager.lastOp==="insert-shortcut"?u="undo":d.pop();else if(!yc(t))e.flushInlineShortcutBuffer();else{let g=Fo(t),y=[...(n=(r=d[d.length-1])==null?void 0:r.keystrokes)!=null?n:[],g];d.push({state:o.getState(),keystrokes:y,leftSiblings:_M(e)}),l=0;let L="";for(;!s&&l<y.length;)c=d.length-(y.length-l),L=y.slice(l).join(""),s=Uh(d[c].leftSiblings,L,e.options.inlineShortcuts),!s&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(L)&&(s=e.options.onInlineShortcut(e,L)),l+=1;e.flushInlineShortcutBuffer({defer:!0})}e.options.smartMode&&(s?e.switchMode("math"):gM(e,a,t)&&(e.switchMode({math:"text",text:"math"}[o.mode]),u=""))}if(!s){if(u||(u=fk(e.keybindings,o.mode,t)),!u&&(a==="[Enter]"||a==="[Return]")){let g=!0;return o.contentWillChange({inputType:"insertLineBreak"})&&(e.host&&(g=e.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!g&&t.preventDefault?(t.preventDefault(),t.stopPropagation()):o.contentDidChange({inputType:"insertLineBreak"})),g}if((!u||a==="[Space]")&&o.mode==="math"){if(a==="[Space]"){if(e.styleBias="none",e.flushInlineShortcutBuffer(),e.options.mathModeSpace)return Ze.insert(o,e.options.mathModeSpace,{format:"latex",mode:"math"}),e.snapshot("insert-space"),u="",e.dirty=!0,e.scrollIntoView(),t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!1;let g=o.at(o.position+1),y=o.at(o.position-1);if((g==null?void 0:g.mode)==="text"||(y==null?void 0:y.mode)==="text")return Ze.insert(o," ",{mode:"text"}),e.snapshot("insert-space"),e.dirty=!0,e.scrollIntoView(),!1}(i=o.at(o.position))!=null&&i.isDigit()&&globalThis.MathfieldElement.decimalSeparator===","&&Fo(t)===","&&(u="insertDecimalSeparator")}}if(!s&&!u){if(o.mathfield.smartFence){if(X0(o,Fo(t),Ru(e)))return e.dirty=!0,e.scrollIntoView(),t.preventDefault&&t.preventDefault(),!1}else{let{parent:g}=o.at(o.position);if(g instanceof mt&&g.rightDelim==="?"&&o.at(o.position).isLastSibling&&/^[)}\]|]$/.test(a))return e.snapshot(),g.isDirty=!0,g.rightDelim=a,o.position+=1,o.selectionDidChange(),o.contentDidChange({data:Fo(t),inputType:"insertText"}),e.snapshot("insert-fence"),e.dirty=!0,e.scrollIntoView(),t.preventDefault&&t.preventDefault(),!1;if(!o.selectionIsCollapsed){let y=Fo(t);if(y==="("||y==="{"||y==="["){let L={"(":"(","{":"\\lbrace","[":"\\lbrack"}[y],E={"(":")","{":"\\rbrace","[":"\\rbrack"}[y],[C,v]=Ut(o.selection);return e.snapshot(),o.position=v,Ze.insert(o,E,{format:"latex"}),o.position=C,Ze.insert(o,L,{format:"latex"}),o.setSelection(C+1,v+1),o.contentDidChange({data:y,inputType:"insertText"}),e.snapshot("insert-fence"),e.dirty=!0,e.scrollIntoView(),t.preventDefault&&t.preventDefault(),!1}}}return!0}let p=o.at(Math.max(o.position,o.anchor)),{parent:m}=p;if(u==="moveAfterParent"&&(m==null?void 0:m.type)==="leftright"&&p.isLastSibling&&e.options.smartFence&&X0(o,".",e.defaultStyle)&&(u="",dt(e)),e.keyboardDelegate.cancelComposition(),u)e.executeCommand(u);else if(s){let g=Ru(e);o.setState(d[c].state);let y=d[d.length-1].keystrokes;y=y.slice(l-1);for(let L of y)Ze.insert(o,L,{silenceNotifications:!0,style:g});e.snapshot("insert-shortcut"),o.setState(d[c].state),o.deferNotifications({content:!0,selection:!0,data:s,type:"insertText"},()=>(Ze.insert(o,s,{format:"latex",style:g}),ap(e.model),s.endsWith(" ")&&(e.switchMode("text"),Ze.insert(o," ",{style:g,mode:"text"})),e.snapshot(),o.selectionIsCollapsed||e.flushInlineShortcutBuffer(),!0)),e.dirty=!0,o.announce("replacement")}return e.scrollIntoView(),t.preventDefault&&t.preventDefault(),!1}function G0(e,t,r){let{model:n}=e;if(!e.isSelectionEditable){n.announce("plonk");return}r!=null||(r={}),r.focus&&e.focus(),r.feedback&&globalThis.MathfieldElement.playSound("keypress"),typeof r.mode=="string"&&(e.switchMode(r.mode),e.snapshot());let i=n2(t),o=window.mathVirtualKeyboard;if(o!=null&&o.isShifted&&(i=typeof i=="string"?i.toUpperCase():i.map(a=>a.toUpperCase())),r.simulateKeystroke){let a=!0;for(let s of i)P3(e,new KeyboardEvent("keypress",{key:s}))&&(a=!1);if(a)return}if(n.mode==="latex")n.deferNotifications({content:!0,selection:!0,data:t,type:"insertText"},()=>{vc(e);for(let a of i)Ze.insert(n,a,{insertionMode:"replaceSelection"});e.snapshot("insert-latex"),Fs(e)});else if(n.mode==="text"){let a=M(M({},wM(n)),e.defaultStyle);for(let s of i)Ze.insert(n,s,{style:a,insertionMode:"replaceSelection"});e.snapshot("insert-text")}else if(n.mode==="math")for(let a of i)xM(e,a);e.dirty=!0,e.scrollIntoView()}function _M(e){let t=e.model,r=[],n=t.at(Math.min(t.position,t.anchor));for(;n.type!=="first";)r.push(n),n=n.leftSibling;return r}function xM(e,t){let r=e.model,n={"^":"moveToSuperscript",_:"moveToSubscript"," ":e.options.mathModeSpace?["insert",e.options.mathModeSpace]:"moveAfterParent"}[t];if(n){e.executeCommand(n);return}let i=M({},Ru(e));!/[a-zA-Z0-9]/.test(t)&&e.styleBias!=="none"&&(i.variant="normal",i.variantStyle=void 0);let o=r.at(r.position);if(/\d/.test(t)&&e.options.smartSuperscript&&o.parentBranch==="superscript"&&o.parent.type!=="mop"&&o.parent.type!=="operator"&&o.parent.type!=="extensible-symbol"&&o.hasNoSiblings){if(!Ze.insert(r,t,{style:i,insertionMode:"replaceSelection"})){e.undoManager.pop();return}e.snapshot("insert-mord"),F3(r);return}let a=t;a==="{"?a="\\lbrace":a==="}"?a="\\rbrace":a==="&"?a="\\&":a==="#"?a="\\#":a==="$"?a="\\$":a==="%"?a="\\%":a==="~"?a="\\~":a==="\\"&&(a="\\backslash"),Ze.insert(r,a,{style:i,insertionMode:"replaceSelection"})&&e.snapshot(`insert-${r.at(r.position).type}`)}function wM(e){var t,r,n,i;if(e.selectionIsCollapsed)return(r=(t=e.at(e.position))==null?void 0:t.style)!=null?r:{};let o=Ut(e.selection)[0];return(i=(n=e.at(o+1))==null?void 0:n.style)!=null?i:{}}function X0(e,t,r){var n;if(!t||e.mode!=="math")return!1;let i=e.at(e.position),{parent:o}=i,a={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[t];if(!a)return!1;let s=Bu[a],l=mc[a];if(!e.selectionIsCollapsed){e.mathfield.snapshot();let[u,c]=Ut(e.selection),d=e.extractAtoms([u,c]),p=o.addChildrenAfter([new mt("left...right",d,{leftDelim:a,rightDelim:l})],e.at(u));return e.setSelection(e.offsetOf(p.firstChild),e.offsetOf(p.lastChild)),e.mathfield.snapshot("insert-fence"),e.contentDidChange({data:a,inputType:"insertText"}),!0}if(a==="|"){let u=o instanceof mt?o.leftDelim+o.rightDelim:"";if(u==="\\lbrace\\rbrace"||u==="\\{\\}"||u==="\\lbrace?")return e.mathfield.snapshot(),Ze.insert(e,"\\,\\middle\\vert\\,",{format:"latex",style:r}),e.mathfield.snapshot("insert-fence"),e.contentDidChange({data:a,inputType:"insertText"}),!0}if(l){if(o instanceof mt&&o.firstChild===i&&(o.leftDelim==="?"||o.leftDelim==="."))return o.leftDelim=a,o.isDirty=!0,e.mathfield.snapshot(),e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0;if(!(o instanceof mt)){let p=i;for(;p&&!(p.type==="mclose"&&p.value===l);)p=p.rightSibling;if(p){e.mathfield.snapshot();let m=e.extractAtoms([e.offsetOf(i),e.offsetOf(p)]);return m.pop(),o.addChildrenAfter([new mt("left...right",m,{leftDelim:a,rightDelim:l})],i),e.position=e.offsetOf(o.firstChild)+1,e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0}}let u=e.offsetOf(i.lastSibling),c;for(c=e.position;c<=u;c++){let p=e.at(c);if(p instanceof mt&&(p.leftDelim==="?"||p.leftDelim===".")&&Cb(a,p.rightDelim))break}let d=e.at(c);if(c<=u&&d instanceof mt){d.leftDelim=a,e.mathfield.snapshot();let p=e.extractAtoms([e.position,c-1]);return p=p.filter(m=>m.type!=="first"),d.addChildren(p,d.parentBranch),e.position+=1,e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0}if(o instanceof mt&&(o.leftDelim==="?"||o.leftDelim===".")&&Cb(a,o.rightDelim)){o.isDirty=!0,o.leftDelim=a,e.mathfield.snapshot();let p=e.extractAtoms([e.offsetOf(i.firstSibling),e.position]);for(let m of p)o.parent.addChildBefore(m,o);return e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0}if(!(o instanceof mt&&o.leftDelim==="|")){if(a==="("){let p=e.position-1,m=!1;for(;p>=0;){let g=e.at(p);if(g.type==="first")break;if(g.type==="mord"&&g.value&&/^[\d]$/.test(g.value)){p-=1;continue}if(g.type==="group"&&((n=g.body)==null?void 0:n.length)===2&&g.body[0].type==="first"&&g.body[1].value===","){m=!0;break}if(g.type==="mord"&&(g.value===","||g.value===".")){m=!0;break}break}if(m)return!1}if(e.mathfield.snapshot(),Ze.insert(e,`\\left${a}\\right?`,{format:"latex",style:r}),i.lastSibling.type!=="first"){let p=e.offsetOf(i.lastSibling),m=e.extractAtoms([e.position,p]);e.at(e.position).body=m,e.position-=1}return e.mathfield.snapshot("insert-fence"),!0}}if(s){if(a===")"){let g=e.position-1,y=!1;for(;g>=0;){let L=e.at(g);if(L.type==="first")break;if(L.type==="mord"&&L.value&&/^[\d]$/.test(L.value)){y=!0,g-=1;continue}break}if(y&&e.at(g).type==="mopen"&&e.at(g).value==="(")return!1}let u=i;for(;u;){if(u.type==="mopen"&&u.value===s){e.mathfield.snapshot();let g=u.leftSibling,y=e.extractAtoms([e.offsetOf(u.leftSibling),e.offsetOf(i)]);[,...y]=y;let L=new mt("left...right",y,{leftDelim:s,rightDelim:a});return o.addChildrenAfter([L],g),e.position=e.offsetOf(L),e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0}u=u.leftSibling}if(o instanceof mt&&i.isLastSibling&&Id(o.leftDelim,a))return e.mathfield.snapshot(),o.isDirty=!0,o.rightDelim=a,e.position+=1,e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0;let c=e.offsetOf(i.firstSibling),d;for(d=e.position;d>=c;d--){let g=e.at(d);if(g instanceof mt&&(g.rightDelim==="?"||g.rightDelim===".")&&Id(g.leftDelim,a))break}let p=e.at(d);if(d>=c&&p instanceof mt)return e.mathfield.snapshot(),p.rightDelim=a,p.addChildren(e.extractAtoms([d,e.position]),p.parentBranch),e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0;if(o instanceof mt&&(o.rightDelim==="?"||o.rightDelim===".")&&Id(o.leftDelim,a))return e.mathfield.snapshot(),o.isDirty=!0,o.rightDelim=a,o.parent.addChildren(e.extractAtoms([e.position,e.offsetOf(i.lastSibling)]),o.parentBranch),e.position=e.offsetOf(o),e.contentDidChange({data:a,inputType:"insertText"}),e.mathfield.snapshot("insert-fence"),!0;let m=o.parent;return m instanceof mt&&(m.rightDelim==="?"||m.rightDelim===".")&&e.at(e.position).isLastSibling?(e.position=e.offsetOf(m),X0(e,a,r)):!1}return!1}function Id(e,t){return e?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(e)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(t):mc[e]===t:!0}function Cb(e,t){return t?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(t)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(e):Bu[t]===e:!0}Qt({undo:e=>(e.undo(),!0),redo:e=>(e.redo(),!0),scrollIntoView:e=>(e.scrollIntoView(),!0),scrollToStart:e=>(e.field.scroll(0,0),!0),scrollToEnd:e=>{let t=e.field.getBoundingClientRect();return e.field.scroll(t.left-window.scrollX,0),!0},toggleKeystrokeCaption:yM,toggleContextMenu:e=>{let t=e.toggleContextMenu();return t||e.model.announce("plonk"),t},plonk:e=>(e.model.announce("plonk"),!0),switchMode:(e,t,r,n)=>(e.switchMode(t,r,n),!0),insert:(e,t,r)=>e.insert(t,r),typedText:(e,t,r)=>(G0(e,t,r),!0),insertDecimalSeparator:e=>{let t=e.model;return t.mode==="math"&&globalThis.MathfieldElement.decimalSeparator===","&&t.at(Math.max(t.position,t.anchor)).isDigit()?(e.insert("{,}",{format:"latex"}),e.snapshot("insert-mord"),!0):(e.insert("."),!0)},commit:e=>{var t;return e.model.contentWillChange({inputType:"insertLineBreak"})&&((t=e.host)==null||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),e.model.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(e,t,r)=>{let n=e.getPrompts(),i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),o=0;for(;n.includes(i)&&o<100;){if(o===99)return console.error("could not find a unique ID after 100 tries"),!1;i="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(Math.random()*1e5).toString(36),o++}return e.insert(`\\placeholder[${t??i}]{}`,r),!0}});Qt({copyToClipboard:e=>(e.focus(),e.model.selectionIsCollapsed&&e.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||e.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"});Qt({cutToClipboard:e=>(e.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||e.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:e=>(e.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then(t=>{t&&e.model.contentWillChange({inputType:"insertFromPaste",data:t})?(e.stopCoalescingUndo(),e.stopRecording(),e.insert(t,{mode:e.model.mode})&&(Fs(e),e.startRecording(),e.snapshot("paste"),e.model.contentDidChange({inputType:"insertFromPaste"}),dt(e))):e.model.announce("plonk"),e.startRecording()}),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0});function J0(e){let[t,r]=Ut(e.selection);if(t=Eb(e,t,"backward"),r=Eb(e,r,"forward"),t===r){let n=e.at(t);if(n.type==="leftright")return e.setSelection(e.offsetOf(n.firstChild)-1,r);if(n.type==="first"&&(n.parent.type==="leftright"||n.parent.type==="surd"))return e.setSelection(t-1,e.offsetOf(n.parent.lastChild)+1);e.setSelection(t-1,r)}else e.setSelection(t,r);return!0}function Eb(e,t,r){var n,i,o;let a=e.at(t);if(!a)return t;let s=r==="forward"?1:-1;if(a.mode==="text"){for(;a&&!(a.mode!=="text"||!vs.test(a.value));)t+=s,a=e.at(t);return r==="backward"?t-1:t}if(a.mode==="latex"){if(/[a-zA-Z\*]/.test(a.value))if(r==="backward")for(;a&&a.mode==="latex"&&a.value!=="\\"&&/[a-zA-Z]/.test(a.value);)t+=s,a=e.at(t);else for(;a&&a.mode==="latex"&&/[a-zA-Z\*]/.test(a.value);)t+=s,a=e.at(t);else if(a.value==="{"){if(r==="forward"){for(;a&&a.mode==="latex"&&a.value!=="}";)t+=s,a=e.at(t);return t}return t-1}else if(a.value==="}"){if(r==="backward"){for(;a&&a.mode==="latex"&&a.value!=="{";)t+=s,a=e.at(t);return t-1}return t}return t-1}if(a.mode==="math"){if(a.isDigit()){for(;(n=e.at(t+s))!=null&&n.isDigit();)t+=s;return r==="backward"?t-1:t}if(a.style.variant||a.style.variantStyle){let l=(i=e.at(t))==null?void 0:i.style;for(;l&&l.variant===a.style.variant&&l.variantStyle===a.style.variantStyle;)l=(o=e.at(t+s))==null?void 0:o.style,t+=s;return r==="backward"?t-1:t}return t}return t}Qt({selectGroup:e=>{let t=J0(e);return t||e.announce("plonk"),t},selectAll:e=>e.setSelection(0,e.lastOffset),extendSelectionForward:e=>en(e,"forward",{extend:!0}),extendSelectionBackward:e=>en(e,"backward",{extend:!0}),extendToNextWord:e=>Ro(e,"forward",{extend:!0}),extendToPreviousWord:e=>Ro(e,"backward",{extend:!0}),extendSelectionUpward:e=>en(e,"upward",{extend:!0}),extendSelectionDownward:e=>en(e,"downward",{extend:!0}),extendToNextBoundary:e=>Ro(e,"forward",{extend:!0}),extendToPreviousBoundary:e=>Ro(e,"backward",{extend:!0}),extendToGroupStart:e=>{let t=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).firstSibling));return t||e.announce("plonk"),t},extendToGroupEnd:e=>{let t=e.setSelection(e.anchor,e.offsetOf(e.at(e.position).lastSibling));return t||e.announce("plonk"),t},extendToMathFieldStart:e=>{let t=e.setSelection(e.anchor,0);return t||e.announce("plonk"),t},extendToMathFieldEnd:e=>{let t=e.setSelection(e.anchor,e.lastOffset);return t||e.announce("plonk"),t}},{target:"model",changeSelection:!0});var $i=null,qa=0,qu=class _r{static start(t,r,n,i){var o;_r.element=t,(o=_r.controller)==null||o.abort(),_r.controller=new AbortController;let a={signal:_r.controller.signal};"PointerEvent"in window?(t.addEventListener("pointermove",n,a),t.addEventListener("pointerup",i,a),t.addEventListener("pointercancel",i,a),Y0(r)&&(_r.pointerId=r.pointerId,t.setPointerCapture(r.pointerId))):(window.addEventListener("mousemove",n,a),window.addEventListener("blur",i,a),window.addEventListener("mouseup",i,a))}static stop(){var t;(t=_r.controller)==null||t.abort(),_r.controller=void 0,typeof _r.pointerId=="number"&&(_r.element.releasePointerCapture(_r.pointerId),_r.pointerId=void 0)}};function Y0(e){return e!==null&&globalThis.PointerEvent!==void 0&&e instanceof PointerEvent}function Lb(e,t){var r;if(t.buttons>1)return;e.atomBoundsCache=new Map;let n=e,i,o=!1,a=!1,s="none",l=!1,u=!1,c=t.clientX,d=t.clientY,p=Date.now(),m=n.field,g=setInterval(()=>{l?m.scroll({top:0,left:m.scrollLeft-16}):u&&m.scroll({top:0,left:m.scrollLeft+16})},32);function y(){qu.stop(),o=!1,clearInterval(g),e.element.classList.remove("tracking"),t&&t.preventDefault()}function L(C){if(!n.hasFocus()){y();return}let v=C.clientX,k=C.clientY,I=Y0(C)&&C.pointerType==="touch"?20:5;if(Date.now()<p+500&&Math.abs(c-v)<I&&Math.abs(d-k)<I){C.preventDefault(),C.stopPropagation();return}let T=m.getBoundingClientRect();u=v>T.right,l=v<T.left;let R=i;Y0(C)&&(C.isPrimary||(R=mu(n,C.clientX,C.clientY,{bias:0})));let N=mu(n,v,k,{bias:v<=c?v===c?0:-1:1});R>=0&&N>=0&&(n.model.extendSelectionTo(R,N),dt(e)),a&&J0(n.model)}$i&&Math.abs($i.x-c)<5&&Math.abs($i.y-d)<5&&Date.now()<$i.time+500?(qa+=1,$i.time=p):($i={x:c,y:d,time:p},qa=1);let E=m.getBoundingClientRect();if(c>=E.left&&c<=E.right&&d>=E.top&&d<=E.bottom){if(e.flushInlineShortcutBuffer(),i=mu(e,c,d,{bias:0}),i!==e.model.anchor&&(e.defaultStyle={},e.styleBias="left"),i>=0){if(e.element.classList.add("tracking"),t.shiftKey){let C=e.model.selectionIsCollapsed;e.model.extendSelectionTo(e.model.anchor,i),gb(e.model)||C?s="all":s="selection"}else e.model.at(i).type==="placeholder"?(e.model.setSelection(i-1,i),s="selection"):((r=e.model.at(i).rightSibling)==null?void 0:r.type)==="placeholder"?(e.model.setSelection(i,i+1),s="selection"):(e.model.position=i,gb(e.model)?s="all":s="selection");t.detail===3||qa>2?(y(),(t.detail===3||qa===3)&&(e.model.selection={ranges:[[0,e.model.lastOffset]]},s="all")):o||(o=!0,qu.start(m,t,L,y),(t.detail===2||qa===2)&&(a=!0,J0(e.model),s="all"))}e.hasFocus()||(s="none",e.focus({preventScroll:!0}))}else $i=null;e.stopCoalescingUndo(),s!=="none"&&(e.model.selectionIsCollapsed&&(s="all"),dt(e)),t.preventDefault()}function kM(e,t,r){if(e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom)return 0;let n=e-(r.left+r.right)/2,i=t-(r.top+r.bottom)/2;return n*n+i*i}function I3(e,t,r,n,i){if(!r.id)return[1/0,null];if(t.has(r.id))return t.get(r.id);let o=Ls(e,r);if(!o)return[1/0,null];let a=[1/0,null];if(r.hasChildren&&!r.captureSelection&&n>=o.left&&n<=o.right)for(let s of r.children){let l=I3(e,t,s,n,i);l[0]<=a[0]&&(a=l)}return a[1]||(a=[kM(n,i,o),r]),t.set(r.id,a),a}function MM(e,t,r){let[,n]=I3(e,new Map,e.model.root,t,r);return n}function mu(e,t,r,n){var i;let o=e.field.querySelector(".ML__latex").getBoundingClientRect();if(!o)return 0;if(t>o.right||r>o.bottom+8)return e.model.lastOffset;if(t<o.left||r<o.top-8)return 0;n=n??{},n.bias=(i=n.bias)!=null?i:0;let a=MM(e,t,r),s=[],l=a;for(;l;)s.unshift(l),l=l.parent;for(let c of s)if(c.captureSelection){a=c;break}let u=e.model.offsetOf(a);if(u<0)return-1;if(a.leftSibling)if(n.bias===0&&a.type!=="placeholder"){let c=Ls(e,a);c&&t<(c.left+c.right)/2&&(u=e.model.offsetOf(a.leftSibling))}else n.bias<0&&(u=e.model.offsetOf(a.leftSibling));return u}var SM=class extends Ze{constructor(){super("math")}onPaste(e,t){if(!t||!e.model.contentWillChange({data:typeof t=="string"?t:null,dataTransfer:typeof t=="string"?null:t,inputType:"insertFromPaste"}))return!1;let r="",n="auto",i=typeof t!="string"?t.getData("application/json+mathlive"):"";if(i)try{let o=JSON.parse(i);if(o&&Array.isArray(o)){e.snapshot();let a=ai(o),{model:s}=e;s.selectionIsCollapsed||s.deleteAtoms(Ut(s.selection));let l=s.at(s.position);if(l.parent instanceof He){l.parentBranch;let u=[],c=[];a[0].type==="first"&&a.shift(),a[a.length-1].type==="first"&&a.pop();for(let g of a)g.type==="first"&&c.length>0?(u.push(c),c=[g]):c.push(g);c.length>0&&u.push(c);let d=Number(l.parentBranch[0]),p=Number(l.parentBranch[1]),m=l.parent.maxColumns;for(;l.parent.colCount-p<u.length&&l.parent.colCount<m;)l.parent.addColumn();l.parent.addChildrenAfter(u[0],l);for(let g=1;g<u.length;g++)p++,p>=m&&(p=0,l.parent.addRowAfter(d),d++),l.parent.setCell(d,p,u[g])}else l.parent.addChildrenAfter(a.filter(u=>u.type!=="first"),l);return s.position=s.offsetOf(a[a.length-1]),s.contentDidChange({inputType:"insertFromPaste"}),dt(e),!0}}catch{}if(i=typeof t!="string"?t.getData("application/json"):"",i&&globalThis.MathfieldElement.computeEngine)try{let o=JSON.parse(i);if(typeof o=="object"&&"latex"in o&&o.latex&&(r=o.latex),!r){let a=globalThis.MathfieldElement.computeEngine.box(o);a&&!a.has("Error")&&(r=a.latex)}r||(n="latex")}catch{}if(!r&&typeof t!="string"&&(r=t.getData("application/x-latex"),r&&(n="latex")),r||(r=typeof t=="string"?t:t.getData("text/plain")),r){let o;return[o,r]=Wh(r),n==="auto"&&o&&(n="latex"),e.stopCoalescingUndo(),e.stopRecording(),this.insert(e.model,r,{format:n})&&(e.startRecording(),e.snapshot("paste"),dt(e)),e.startRecording(),!0}return!1}insert(e,t,r){var n,i;let o=typeof t=="string"?t:(i=(n=globalThis.MathfieldElement.computeEngine)==null?void 0:n.box(t).latex)!=null?i:"";if(!r.silenceNotifications&&!e.contentWillChange({data:o,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:a}=e;r.silenceNotifications&&(e.silenceNotifications=!0);let s=e.silenceNotifications;e.silenceNotifications=!0;let l={"?":"\\placeholder{}","@":"\\placeholder{}"};l[0]=r.insertionMode==="replaceAll"?"":e.getValue(e.selection,"latex-unstyled"),r.insertionMode==="replaceSelection"?e.deleteAtoms(Ut(e.selection)):r.insertionMode==="replaceAll"?e.deleteAtoms():r.insertionMode==="insertBefore"?e.collapseSelection("backward"):r.insertionMode==="insertAfter"&&e.collapseSelection("forward"),!e.at(e.position).isLastSibling&&e.at(e.position+1).type==="placeholder"?e.deleteAtoms([e.position,e.position+1]):e.at(e.position).type==="placeholder"&&e.deleteAtoms([e.position-1,e.position]);let u=-1;l[0]?l["@"]=l[0]:typeof t=="string"&&/(^|[^\\])#@/.test(t)&&(u=CM(e),u>=0&&(l["@"]=e.getValue(u,e.position,"latex"))),l[0]||(l[0]=l["?"]);let c=!1,d=v=>(c=!0,l[v]),[p,m]=Ab(e,t,d,r);if(!m)return!1;let g=m.length===1&&m[0].type==="genfrac";g&&u>=0&&typeof e.mathfield.options.isImplicitFunction=="function"&&e.mathfield.options.isImplicitFunction(e.at(e.position).command)?(l["@"]=l["?"],c=!1,[p,m]=Ab(e,t,d,r)):u>=0&&e.deleteAtoms([u,e.position]);let{parent:y}=e.at(e.position),L=y.hasEmptyBranch("body");if(g&&p!=="latex"&&e.mathfield.options.removeExtraneousParentheses&&y instanceof mt&&y.leftDelim==="("&&L){let v=y.parent,k=y.parentBranch;v.removeChild(y),v.setChildren(m,k)}let E=e.at(e.position);E.parent.addChildrenAfter(m,E),p==="latex"&&typeof t=="string"&&(y==null?void 0:y.type)==="root"&&L&&!c&&(y.verbatimLatex=t),e.silenceNotifications=s;let C=m[m.length-1];if(r.selectionMode==="placeholder"){let v=m.flatMap(k=>[k,...k.children]).find(k=>k.type==="placeholder");if(v){let k=e.offsetOf(v);e.setSelection(k-1,k),e.announce("move")}else C&&(e.position=e.offsetOf(C))}else r.selectionMode==="before"||(r.selectionMode==="after"?C&&(e.position=e.offsetOf(C)):r.selectionMode==="item"&&e.setSelection(e.anchor,e.offsetOf(C)));return e.contentDidChange({data:o,inputType:"insertText"}),e.silenceNotifications=a,!0}};function Ab(e,t,r,n){var i;let o,a=[];if(typeof t!="string"||n.format==="math-json"){let s=globalThis.MathfieldElement.computeEngine;if(!s)return["math-json",[]];[o,t]=["latex",s.box(t).latex],a=Mr(t,{context:e.mathfield.context})}else typeof t=="string"&&n.format==="ascii-math"?([o,t]=N0(t,{format:"ascii-math",inlineShortcuts:e.mathfield.options.inlineShortcuts}),a=Mr(t,{context:e.mathfield.context}),o!=="latex"&&e.mathfield.options.removeExtraneousParentheses&&(a=a.map(s=>Hu(s)))):(n.format==="auto"||(i=n.format)!=null&&i.startsWith("latex"))&&(n.format==="auto"&&([o,t]=N0(t,{format:"auto",inlineShortcuts:e.mathfield.options.inlineShortcuts})),n.format==="latex"&&([,t]=Wh(t)),a=Mr(t,{context:e.mathfield.context,args:r}),n.format!=="latex"&&e.mathfield.options.removeExtraneousParentheses&&(a=a.map(s=>Hu(s))));return Yn(a,n.style),[o??"latex",a]}function Hu(e){var t;if(e instanceof mt&&e.leftDelim!=="("&&e.rightDelim===")"){let r=(t=e.body)==null?void 0:t.filter(n=>n.type!=="first");if((r==null?void 0:r.length)===1&&r[0].type==="genfrac")return r[0]}for(let r of e.branches)e.hasEmptyBranch(r)||e.setChildren(e.branch(r).map(n=>Hu(n)),r);return e instanceof He&&e.forEachCell((r,n,i)=>{e.setCell(n,i,r.map(o=>Hu(o)))}),e}function CM(e){let t=e.at(e.position);if(t.mode==="text"){for(;!t.isFirstSibling&&t.mode==="text";)t=t.leftSibling;return e.offsetOf(t)}let r=t,n=!1;if(t.type==="mclose"){let i=Bu[t.value];for(;!t.isFirstSibling&&!(t.type==="mopen"&&t.value===i);)t=t.leftSibling;t.isFirstSibling||(t=t.leftSibling),n=!0}else t.type==="leftright"&&(t=t.leftSibling,n=!0);if(n)for(;!t.isFirstSibling&&(t.isFunction||Db(t));)t=t.leftSibling;else{let i=[];for(;!t.isFirstSibling&&(Db(t)||i.length>0);)t.type==="mclose"&&i.unshift(t.value),t.type==="mopen"&&i.length>0&&t.value===Bu[i[0]]&&i.shift(),t=t.leftSibling}return r===t?-1:e.offsetOf(t)}function Db(e){return e.isDigit()?!0:e.type&&/^(mord|surd|subsup|leftright|mop|mclose)$/.test(e.type)?e.type!=="extensible-symbol":!1}new SM;var EM=class extends Ze{constructor(){super("text")}onPaste(e,t){if(!t)return!1;let r=typeof t=="string"?t:t.getData("text/plain");return r&&e.model.contentWillChange({inputType:"insertFromPaste",data:r})?(e.stopCoalescingUndo(),e.stopRecording(),this.insert(e.model,r)&&(e.model.contentDidChange({inputType:"insertFromPaste"}),e.startRecording(),e.snapshot("paste"),dt(e)),e.startRecording(),!0):!1}insert(e,t,r={}){if(!e.contentWillChange({data:t,inputType:"insertText"}))return!1;r.insertionMode||(r.insertionMode="replaceSelection"),r.selectionMode||(r.selectionMode="placeholder"),r.format||(r.format="auto");let{silenceNotifications:n}=e;r.silenceNotifications&&(e.silenceNotifications=!0);let i=e.silenceNotifications;e.silenceNotifications=!0,r.insertionMode==="replaceSelection"&&!e.selectionIsCollapsed?e.deleteAtoms(Ut(e.selection)):r.insertionMode==="replaceAll"?(e.root.setChildren([],"body"),e.position=0):r.insertionMode==="insertBefore"?e.collapseSelection("backward"):r.insertionMode==="insertAfter"&&e.collapseSelection("forward");let o=LM(t,e.mathfield.context);if(Yn(o,r.style),!o)return!1;let a=e.at(e.position),s=a.parent.addChildrenAfter(o,a);return e.silenceNotifications=i,r.selectionMode==="before"||(r.selectionMode==="item"?e.setSelection(e.anchor,e.offsetOf(s)):s&&(e.position=e.offsetOf(s))),e.contentDidChange({data:t,inputType:"insertText"}),e.silenceNotifications=n,!0}};function LM(e,t){return e=e.replace(/\\/g,"\\textbackslash "),e=e.replace(/#/g,"\\#"),e=e.replace(/\$/g,"\\$"),e=e.replace(/%/g,"\\%"),e=e.replace(/&/g,"\\&"),e=e.replace(/_/g,"\\_"),e=e.replace(/{/g,"\\textbraceleft "),e=e.replace(/}/g,"\\textbraceright "),e=e.replace(/lbrace/g,"\\textbraceleft "),e=e.replace(/rbrace/g,"\\textbraceright "),e=e.replace(/\^/g,"\\textasciicircum "),e=e.replace(/~/g,"\\textasciitilde "),e=e.replace(/£/g,"\\textsterling "),Mr(e,{context:t,parseMode:"text"})}new EM;function Zn(e){return{value:e.model.getValue(),selectionIsCollapsed:e.model.selectionIsCollapsed,canUndo:e.canUndo(),canRedo:e.canRedo(),style:AM(e.model),mode:e.model.mode}}function AM(e){var t;if(e.selectionIsCollapsed)return(t=e.at(e.position))==null?void 0:t.style;let r=e.getAtoms(e.selection);if(r.length===0)return{};let n=M({},r[0].style);for(let i of r)for(let[o,a]of Object.entries(i.style))n[o]!==a&&delete n[o];return n}var rt=4,Zt=20,yt=2*(Zt+rt),Gl=(e,t)=>`
  <line x1="${e+Zt}" y1="${t+Zt}" 
    x2="${e>t?e+Zt:7*Zt+10*rt}" 
    y2="${e<t?t+Zt:7*Zt+10*rt}"/>
  <svg id="plus" viewBox="0 0 40 40" x="${e}" y="${t}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>
  </svg>`,Bb=(e,t)=>`
  <line x1="${e+Zt}" y1="${t+Zt}" 
    x2="${e>t?e+Zt:7*Zt+10*rt}" 
    y2="${e<t?t+Zt:7*Zt+10*rt}"/>
  <svg id="minus" viewBox="0 0 40 40" x="${e}" y="${t}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>
  </svg>`,Xl=(e,t,r)=>`
  <svg id="arrow" viewBox="0 0 40 40" x="${e}" y="${t}" width="40" height="40">
    <circle class="cls-2" cx="20" cy="20" r="20"/>
    <g transform="rotate(${r})" transform-origin="20 20">
      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>
    </g>  
  </svg>`,DM=`
<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
viewBox=
"-2 -2 ${8*Zt+10*rt+5} ${8*Zt+10*rt+5}">
  <rect 
      class="MLEP__array-insert-background rows"
      x="0" 
      y="${yt+rt}" 
      height="${3*yt}" 
      width="${yt}" 
      rx="${yt/2}"/>
      <rect 
      class="MLEP__array-insert-background columns"
      x="${yt+rt}" 
      y="0" 
      height="${yt}" 
      width="${3*yt}" 
      rx="${yt/2}"/>
  <g data-command='"moveDown"'>
  ${Xl(2*(rt+yt),2*rt+3*yt,0)}
  </g>
  <g data-command='"moveUp"'>
  ${Xl(2*(rt+yt),2*rt+yt,180)}
  </g>
  <g data-command='"moveToNextWord"'>
  ${Xl(2*rt+3*yt,2*(rt+yt),-90)}
  </g>
  <g data-command='"moveToPreviousWord"'>
  ${Xl(2*rt+yt,2*(rt+yt),90)}
  </g>
  <g>

  <g data-command='"addColumnBefore"'>
  ${Gl(2*rt+yt,rt)}
  </g>
  <g data-command='"removeColumn"'>
  ${Bb(2*rt+2*yt,rt)}
  </g>
  <g data-command='"addColumnAfter"'>
  ${Gl(2*rt+3*yt,rt)}
  </g>
  <g data-command='"addRowBefore"'>
  ${Gl(rt,2*rt+yt)}
  </g>
  <g data-command='"removeRow"'>
  ${Bb(rt,2*rt+2*yt)}
  </g>
  <g data-command='"addRowAfter"'>
    ${Gl(rt,2*rt+3*yt)}
  </g>
</svg>`,BM=e=>`
<svg id="matrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","matrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,TM=e=>`
<svg id="pmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
data-command='["setEnvironment","pmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>
  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/></svg>`,N3=e=>`
<svg id="Bmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","Bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,FM=e=>`
<svg id="bmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","bmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m6,4h-3v16h3"/>
  <path class="cls-2" d="m22,4h3v16h-3"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
</svg>`,OM=e=>`
<svg id="vmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>
  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>
</svg>`,PM=e=>`
<svg id="Vmatrix" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" 
  data-command='["setEnvironment","Vmatrix"]'>
  <rect class="cls-1" width="28" height="24"/>
  <circle cx="10" cy="8" r="1"/>
  <circle cx="14" cy="12" r="1"/>
  <circle cx="18" cy="16" r="1"/>
  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>
  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>
  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>
  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>
</svg>`,IM=e=>`
<svg id="cases" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","cases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>
  <circle cx="13" cy="8" r="1"/>
  <circle cx="13" cy="16" r="1"/>
  <circle cx="21" cy="8" r="1"/>
  <circle cx="21" cy="16" r="1"/>
</svg>`,NM=e=>`
<svg id="rcases" class="${e}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" 
  data-command='["setEnvironment","rcases"]'>
  <rect class="cls-1" width="28" height="24"/>
  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>
  <circle cx="15" cy="8" r="1"/>
  <circle cx="15" cy="16" r="1"/>
  <circle cx="7" cy="8" r="1"/>
  <circle cx="7" cy="16" r="1"/>
</svg>`,Nd={matrix:BM,pmatrix:TM,bmatrix:FM,Bmatrix:N3,vmatrix:OM,Vmatrix:PM},$d={cases:IM,rcases:NM,Bmatrix:N3};function $M(e){var t,r;let n=(t=e.model.parentEnvironment)==null?void 0:t.array;if(!n)return;let i=0;n.forEach(m=>{(!i||m.length>i)&&(i=m.length)});let o=document.getElementById("mathlive-environment-popover");o||(o=_c("mathlive-environment-popover"),ui("environment-popover"),ui("core"),o.setAttribute("aria-hidden","true"));let a,s=o.querySelector(".MLEP__environment-controls");s?a=s:(a=document.createElement("div"),o.innerHTML="",o.appendChild(a)),a.className="MLEP__environment-controls",a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.boxSizing="border-box",a.innerHTML=DM;let l=[],u="",c=e.model.parentEnvironment.environmentName;if(D2(c)){let m=zM(c);u=Nd[m]("active");let g=Nd,y=Su(g,[df(m)]);l=Object.values(y).map(L=>L("inactive"))}else if(kw(c)){let m=KM(c);u=$d[m]("active");let g=$d,y=Su(g,[df(m)]);l=Object.values(y).map(L=>L("inactive"))}else Mw(c)&&(u=Nd.matrix("active"),l=Object.values($d).map(m=>m("inactive")));let d=document.createElement("div");d.className="MLEP__environment-delimiter-controls",d.style.display="flex",d.style.flexDirection="column",d.innerHTML=`
  <div class='MLEP__array-delimiter-options'>
  ${u}
  ${l.join("")}
  </div>`,u&&a.appendChild(d),a.querySelectorAll("[data-command]").forEach(m=>{let g=m.dataset.command,y=g;try{y=JSON.parse(g)}catch{}m.addEventListener("mousedown",L=>L.preventDefault()),y&&m.addEventListener("click",()=>e.executeCommand(y))});let p=(r=e.field)==null?void 0:r.getBoundingClientRect();p&&(o.style.top=`${window.scrollY+(p.top-o.clientHeight-15)}px`,o.style.left=`${p.left+20}px`,o.classList.add("is-visible"))}function Z0(){let e=document.getElementById("mathlive-environment-popover");e==null||e.classList.remove("is-visible")}function RM(){document.getElementById("mathlive-environment-popover")&&(Qh("mathlive-environment-popover"),ci("environment-popover"),ci("core"))}function Jl(e){if(!e.hasFocus())return;let t=!1;if(e.model.mode==="math"){let r=e.model.parentEnvironment;if(r!=null&&r.array&&ww(r.environmentName)){let n=e.options.environmentPopoverPolicy;t=n==="auto"||n==="on"}}t?$M(e):Z0()}function zM(e){return e.replace("*","")}function KM(e){return e==="dcases"?"cases":e}function $3(e){let t=getComputedStyle(e).direction;return t==="ltr"||t==="rtl"?t:"ltr"}function Tb(e,t,r){return t==="left"||t==="leading"&&r==="ltr"||t==="trailing"&&r==="rtl"?e.left:e.right}function Rd(e,t,r,n){return r==="middle"?e-t/2:r==="start"&&n==="rtl"||r==="end"&&n==="ltr"||r==="top"||r==="right"?Math.max(0,e-t):e}function qM(e,t,r,n){return r==="middle"?e-t/2:r==="start"&&n==="ltr"||r==="end"&&n==="rtl"||r==="top"||r==="right"?e:e-t}function HM(e,t){var r,n,i;let o=(r=$3(e))!=null?r:"ltr";e.style.position="fixed",e.style.left="",e.style.top="",e.style.right="",e.style.bottom="",e.style.height="",e.style.width="";let a=e.getBoundingClientRect(),s=Number.isFinite(t.maxHeight)?Math.min(t.maxHeight,window.innerHeight):window.innerHeight,l=Math.min(s,(n=t.height)!=null?n:a.height),u=Rd(t.location.y,l,t.verticalPos,o);u+l>window.innerHeight-8&&(t.alternateLocation?(u=Rd(t.alternateLocation.y,l,t.verticalPos,o),u+l>window.innerHeight-8&&(u=void 0)):u=void 0),Number.isFinite(u)||(u=Math.max(8,window.innerHeight-8-l),8+l>window.innerHeight-8&&(e.style.bottom="8px")),l=Math.min(u+l,window.innerHeight-8)-u;let c=Number.isFinite(t.maxWidth)?Math.min(t.maxWidth,window.innerWidth):window.innerWidth,d=Math.min(c,(i=t.width)!=null?i:a.width),p=Rd(t.location.x,d,t.horizontalPos,o);p+d>window.innerWidth-8&&(t.alternateLocation?(p=qM(t.alternateLocation.x,d,t.verticalPos,o),p+d>window.innerWidth-8&&(p=void 0)):p=void 0),Number.isFinite(p)||(p=Math.max(8,window.innerWidth-8-d),8+d>window.innerWidth-8&&(e.style.right="8px")),d=Math.min(p+d,window.innerWidth-8)-p,o==="rtl"?e.style.right=`${Math.ceil(window.innerWidth-p-d).toString()}px`:e.style.left=`${Math.ceil(p).toString()}px`,e.style.top=`${Math.ceil(u).toString()}px`,l!==a.height&&(e.style.height=`${Math.ceil(l).toString()}px`),d!==a.width&&(e.style.width=`${Math.ceil(d).toString()}px`)}function VM(e,t){return Math.hypot(t.x-e.x,t.y-e.y)}function Ko(e){return"submenu"in e}function bn(e){return"type"in e&&e.type==="command"||"onMenuSelect"in e||"id"in e}function Q0(e){return"type"in e&&e.type==="divider"}function zd(e){return"type"in e&&e.type==="heading"}var Fb={};function Kd(e){let t=Fb[e];if(!t){let r;switch(e){case"checkmark":r=`<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>
      </span>`;break;case"trailing-chevron":r='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":r='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(r){let n=document.createElement("template");n.innerHTML=r,Fb[e]=n,t=n}}if(t){if("content"in t)return t.content.cloneNode(!0);let r=document.createElement("svg");return r.innerHTML=t.innerHTML,r}}var Ob=80,R3=class{constructor(e,t){this._className="",this._element=null;var r;this.parentMenu=t,this._declaration=e,Object.freeze(this._declaration),Ko(e)?(this.type="submenu",this.submenu=new z3(e.submenu,{parentMenu:t,submenuClass:e.submenuClass,columnCount:e.columnCount})):this.type=(r=e.type)!=null?r:"command",this.hasCheck=bn(e)&&e.checked!==void 0}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var e,t;(e=this._abortController)==null||e.abort(),this._abortController=void 0,(t=this._element)==null||t.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var e;return(e=this._label)!=null?e:""}set label(e){e===void 0&&(e=""),e!==this._label&&(this._label=e,this.dirty=!0)}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.dirty=!0)}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.element&&(e?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(e){this._checked=e,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(e){e!==this._tooltip&&(this._tooltip=e,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){e!==this._ariaLabel&&(this._ariaLabel=e,this.dirty=!0)}get active(){var e,t;return(t=(e=this.element)==null?void 0:e.classList.contains("active"))!=null?t:!1}set active(e){this.element&&this.element.classList.toggle("active",e)}updateState(e){var t,r,n;let i=this._declaration;if(Q0(i)){this.enabled=!1,this.checked=!1;return}zd(i)&&(this.enabled=!1,this.checked=!1,this.visible=!0),bn(i)&&(this.checked=(t=Ri(i.checked,e))!=null?t:!1),(bn(i)||Ko(i))&&(this.enabled=(r=Ri(i.enabled,e))!=null?r:!0,this.visible=(n=Ri(i.visible,e))!=null?n:!0,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(e),this.submenu.visible||(this.visible=!1))),(bn(i)||zd(i)||Ko(i))&&(this.label=Ri(i.label,e),this._className=Ri(i.class,e),this.tooltip=Ri(i.tooltip,e),this.ariaLabel=Ri(i.ariaLabel,e)),this._element&&this.updateElement()}set dirty(e){e&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var e;if(!this.visible||!this.element)return;let t=this.element;t.textContent="",t.className="",t.className=(e=this._className)!=null?e:"",this.enabled?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true"),this.checked===!0?(t.setAttribute("aria-checked","true"),t.append(Kd("checkmark"))):this.checked==="mixed"?(t.setAttribute("aria-checked","mixed"),t.append(Kd("mixedmark"))):t.removeAttribute("aria-checked"),this.ariaLabel&&t.setAttribute("aria-label",this.ariaLabel);let r=document.createElement("span");if(r.className=this.parentMenu.hasCheck?"label indent":"label",this.type==="heading"&&r.classList.add("heading"),r.innerHTML=this.label,t.append(r),this._tooltip&&t.setAttribute("data-tooltip",this._tooltip),bn(this._declaration)&&this._declaration.keyboardShortcut){let n=document.createElement("kbd");n.innerHTML=Yh(this._declaration.keyboardShortcut),t.append(n)}this.type==="submenu"&&t.append(Kd("trailing-chevron"))}get element(){if(this._element)return this._element;if(Q0(this._declaration)){let r=document.createElement("li");return r.setAttribute("part","menu-divider"),r.setAttribute("role","divider"),this._element=r,r}let e=document.createElement("li");this._element=e,(bn(this._declaration)||zd(this._declaration)||Ko(this._declaration))&&e.setAttribute("part","menu-item"),e.setAttribute("tabindex","-1"),this.hasCheck?e.setAttribute("role","menuitemcheckbox"):e.setAttribute("role","menuitem"),this.type==="submenu"&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"));let t=this.abortController.signal;return e.addEventListener("pointerenter",this,{signal:t}),e.addEventListener("pointerleave",this,{signal:t}),e.addEventListener("pointerup",this,{signal:t}),e.addEventListener("click",this,{signal:t}),this._element}dispatchSelect(){var e;if(!bn(this._declaration))return;let t=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(t)&&typeof this._declaration.onMenuSelect=="function"&&this._declaration.onMenuSelect({target:(e=this.parentMenu.host)!=null?e:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(e){var t;if(!(!this.visible||!this.enabled)){if(e.type==="click"){this.rootMenu.state==="modal"&&this.select(),e.stopPropagation(),e.preventDefault();return}if(e.type==="pointerenter"){let r=e;this.rootMenu.cancelDelayedOperation(),this.parentMenu.isSubmenuOpen&&(t=this.parentMenu.activeMenuItem)!=null&&t.movingTowardSubmenu(r)?this.rootMenu.scheduleOperation(()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()}):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0}));return}if(e.type==="pointerleave"){this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null);return}if(e.type==="pointerup"){this.rootMenu.state!=="modal"&&this.select(),e.stopPropagation(),e.preventDefault();return}}}select(){if(this.rootMenu.cancelDelayedOperation(),this.type==="submenu"){this.openSubmenu();return}this.active=!1,setTimeout(()=>{this.active=!0,setTimeout(()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()},Ob)},Ob)}openSubmenu(e){var t;if(this.type!=="submenu"||!this.element)return;if((t=e==null?void 0:e.withDelay)!=null&&t){this.rootMenu.scheduleOperation(()=>this.openSubmenu());return}let r=this.element.getBoundingClientRect(),n=$3(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:Tb(r,"trailing",n),y:r.top-4},alternateLocation:{x:Tb(r,"leading",n),y:r.top-4}})}movingTowardSubmenu(e){if(!this.element||this.type!=="submenu")return!1;let t=this.rootMenu.lastMoveEvent;if(!t)return!1;let r=e.timeStamp-t.timeStamp;if(r>500)return!1;let n=e.clientX-t.clientX;if(UM(n,t.clientY-e.clientY,r)<=.2)return!1;let i="right";if(this.submenu.element){let o=this.submenu.element.getBoundingClientRect(),a=this.element.getBoundingClientRect();o.left<a.left+a.width/2&&(i="left")}return i==="right"?n>0:n<0}};function UM(e,t,r){return Math.hypot(e,t)/r}function Ri(e,t){return e===void 0||typeof e!="function"?e:(t!=null||(t={alt:!1,control:!1,shift:!1,meta:!1}),e(t))}var z3=class Xa{constructor(t,r){this._element=null,this._activeMenuItem=null,this._dirty=!0;var n,i;this.parentMenu=(n=r==null?void 0:r.parentMenu)!=null?n:null,this._submenuClass=r==null?void 0:r.submenuClass,this.columnCount=(i=r==null?void 0:r.columnCount)!=null?i:1,this.isSubmenuOpen=!1,this.menuItems=t}get children(){return Object.freeze([...this._menuItems])}set menuItems(t){let r=this.parentMenu;this.dispose(),this.parentMenu=r,t=[...t],this._menuItems=t.map(n=>n.onCreate?n.onCreate(n,this):new R3(n,this)),this.hasCheck=void 0,this.dirty=!0}dispose(){var t;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),(t=this._menuItems)==null||t.forEach(r=>r.dispose()),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(t){if(t.type==="wheel"&&this._element){let r=t;this._element.scrollBy(0,r.deltaY),t.stopPropagation()}}dispatchEvent(t){return this.rootMenu.dispatchEvent(t)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(t){var r,n,i;this._menuItems.forEach(u=>u.updateState(t));let o=this.hasCheck;this.hasCheck=this._menuItems.some(u=>u.visible&&u.hasCheck),this.hasCheck!==o&&this._menuItems.forEach(u=>u.updateState(t));let a,s=0;for(let u of this._menuItems)u.type==="heading"?(a&&s===0&&(a.visible=!1),a=u,s=0):u.type==="divider"&&a?(a.visible=s>0,a=void 0,s=0):a&&u.visible&&(s+=1);a&&(a.visible=s>0);let l=!0;for(let u of this._menuItems)u.type==="divider"?(u.visible=!l,l=!0):u.visible&&(l=!1);(r=this.activeMenuItem)!=null&&r.visible||(this.activeMenuItem=null),!((n=this.activeMenuItem)!=null&&n.enabled)&&((i=this.activeMenuItem)==null?void 0:i.type)==="submenu"&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some(t=>t.type!=="divider"&&t.visible&&t.enabled)}get visible(){return this.updateIfDirty(),this._menuItems.some(t=>t.type!=="divider"&&t.visible)}set dirty(t){this._dirty!==t&&t&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var t;if(this._element){this._element.textContent="";for(let{element:r,visible:n}of this._menuItems)r&&n&&this._element.append(r);(t=this._element.querySelector("li:first-of-type"))==null||t.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let t=document.createElement("menu");t.setAttribute("role","menu"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-orientation","vertical"),t.setAttribute("part","ui-menu-container"),this._submenuClass&&t.classList.add(this._submenuClass),t.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let r=this._abortController.signal;return t.addEventListener("focus",this,{signal:r}),t.addEventListener("wheel",this,{passive:!0,signal:r}),this._element=t,this.updateElement(),t}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(t){var r,n,i,o;if(this.rootMenu.cancelDelayedOperation(),t!==this._activeMenuItem){if(this.activeMenuItem){let a=this.activeMenuItem;a.active=!1,(r=a.submenu)==null||r.hide()}if(!((n=t==null?void 0:t.visible)==null||n)){this._activeMenuItem=null;return}this._activeMenuItem=t,t&&(t.active=!0)}t?(i=t.element)==null||i.focus({preventScroll:!0}):(o=this._element)==null||o.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let t=0,r=!1,n=this._menuItems;for(;!r&&t<=n.length-1;){let i=n[t];r=i.type!=="divider"&&i.visible&&i.enabled,t+=1}return r?n[t-1]:null}get lastMenuItem(){this.updateIfDirty();let t=this._menuItems,r=t.length-1,n=!1;for(;!n&&r>=0;){let i=t[r];n=i.type!=="divider"&&i.visible&&i.enabled,r-=1}return n?t[r+1]:null}nextMenuItem(t){if(t===0)return this._activeMenuItem;if(!this._activeMenuItem)return t>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let r=this._menuItems.indexOf(this.firstMenuItem),n=this._menuItems.indexOf(this.lastMenuItem),i=this._menuItems.indexOf(this._activeMenuItem),o=1;for(;i>=r&&i<=n;){i+=t>0?1:-1;let a=this._menuItems[i];if(!a)break;if(a.visible&&a.enabled){if(o===Math.abs(t))return this._menuItems[i];o+=1}}return t>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(t){this.updateIfDirty();let r=this._menuItems.filter(n=>n.visible&&n.enabled).indexOf(t);return r<0?-1:r%this.columnCount}static get collator(){return Xa._collator||(Xa._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),Xa._collator}findMenuItem(t){var r;this.updateIfDirty();let n=this._menuItems.filter(s=>s.type!=="divider"&&s.visible&&s.enabled);if(n.length===0)return null;let i=Math.max(...n.map(s=>s.label.length))-t.length;if(i<0)return null;let o=null,a=0;for(;a<i&&!o;)o=(r=n.find(s=>Xa.collator.compare(t,s.label.substring(a,t.length))===0))!=null?r:null,a++;return o}show(t){return!this.visible||!t.container?!1:(this.updateElement(),t.container.appendChild(this.element),hf()&&(this.element.popover="manual",this.element.showPopover()),t.location&&HM(this.element,{location:t.location,alternateLocation:t.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),Pb(),this.element.focus({preventScroll:!0}),Ib(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var t,r,n,i,o;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),hf()&&(t=this._element)!=null&&t.popover&&this.element.hidePopover(),Pb(),(n=(r=this.parentMenu)==null?void 0:r.element)==null||n.focus(),(o=(i=this._element)==null?void 0:i.parentNode)==null||o.removeChild(this._element),Ib()}set openSubmenu(t){var r,n,i,o;let a=t!==null;((r=this.activeMenuItem)==null?void 0:r.type)==="submenu"&&((n=this.activeMenuItem.element)==null||n.setAttribute("aria-expanded",a.toString())),(o=(i=this.activeMenuItem)==null?void 0:i.element)==null||o.classList.toggle("is-submenu-open",a),this.isSubmenuOpen=a}};function Pb(){document.addEventListener("focusin",ei,!0),document.addEventListener("focusout",ei,!0),document.addEventListener("focus",ei,!0),document.addEventListener("blur",ei,!0)}function ei(e){e.stopImmediatePropagation(),e.preventDefault()}function Ib(){document.removeEventListener("focusin",ei,!0),document.removeEventListener("focusout",ei,!0),document.removeEventListener("focus",ei,!0),document.removeEventListener("blur",ei,!0)}var K3=class q3 extends z3{constructor(t,r){var n;super(t),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=(n=r==null?void 0:r.host)!=null?n:null,this.isDynamic=t.some(H3),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(t){dk(this._modifiers,t)||(this._modifiers=t,this.dirty=!0)}get activeSubmenu(){let t=this;for(;t.isSubmenuOpen;)t=t.activeMenuItem.submenu;return t}set dirty(t){this._updating||this._dirty!==t&&(this._dirty=!0,t&&setTimeout(()=>{this.updateState(this.modifiers),this.updateElement()}))}updateState(t){this._updating=!0,this.modifiers=t??this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(t){this.isDynamic&&(this.modifiers=Ji(t)),t.stopImmediatePropagation()}handleKeydownEvent(t){var r,n,i;if(t.key==="Tab"||t.key==="Escape"){this.hide();return}this.isDynamic&&(this.modifiers=Ji(t));let o=!0,a=this.activeSubmenu,s=a.activeMenuItem;switch(t.key){case" ":case"Space":case"Return":case"Enter":s==null||s.select(Ji(t));break;case"ArrowRight":if((s==null?void 0:s.type)==="submenu")s.select(Ji(t)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(!s)a.activeMenuItem=a.firstMenuItem;else{let l=(r=a.getMenuItemColumn(s))!=null?r:-1;if(l>=0&&l<((n=a.columnCount)!=null?n:1)-1){let u=a.nextMenuItem(1);u&&(a.activeMenuItem=u)}}break;case"ArrowLeft":if(a===this.rootMenu)s||(a.activeMenuItem=a.firstMenuItem);else if((s&&(i=a.getMenuItemColumn(s))!=null?i:-1)<=0||!s){a.hide();let l=a.parentMenu.activeMenuItem;if(l){let{element:u}=l;u==null||u.focus(),u==null||u.classList.remove("is-submenu-open")}}else{let l=a.nextMenuItem(-1);l&&(a.activeMenuItem=l)}break;case"ArrowDown":a.activeMenuItem=a.nextMenuItem(a.columnCount);break;case"ArrowUp":a.activeMenuItem=a.nextMenuItem(-a.columnCount);break;case"Home":case"PageUp":a.activeMenuItem=a.firstMenuItem;break;case"End":case"PageDown":a.activeMenuItem=a.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}break;default:if(yc(t)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=t.key;let l=a.findMenuItem(this.typingBuffer);l&&(a.activeMenuItem=l),this.typingBufferResetTimer=setTimeout(()=>{this.typingBuffer=""},500)}else o=!1}o&&(t.preventDefault(),t.stopPropagation())}handleEvent(t){if(t.type==="keydown")this.handleKeydownEvent(t);else if(t.type==="keyup")this.handleKeyupEvent(t);else if(t.type==="pointermove")this.lastMoveEvent=t;else if(t.type==="pointerup"&&t.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":this.state==="modal"&&this.hide();else if(t.type==="contextmenu"){t.preventDefault(),t.stopPropagation();return}super.handleEvent(t)}dispatchEvent(t){return this._host?this._host.dispatchEvent(t):!0}get host(){return this._host}get scrim(){return Fr.element}connectScrim(t){let r=this.scrim;r.addEventListener("pointerup",this),r.addEventListener("contextmenu",this),r.addEventListener("keydown",this),r.addEventListener("keyup",this),r.addEventListener("pointermove",this),Fr.open({root:t,onDismiss:()=>this.hide()})}disconnectScrim(){let t=this.scrim;t.removeEventListener("pointerup",this),t.removeEventListener("contextmenu",this),t.removeEventListener("keydown",this),t.removeEventListener("keyup",this),t.removeEventListener("pointermove",this),Fr.state==="open"&&Fr.scrim.close()}get rootMenu(){return this}show(t){return this._onDismiss=t==null?void 0:t.onDismiss,t!=null&&t.modifiers&&(this.modifiers=t.modifiers),this.updateState(),this.connectScrim(t==null?void 0:t.target),super.show(B(M({},t),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),this.state!==void 0&&(this.state!=="closed"&&(this.activeMenuItem=null,Fr.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(t){this.cancelDelayedOperation();let r=q3.SUBMENU_DELAY;if(r<=0){t();return}this.hysteresisTimer=setTimeout(()=>{this.hysteresisTimer=0,t()},r)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};K3.SUBMENU_DELAY=120;var Nb=K3;function H3(e){return Q0(e)?!1:typeof e.label=="function"||typeof e.ariaLabel=="function"||typeof e.tooltip=="function"||(bn(e)||Ko(e))&&(typeof e.enabled=="function"||typeof e.visible=="function")||bn(e)&&typeof e.checked=="function"?!0:Ko(e)?e.submenu.some(H3):!1}var Vu=class{};Vu.DELAY=300,Vu.MAX_DISTANCE=10;function WM(e){return new Promise((t,r)=>{let n=Ou(e);n||t(!1);let i=n,o=setTimeout(()=>{a.abort(),t(VM(i,n)<Vu.MAX_DISTANCE)},Vu.DELAY),a=new AbortController,s=a.signal;for(let l of["pointermove","pointerup","pointercancel"])window.addEventListener(l,u=>{if(u.type==="pointerup"||u.type==="pointercancel")clearTimeout(o),a.abort(),t(!1);else if(u.type==="pointermove"){let c=Ou(u);c&&(i=c)}},{passive:!0,signal:s})})}async function $b(e,t,r){if(e.defaultPrevented)return!1;if(e.type==="contextmenu"){let n=e;if(r.show({target:t,location:Ou(n),modifiers:Ji(n)}))return e.preventDefault(),e.stopPropagation(),!0}if(e.type==="keydown"){let n=e;if(n.code==="ContextMenu"||n.code==="F10"&&n.shiftKey){let i=t==null?void 0:t.getBoundingClientRect();if(Rb(t)&&i&&r.show({target:t,location:{x:Math.ceil(i.left+i.width/2),y:Math.ceil(i.top+i.height/2)},modifiers:Ji(n)}))return e.preventDefault(),e.stopPropagation(),!0}}if(e.type==="pointerdown"&&e.pointerType!=="mouse"&&e.button===0){let n=e.target;for(;n&&t!==n;)n=n.parentNode;if(!n||!r.visible)return!1;let i=Ou(e);if(await WM(e))return r.state!=="closed"||!Rb(t)?!1:(r.show({target:t,location:i}),!0)}return!1}function Rb(e){return e.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}var zb={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};H(Object.keys(zb),"{body:auto}",{createAtom:e=>new pc(B(M({},e),{body:te(e.args[0]),accentChar:zb[e.command.slice(1)]}))});H(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:e=>{let t=Q4(te(e.args[0]));return new pc(B(M({},e),{body:te(e.args[0]),svgAccent:e.command.slice(1)+(t.length>5?"4":["1","1","2","2","3","3"][t.length])}))}});H(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:e=>new pc(B(M({},e),{body:te(e.args[0]),svgAccent:"overarc"}))});H(["underarc","underparen"],"{body:auto}",{createAtom:e=>new Er(B(M({},e),{body:te(e.args[0]),svgBelow:"underarc"}))});H("utilde","{body:auto}",{createAtom:e=>{let t=te(e.args[0]),r=Q4(t),n="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new Er(B(M({},e),{body:t,svgBelow:n,boxType:Es(t)}))}});H("^","{:string}",{createAtom:e=>{var t;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&(t={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[e.args[0]])!=null?t:"^"}))}});H("`","{:string}",{createAtom:e=>{var t;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&(t={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[e.args[0]])!=null?t:"`"}))}});H("'","{:string}",{createAtom:e=>{var t;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&(t={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[e.args[0]])!=null?t:"'"}))}});H('"',"{:string}",{createAtom:e=>{var t,r;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:(t=e.args)!=null&&t[0]?(r={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[e.args[0]])!=null?r:'"'+e.args[0]:'"'}))}});H(".","{:string}",{createAtom:e=>{var t,r;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:(t=e.args)!=null&&t[0]?(r={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[e.args[0]])!=null?r:"."+e.args[0]:"."}))}});H("=","{:string}",{createAtom:e=>{var t,r;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:(t=e.args)!=null&&t[0]?(r={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[e.args[0]])!=null?r:"="+e.args[0]:"="}))}});H("~","{:string}",{createAtom:e=>{var t;return new q(B(M({type:"mord"},e),{isFunction:!1,limits:"adjacent",value:e.args[0]&&(t={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[e.args[0]])!=null?t:"´"}))}});H("c","{:string}",{createAtom:e=>{var t;return new q(B(M({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&(t={c:"ç",C:"Ç"}[e.args[0]])!=null?t:""}))}});H("enclose","{notation:string}[style:string]{body:auto}",{createAtom:e=>{var t,r;let n=e.args,i={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:(t=e.style)!=null?t:{}};if(n[1]){let a=n[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let s of a){let l=s.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)i.strokeWidth=l[1],i.strokeStyle=l[2],i.strokeColor=l[3];else{let u=s.match(/\s*([a-z]*)\s*=\s*"(.*)"/);u&&(u[1]==="mathbackground"?i.backgroundcolor=u[2]:u[1]==="mathcolor"?i.strokeColor=u[2]:u[1]==="padding"?i.padding=u[2]:u[1]==="shadow"&&(i.shadow=u[2]))}}i.strokeStyle==="dashed"?i.svgStrokeStyle="5,5":i.strokeStyle==="dotted"&&(i.svgStrokeStyle="1,5")}i.borderStyle=`${i.strokeWidth} ${i.strokeStyle} ${i.strokeColor}`;let o={};return((r=n[0])!=null?r:"").split(/[, ]/).filter(a=>a.length>0).forEach(a=>{o[a.toLowerCase()]=!0}),new As(e.command,te(n[2]),o,i)}});H("cancel","{body:auto}",{createAtom:e=>{var t;return new As(e.command,te(e.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(t=e.style)!=null?t:{}})}});H("bcancel","{body:auto}",{createAtom:e=>{var t;return new As(e.command,te(e.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(t=e.style)!=null?t:{}})}});H("xcancel","{body:auto}",{createAtom:e=>{var t;return new As(e.command,te(e.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:(t=e.style)!=null?t:{}})}});H(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:e=>{var t;return new Er(B(M({},e),{body:te((t=e.args)==null?void 0:t[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:e.command.slice(1)}))}});H("overbrace","{:auto}",{createAtom:e=>new Er(B(M({},e),{body:te(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:e.command.slice(1)}))});H(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:e=>new Er(B(M({},e),{body:te(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:e.command.slice(1)}))});H(["underbrace"],"{:auto}",{createAtom:e=>new Er(B(M({},e),{body:te(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:e.command.slice(1)}))});H(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:e=>{var t,r,n,i,o;return new Er(B(M({},e),{svgBody:e.command.slice(1),above:((r=te((t=e.args)==null?void 0:t[1]))==null?void 0:r.length)===0?void 0:te((n=e.args)==null?void 0:n[1]),below:(o=te((i=e.args)==null?void 0:i[0]))!=null?o:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(e,t)=>e.command+(e.hasEmptyBranch("below")?"":`[${e.belowToLatex(t)}]`)+`{${e.aboveToLatex(t)}}${e.supsubToLatex(t)}`});H(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:e=>new po(e.command.slice(1),B(M({},e),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))});H(["liminf","limsup"],"",{ifMode:"math",createAtom:e=>new po({"\\liminf":"lim inf","\\limsup":"lim sup"}[e.command],B(M({},e),{limits:"over-under",variant:"main"}))});H(["lim","mod"],"",{ifMode:"math",createAtom:e=>new po(e.command.slice(1),B(M({},e),{limits:"over-under",variant:"main"}))});H(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:e=>new po(e.command.slice(1),B(M({},e),{limits:"over-under",isFunction:!0,variant:"main"}))});H(["ang"],"{:math}",{ifMode:"math",createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),serialize:(e,t)=>`\\ang{${e.bodyToLatex(t)}}`,render:(e,t)=>{let r=e.createBox(t),n=r.caret;r.caret=void 0;let i=new Z("°",{style:B(M({},e.style),{variant:"normal",variantStyle:"up"})});return new Z([r,i],{type:"inner",isSelected:e.isSelected,caret:n})}});H("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:e=>new l3(B(M({},e),{body:te(e.args[1]),index:e.args[0]?te(e.args[0]):void 0}))});H(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:e=>{let t=M({},e),r=e.command,n=e.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":t.hasBarLine=!0;break;case"\\atopfrac":t.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":t.hasBarLine=!1,t.leftDelim="(",t.rightDelim=")";break;case"\\cfrac":t.hasBarLine=!0,t.continuousFraction=!0;break}switch(r){case"\\dfrac":case"\\dbinom":t.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":t.mathstyleName="textstyle";break}return new co(n[0]?te(n[0]):[new Rr],n[1]?te(n[1]):[new Rr],t)},serialize:(e,t)=>{let r=e.aboveToLatex(t),n=e.belowToLatex(t);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(n)?`${e.command}${r}${n}`:et(e.command,r,n)}});H(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:e=>{let t=M({},e),r=e.args;return t.hasBarLine=!0,t.continuousFraction=!0,r[0]==="r"&&(t.align="right"),r[0]==="l"&&(t.align="left"),new co(r[1]?te(r[1]):[new Rr],r[2]?te(r[2]):[new Rr],t)},serialize:(e,t)=>{let r=e.aboveToLatex(t),n=e.belowToLatex(t);return et(e.command,r,n)}});H(["brace","brack"],"",{infix:!0,createAtom:e=>new co(te(e.args[0]),te(e.args[1]),B(M({},e),{hasBarLine:!1,leftDelim:e.command==="\\brace"?"\\lbrace":"\\lbrack",rightDelim:e.command==="\\brace"?"\\rbrace":"\\rbrack"})),serialize:(e,t)=>Le([e.aboveToLatex(t),e.command,e.belowToLatex(t)])});H(["over","atop","choose"],"",{infix:!0,createAtom:e=>{let t,r,n=e.args;return e.command==="\\choose"&&(t="(",r=")"),new co(te(n[0]),te(n[1]),B(M({},e),{hasBarLine:e.command==="\\over",leftDelim:t,rightDelim:r}))},serialize:(e,t)=>Le([e.aboveToLatex(t),e.command,e.belowToLatex(t)])});H(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:e=>{var t,r;let n=e.args;return new co(te(n[0]),te(n[1]),B(M({},e),{leftDelim:(t=n[2])!=null?t:".",rightDelim:(r=n[3])!=null?r:".",hasBarLine:!1}))},serialize:(e,t)=>`${e.aboveToLatex(t)} ${e.command}${e.leftDelim}${e.rightDelim}${e.belowToLatex(t)}`});H("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:e=>new co(te(e.args[0]),te(e.args[1]),B(M({},e),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"}))});H(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:e=>new Gh({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[e.command.slice(1)],B(M({},e),{limits:"auto",variant:"main"}))});H("smallint","",{ifMode:"math",createAtom:e=>new po("∫",B(M({},e),{limits:"adjacent",variant:"main"}))});var Kb={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};H(Object.keys(Kb),"",{ifMode:"math",createAtom:e=>{let t=e.command,r=Kb[t.slice(1)];return new Gh(r,B(M({},e),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[r]}))}});H(["Re","Im"],"",{ifMode:"math",createAtom:e=>new po({"\\Re":"ℜ","\\Im":"ℑ"}[e.command],B(M({},e),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))});H("middle","{:delim}",{ifMode:"math",createAtom:e=>{var t;return new X2(B(M({},e),{delim:(t=e.args[0])!=null?t:"|",size:1}))}});H("the","{:value}",{createAtom:e=>new q(B(M({},e),{captureSelection:!0,verbatimLatex:null})),render:(e,t)=>{var r;let n=new Ie({parent:t},e.style),i="";e.isSelected&&(i+=" ML__selected");let o=n.evaluate(e.args[0]);return new Z(((r=Ot(o))!=null?r:"").split("").map(a=>new Z(a,{type:"ord",classes:i,mode:e.mode,isSelected:e.isSelected,style:M({variant:"main"},e.style)})),{type:"lift",style:e.style,caret:e.caret,isSelected:e.isSelected,classes:i}).wrap(n)},serialize:e=>{var t;return`\\the${(t=Ot(e.args[0]))!=null?t:"\\relax"}`}});H("mathtip","{:auto}{:math}",{createAtom:e=>new Xh(B(M({},e),{body:te(e.args[0]),tooltip:te(e.args[1]),content:"math"})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\texttip{${e.bodyToLatex(t)}}{${q.serialize([e.tooltip],B(M({},t),{defaultMode:"math"}))}}`});H("texttip","{:auto}{:text}",{createAtom:e=>new Xh(B(M({},e),{body:te(e.args[0]),tooltip:te(e.args[1]),content:"text"})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\texttip{${e.bodyToLatex(t)}}{${q.serialize([e.tooltip],B(M({},t),{defaultMode:"text"}))}}`});H("error","{:math}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),serialize:(e,t)=>`\\error{${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__error"})});H("ensuremath","{:math}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),serialize:(e,t)=>`${e.command}{${e.bodyToLatex(B(M({},t),{defaultMode:"math"}))}}`});H("color","{:value}",{applyStyle:(e,t,r,n)=>{var i,o;return B(M({},e),{verbatimColor:(i=Ot(r[0]))!=null?i:void 0,color:n.toColor((o=r[0])!=null?o:{string:"red"})})}});H("textcolor","{:value}{content:auto*}",{applyStyle:(e,t,r,n)=>{var i,o;return B(M({},e),{verbatimColor:(i=Ot(r[0]))!=null?i:void 0,color:n.toColor((o=r[0])!=null?o:{string:"red"})})}});H("boxed","{content:math}",{createAtom:e=>new di(B(M({},e),{body:te(e.args[0]),framecolor:{string:"black"}}))});H("colorbox","{:value}{:text*}",{applyStyle:(e,t,r,n)=>{var i,o;return B(M({},e),{verbatimBackgroundColor:(i=Ot(r[0]))!=null?i:void 0,backgroundColor:n.toBackgroundColor((o=r[0])!=null?o:{string:"yellow"})})}});H("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:e=>{var t,r;return new di(B(M({},e),{body:te(e.args[2]),framecolor:(t=e.args[0])!=null?t:{string:"blue"},backgroundcolor:(r=e.args[1])!=null?r:{string:"yellow"}}))},serialize:(e,t)=>{var r,n;return t.skipStyles?e.bodyToLatex(B(M({},t),{defaultMode:"text"})):et(e.command,(r=Ot(e.framecolor))!=null?r:"",(n=Ot(e.backgroundcolor))!=null?n:"",e.bodyToLatex(B(M({},t),{defaultMode:"text"})))}});H("bbox","[:bbox]{body:auto}",{createAtom:e=>{var t;let r=e.args[0],n=te(e.args[1]);return r?new di(B(M({},e),{body:n,padding:r.padding,border:r.border,backgroundcolor:(t=r.backgroundcolor)!=null?t:void 0})):new di(B(M({},e),{body:n}))},serialize:(e,t)=>{var r,n;if(t.skipStyles)return e.bodyToLatex(t);let i=e.command;if(Number.isFinite(e.padding)||e.border!==void 0||e.backgroundcolor!==void 0){let o=[];e.padding&&o.push((r=Ot(e.padding))!=null?r:""),e.border&&o.push(`border: ${e.border}`),e.backgroundcolor&&o.push((n=Ot(e.backgroundcolor))!=null?n:""),i+=`[${o.join(",")}]`}return et(i,e.bodyToLatex(t))}});H(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),render:(e,t)=>{let r=new Ie({parent:t,mathstyle:e.command.slice(1)},e.style),n=q.createBox(r,e.body,{type:"lift"});return e.caret&&(n.caret=e.caret),e.bind(t,n)},serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`{${Le([e.command,e.bodyToLatex(t)])}}`});H(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(e,t)=>B(M({},e),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[t]})});H("fontseries","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var n;return B(M({},e),{fontSeries:(n=r[0])!=null?n:"auto"})}});H("fontshape","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var n;return B(M({},e),{fontShape:(n=r[0])!=null?n:"auto"})}});H("fontfamily","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var n;return B(M({},e),{fontFamily:(n=r[0])!=null?n:"roman"})}});H("selectfont","",{ifMode:"text",applyStyle:e=>e});H("bf","{:rest*}",{applyStyle:e=>B(M({},e),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})});H(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variantStyle:"bold"})});H("bfseries","{:rest*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontSeries:"b"})});H("mdseries","{:rest*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontSeries:"m"})});H("upshape","{:rest*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"n"})});H("slshape","{:rest*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"sl"})});H("scshape","{:rest*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"sc"})});H("textbf","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontSeries:"b"})});H("textmd","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontSeries:"m"})});H("textup","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"n"})});H("textnormal","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"n",fontSeries:"m"})});H("textsl","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"sl"})});H("textit","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"it"})});H("textsc","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontShape:"sc"})});H("textrm","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontFamily:"roman"})});H("textsf","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontFamily:"sans-serif"})});H("texttt","{:text*}",{applyMode:"text",applyStyle:e=>B(M({},e),{fontFamily:"monospace"})});H("mathbf","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"normal",variantStyle:"bold"})});H("mathit","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"main",variantStyle:"italic"})});H("mathnormal","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"normal",variantStyle:"italic"})});H("mathbfit","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"main",variantStyle:"bolditalic"})});H("mathrm","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"normal",variantStyle:"up"})});H("mathsf","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"sans-serif",variantStyle:"up"})});H("mathtt","{:math*}",{applyMode:"math",applyStyle:e=>B(M({},e),{variant:"monospace",variantStyle:"up"})});H("it","{:rest*}",{applyStyle:e=>B(M({},e),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})});H("rmfamily","{:rest*}",{applyStyle:e=>B(M({},e),{fontFamily:"roman"})});H("sffamily","{:rest*}",{applyStyle:e=>B(M({},e),{fontFamily:"sans-serif"})});H("ttfamily","{:rest*}",{applyStyle:e=>B(M({},e),{fontFamily:"monospace"})});H(["Bbb","mathbb"],"{:math*}",{applyStyle:e=>B(M({},e),{variant:"double-struck",variantStyle:bc(e.variantStyle)})});H(["frak","mathfrak"],"{:math*}",{applyStyle:e=>B(M({},e),{variant:"fraktur",variantStyle:bc(e.variantStyle)})});H("mathcal","{:math*}",{applyStyle:e=>B(M({},e),{variant:"calligraphic",variantStyle:bc(e.variantStyle)})});H("mathscr","{:math*}",{applyStyle:e=>B(M({},e),{variant:"script",variantStyle:bc(e.variantStyle)})});H("mbox","{:text}",{ifMode:"math",createAtom:e=>new q(B(M({},e),{type:"mord",body:te(e.args[0]),mode:"math"})),serialize:(e,t)=>et("\\mbox",e.bodyToLatex(B(M({},t),{defaultMode:"text"})))});H("text","{:text}",{ifMode:"math",applyMode:"text"});H(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),serialize:(e,t)=>!e.args[0]||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`,render:(e,t)=>{var r;return e.createBox(t,{classes:(r=e.args[0])!=null?r:""})}});H(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),serialize:(e,t)=>{var r;return!((r=e.args)!=null&&r[0])||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let n=e.createBox(t);return n.cssId=(r=e.args[0])!=null?r:"",n}});H("htmlData","{data:string}{content:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),serialize:(e,t)=>{var r;return!((r=e.args)!=null&&r[0])||t.skipStyles?e.bodyToLatex(t):`\\htmlData{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let n=e.createBox(t);return n.htmlData=(r=e.args[0])!=null?r:"",n}});H(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),serialize:(e,t)=>{var r;return!((r=e.args)!=null&&r[0])||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let n=e.createBox(t);return n.htmlStyle=(r=e.args[0])!=null?r:"",n}});H("href","{url:string}{content:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),render:(e,t)=>{var r;let n=e.createBox(t),i=(r=e.args[0])!=null?r:"";return i&&(n.htmlData=`href=${i}`),n}});H("em","{:rest}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`{\\em ${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__emph",boxType:"lift"})});H("emph","{:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[1])})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\emph{${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__emph",boxType:"lift"})});var qb={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};H(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:e=>{var t;return new Y2(B(M({},e),{delim:(t=e.args[0])!=null?t:".",size:qb[e.command].size,delimType:qb[e.command].mclass}))}});H(["hspace","hspace*"],"{width:value}",{createAtom:e=>{var t;return new Bs(B(M({},e),{width:(t=e.args[0])!=null?t:{dimension:0}}))}});H(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:e=>{var t;return new Bs(B(M({},e),{width:(t=e.args[0])!=null?t:{dimension:0}}))}});H("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:e=>new q(e),render:(e,t)=>{let r=0,n=t.mathstyle.id;(n===hc||n===Wi)&&(r=1),(n===jo||n===ur)&&(r=2),(n===Xi||n===qt)&&(r=3);let i=te(e.args[r]);return q.createBox(t,i)},serialize:(e,t)=>`\\mathchoice{${q.serialize(e.args[0],t)}}{${q.serialize(e.args[1],t)}}{${q.serialize(e.args[2],t)}}{${q.serialize(e.args[3],t)}}`});H("mathop","{:auto}",{createAtom:e=>new q(B(M({},e),{type:"mop",body:te(e.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(e,t)=>{var r;let n=q.createBox(t,e.body);if(e.superscript||e.subscript){let i=(r=e.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&t.isDisplayStyle?e.attachLimits(t,{base:n}):e.attachSupsub(t,{base:n})}return new Z(e.bind(t,n),{type:"op",isSelected:e.isSelected,classes:"ML__op-group"})},serialize:(e,t)=>{let r=[et(e.command,e.bodyToLatex(t))];return e.explicitSubsupPlacement&&(e.subsupPlacement==="over-under"&&r.push("\\limits"),e.subsupPlacement==="adjacent"&&r.push("\\nolimits"),e.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(e.supsubToLatex(t)),Le(r)}});H(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:e=>new q(B(M({},e),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e.command],body:te(e.args[0])}))});H(["operatorname","operatorname*"],"{operator:math}",{createAtom:e=>{let t=te(e.args[0]).map(r=>{var n;return r.type!=="first"&&(r.type="mord",r.value=(n={"∗":"*","−":"-"}[r.value])!=null?n:r.value,r.isFunction=!1,!r.style.variant&&!r.style.variantStyle&&(r.style.variant="main",r.style.variantStyle="up")),r});return new q(B(M({},e),{type:"mop",body:t,isFunction:!0,limits:e.command==="\\operatorname"?"adjacent":"over-under"}))},render:(e,t)=>{var r;let n=q.createBox(t,e.body);if(e.superscript||e.subscript){let i=(r=e.subsupPlacement)!=null?r:"auto";n=i==="over-under"||i==="auto"&&t.isDisplayStyle?e.attachLimits(t,{base:n}):e.attachSupsub(t,{base:n})}return e.caret&&(n.caret=e.caret),new Z(e.bind(t,n),{type:"op",isSelected:e.isSelected,classes:"ML__op-group"})},serialize:(e,t)=>{let r=[et(e.command,e.bodyToLatex(t))];return e.explicitSubsupPlacement&&(e.subsupPlacement==="over-under"&&r.push("\\limits"),e.subsupPlacement==="adjacent"&&r.push("\\nolimits"),e.subsupPlacement==="auto"&&r.push("\\displaylimits")),r.push(e.supsubToLatex(t)),Le(r)}});H(["char","unicode"],"{charcode:value}",{createAtom:e=>new q(B(M({},e),{type:e.mode==="text"?"text":"mord"})),serialize:e=>{var t;return`${e.command}${Ot((t=e.args[0])!=null?t:{number:10067,base:"hexadecimal"})}`},render:(e,t)=>{let r=t.evaluate(e.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),e.value=String.fromCodePoint(r.number),e.createBox(t)}});H("rule","[raise:value]{width:value}{thickness:value}",{createAtom:e=>new q(e),render:(e,t)=>{var r,n,i;let o=new Ie({parent:t,mathstyle:"textstyle"},e.style),a=o.toEm((r=e.args[0])!=null?r:{dimension:0}),s=o.toEm((n=e.args[1])!=null?n:{dimension:10}),l=o.toEm((i=e.args[2])!=null?i:{dimension:10}),u=new Z(null,{classes:"ML__rule",type:"ord"});return u.width=s,u.height=l+a,u.depth=-a,u.setStyle("border-right-width",s,"em"),u.setStyle("border-top-width",l,"em"),u.setStyle("border-color",e.style.color),u.setStyle("vertical-align",a,"em"),e.isSelected&&u.setStyle("opacity","50%"),e.bind(o,u),e.caret&&(u.caret=e.caret),u.wrap(t)},serialize:e=>`\\rule${e.args[0]?`[${Ot(e.args[0])}]`:""}{${Ot(e.args[1])}}{${Ot(e.args[2])}}`});H(["overline","underline"],"{:auto}",{createAtom:e=>new q(B(M({},e),{body:te(e.args[0])})),render:(e,t)=>{let r=e.command.substring(1),n=new Ie({parent:t,mathstyle:"cramp"},e.style),i=q.createBox(n,e.body);if(!i)return null;let o=n.metrics.defaultRuleThickness/n.scalingFactor,a=new Z(null,{classes:r+"-line"});a.height=o,a.maxFontSize=o*1.125*n.scalingFactor;let s;return r==="overline"?s=new _t({shift:0,children:[{box:i},3*o,{box:a},o]}):s=new _t({top:i.height,children:[o,{box:a},3*o,{box:i}]}),e.caret&&(s.caret=e.caret),new Z(s,{classes:r,type:"ignore"})}});H("overset","{:auto}{base:auto}",{createAtom:e=>{let t=te(e.args[1]);return new Er(B(M({},e),{above:te(e.args[0]),body:t,skipBoundary:!1,boxType:Es(t)}))},serialize:(e,t)=>et(e.command,e.aboveToLatex(t),e.bodyToLatex(t))});H("underset","{:auto}{base:auto}",{createAtom:e=>{let t=te(e.args[1]);return new Er(B(M({},e),{below:te(e.args[0]),body:t,skipBoundary:!1,boxType:Es(t)}))},serialize:(e,t)=>et(e.command,e.belowToLatex(t),e.bodyToLatex(t))});H("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:e=>{let t=te(e.args[2]);return new Er(B(M({},e),{above:te(e.args[0]),below:te(e.args[1]),body:t,skipBoundary:!1,boxType:Es(t)}))},serialize:(e,t)=>et(e.command,e.belowToLatex(t),e.bodyToLatex(t))});H(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:e=>new Er(B(M({},e),{body:te(e.args[2]),above:te(e.args[1]),below:te(e.args[0]),skipBoundary:!1,boxType:e.command==="\\stackrel"?"rel":"bin"})),serialize:(e,t)=>et(e.command,e.aboveToLatex(t),e.bodyToLatex(t))});H("smash","[:string]{:auto}",{createAtom:e=>{var t,r,n,i;return new Ds(B(M({},e),{body:te(e.args[1]),smashHeight:(r=(t=e.args[0])==null?void 0:t.includes("t"))!=null?r:!0,smashDepth:(i=(n=e.args[0])==null?void 0:n.includes("b"))!=null?i:!0}))}});H(["vphantom"],"{:auto}",{createAtom:e=>new Ds(B(M({},e),{body:te(e.args[0]),isInvisible:!0,smashWidth:!0}))});H(["hphantom"],"{:auto}",{createAtom:e=>new Ds(B(M({},e),{body:te(e.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))});H(["phantom"],"{:auto}",{createAtom:e=>new Ds(B(M({},e),{body:te(e.args[0]),isInvisible:!0}))});H("not","{:math}",{createAtom:e=>{let t=te(e.args[0]);return t.length===0?new q(B(M({},e),{type:"mrel",value:""})):new q(B(M({},e),{body:[new ho(B(M({},e),{body:"",align:"right"})),...t],captureSelection:!0}))},serialize:(e,t)=>{let r=e.args[0],n=r&&typeof r=="object"&&"group"in r;return e.value!==""?n?`\\not{${q.serialize(r.group,t)}}`:`\\not${q.serialize(r,t)}`:n?"\\not{}":"\\not"},render:(e,t)=>{if(e.value)return e.createBox(t);let r=e.args[0]&&typeof e.args[0]=="object"&&"group"in e.args[0]?"ord":Es(te(e.args[0])),n=q.createBox(t,e.body,{type:r});return e.caret&&(n.caret=e.caret),e.bind(t,n)}});H(["ne","neq"],"",{createAtom:e=>new q(B(M({},e),{type:"mrel",body:[new ho(B(M({},e),{body:"",align:"right",boxType:"rel"})),new q(B(M({},e),{value:"="}))],captureSelection:!0})),serialize:e=>e.command});H("rlap","{:auto}",{createAtom:e=>new ho(B(M({},e),{body:te(e.args[0]),align:"right"}))});H("llap","{:auto}",{createAtom:e=>new ho(B(M({},e),{body:te(e.args[0]),align:"left"}))});H("mathrlap","{:math}",{createAtom:e=>new ho(B(M({},e),{body:te(e.args[0]),align:"right"}))});H("mathllap","{:math}",{createAtom:e=>new ho(B(M({},e),{body:te(e.args[0]),align:"left"}))});H("raisebox","{:value}{:text}",{createAtom:e=>{var t;return new di(B(M({},e),{body:te(e.args[1]),padding:{dimension:0},offset:(t=e.args[0])!=null?t:{dimension:0}}))},serialize:(e,t)=>{var r;return et("\\raisebox",(r=Ot(e.offset))!=null?r:"0pt",e.bodyToLatex(t))}});H("raise","{:value}{:auto}",{createAtom:e=>{var t;return new di(B(M({},e),{body:te(e.args[1]),padding:{dimension:0},offset:(t=e.args[0])!=null?t:{dimension:0}}))},serialize:(e,t)=>{var r;return et("\\raise",(r=Ot(e.offset))!=null?r:"0pt",e.bodyToLatex(t))}});H("lower","{:value}{:auto}",{createAtom:e=>{var t;return new di(B(M({},e),{body:te(e.args[1]),padding:{dimension:0},offset:(t=jr(e.args[0],-1))!=null?t:{dimension:0}}))},serialize:(e,t)=>{var r,n;return et("\\lower",(n=Ot(jr((r=e.offset)!=null?r:{dimension:0},-1)))!=null?n:"0pt",e.bodyToLatex(t))}});Bt("0123456789/@.?!");Z4(65,90);Z4(97,122);Bt([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]);Bt([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]);Bt([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]);Bt([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");Bt([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]);Bt([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);Bt([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");Bt([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");Bt([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");Bt([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]);Bt([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");Bt([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");Bt([["\\wp",8472],["\\aleph",8501]]);Bt([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");Bt([["\\ ",160],["~",160]],"space");H(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:e=>new Bs(e)});H("space","",{createAtom:e=>new Bs(e)});Bt([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");Bt([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");Bt([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var V3="<mo>&#x2061;</mo>",Uu="<mo>&#8290;</mo>";function fu(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xe(e,t){return!e||!t.generateID?"":` extid="${e}"`}function jM(e,t,r){var n,i,o,a,s,l,u,c;let d=!1;t=t??e.atoms.length;let p="",m="",g=e.atoms[e.index],y=(n=g.style)==null?void 0:n.variant,L=(i=g.style)==null?void 0:i.variantStyle,E="";if(g.value&&(y||L)){let v=(o=C0(g.value,y,L))!=null?o:g.value;if(v!==g.value)return e.index+=1,p=`<mi${Xe(g.id,r)}>${v}</mi>`,tn(p,e,r)||(e.mathML+=p,e.lastType="mi"),!0;E=(a={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(L??"")+(y??"")])!=null?a:"",E&&(E=` mathvariant="${E}"`)}let C={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if(g.command==="!")return e.index+=1,p="<mo>!</mo>",tn(p,e,r)||(e.mathML+=p,e.lastType="mo"),!0;if(C[g.command]){e.index+=1;let v=`<mi${Xe(g.id,r)}${E}>${C[g.command]}</mi>`;return(e.lastType==="mi"||e.lastType==="mn"||e.lastType==="mtext"||e.lastType==="fence")&&(v=Uu+v),tn(v,e,r)||(e.mathML+=v,e.lastType="mi"),!0}if(g.command==="\\operatorname")m=Jo(g.body),e.index+=1;else if(y||L)for(;e.index<t&&(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&y===((l=(s=g.style)==null?void 0:s.variant)!=null?l:"")&&L===((c=(u=g.style)==null?void 0:u.variantStyle)!=null?c:"");)m+=Jo([g]),e.index+=1,g=e.atoms[e.index];else(g.type==="mord"||g.type==="macro")&&!g.isDigit()&&(m+=Jo([g]),e.index+=1);if(m.length>0){d=!0,p=`<mi${E}>${m}</mi>`;let v=e.lastType;p.endsWith(">f</mi>")||p.endsWith(">g</mi>")?(p+=V3,e.lastType="applyfunction"):e.lastType=/^<mo>(.*)<\/mo>$/.test(p)?"mo":"mi",tn(p,e,r)||((v==="mi"||v==="mn"||v==="mtext"||v==="fence")&&(p=Uu+p),e.mathML+=p)}return d}function U3(e){return e.index<e.atoms.length&&e.atoms[e.index].superscript&&e.atoms[e.index].type==="subsup"}function W3(e){let t=-1,r=e.index,n=!1,i=!1;for(;r<e.atoms.length&&!n&&!i;){let o=e.atoms[r];n=!o.isDigit(),i=!n&&o.superscript!==void 0,r++}return i&&(t=r-1),t}function tn(e,t,r){var n;let i=t.atoms[t.index-1];if(!i)return!1;if(!i.superscript&&!i.subscript)if(((n=t.atoms[t.index])==null?void 0:n.type)==="subsup")i=t.atoms[t.index],t.index+=1;else return!1;let o=t.lastType;t.lastType="";let a=ze(i.superscript,r);t.lastType="";let s=ze(i.subscript,r);if(t.lastType=o,!a&&!s)return!1;let l="";return a&&s?l=`<msubsup>${e}${s}${a}</msubsup>`:a?l=`<msup>${e}${a}</msup>`:s&&(l=`<msub>${e}${s}</msub>`),t.mathML+=l,t.lastType="",!0}function GM(e,t,r){t=t??e.atoms.length;let n=e.index,i="",o=W3(e);for(o>=0&&o<t&&(t=o);e.index<t&&e.atoms[e.index].mode==="text";)i+=e.atoms[e.index].value?e.atoms[e.index].value:" ",e.index+=1;return i.length>0?(i=`<mtext ${Xe(e.atoms[n].id,r)}>${i}</mtext>`,o<0&&U3(e)&&(o=e.index,e.index+=1),tn(i,e,r)||(e.mathML+=i,e.lastType="mtext"),!0):!1}function XM(e,t,r){t=t??e.atoms.length;let n=e.index,i="",o=W3(e);for(o>=0&&o<t&&(t=o);e.index<t&&e.atoms[e.index].isDigit();)i+=e.atoms[e.index].asDigit(),e.index+=1;return i.length<=0?!1:(i="<mn"+Xe(e.atoms[n].id,r)+">"+i+"</mn>",o<0&&U3(e)&&(o=e.index,e.index+=1),tn(i,e,r)||(e.mathML+=i,e.lastType="mn"),!0)}function JM(e,t,r){let n=!1;t=t??e.atoms.length;let i="",o="";if(e.index<t&&e.atoms[e.index].type==="mopen"){let a=!1,s=0,l=e.index,u=-1,c=l+1;for(;c<t&&!a;)e.atoms[c].type==="mopen"?s+=1:e.atoms[c].type==="mclose"&&(s-=1),s===-1&&(a=!0,u=c),c+=1;a&&(i="<mrow>",i+=io(e.atoms[l],r),i+=ze(e.atoms,r,l+1,u),i+=io(e.atoms[u],r),i+="</mrow>",e.index=u+1,(e.lastType==="mi"||e.lastType==="mn"||e.lastType==="mfrac"||e.lastType==="fence")&&(e.mathML+=Uu),tn(i,e,r)&&(n=!0,e.lastType="",i=""),o="fence")}return i.length>0&&(n=!0,e.mathML+=i,e.lastType=o),n}function YM(e,t,r){let n=!1;t=t??e.atoms.length;let i="",o="",a=e.atoms[e.index];if(!a)return!1;let s={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(s[a.command]){e.index+=1;let l=`<mo${Xe(a.id,r)}>${s[a.command]}</mo>`;return tn(l,e,r)||(e.mathML+=l,e.lastType="mo"),!0}if(e.index<t&&(a.type==="mbin"||a.type==="mrel"))i+=eh(e.atoms[e.index],r),e.index+=1,o="mo";else if(e.index<t&&(a.type==="mop"||a.type==="operator"||a.type==="extensible-symbol")){if(a.subsupPlacement==="over-under"&&(a.superscript||a.subscript)){let l=io(a,r);return a.superscript&&a.subscript?(i+="<munderover>"+l,i+=ze(a.subscript,r),i+=ze(a.superscript,r),i+="</munderover>"):a.superscript?(i+="<mover>"+l,i+=ze(a.superscript,r),i+="</mover>"):a.subscript&&(i+="<munder>"+l,i+=ze(a.subscript,r),i+="</munder>"),e.mathML+=i,e.lastType="mo",e.index+=1,!0}{let l=e.atoms[e.index],u=l.value==="\\operatorname",c=u?'<mi class="MathML-Unit"'+Xe(l.id,r)+">"+Jo(l.value)+"</mi>":io(l,r);i+=c,!u&&!/^<mo>(.*)<\/mo>$/.test(c)?(i+=V3,o="applyfunction"):o=u?"mi":"mo"}(e.lastType==="mi"||e.lastType==="mn")&&!/^<mo>(.*)<\/mo>$/.test(i)&&(i=Uu+i),e.index+=1}return i.length>0&&(n=!0,tn(i,e,r)||(e.mathML+=i,e.lastType=o)),n}function ze(e,t,r,n){t!=null||(t={});let i={atoms:[],index:r??0,mathML:"",lastType:""};if(typeof e=="number"||typeof e=="boolean")i.mathML=e.toString();else if(typeof e=="string")i.mathML=e;else if(e instanceof q)i.mathML=eh(e,t);else if(Array.isArray(e)){i.atoms=e;let o=0;for(n=n||(e?e.length:0);i.index<n;)if(GM(i,n,t)||XM(i,n,t)||jM(i,n,t)||YM(i,n,t)||JM(i,n,t))o+=1;else if(i.index<n){let a=eh(i.atoms[i.index],t);i.lastType==="mn"&&a.length>0&&i.atoms[i.index].type==="genfrac"&&(a="<mo>&#x2064;</mo>"+a),i.atoms[i.index].type==="genfrac"?i.lastType="mfrac":i.lastType="",i.index+=1,tn(a,i,t)?o+=1:a.length>0&&(i.mathML+=a,o+=1)}o>1&&(i.mathML="<mrow>"+i.mathML+"</mrow>")}return i.mathML}function io(e,t){let r="",n=Jo(e.value);return n&&(r="<mo"+Xe(e.id,t)+">"+n+"</mo>"),r}function Jo(e){if(!e)return"";if(typeof e=="string")return fu(e);if(!Array.isArray(e)&&typeof e.body=="string")return fu(e.body);let t="";for(let r of e)typeof r.value=="string"&&(t+=r.value);return fu(t)}function eh(e,t){var r,n,i,o,a,s,l,u,c,d,p,m,g,y,L,E,C,v,k,I,T,R;if(e.mode==="text")return`<mi${Xe(e.id,t)}>${e.value}</mi>`;let N={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},z={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},$="",be="",ue,me,Me,Ae,fe,re,{command:he}=e;if(e.command==="\\error")return`<merror${Xe(e.id,t)}>${ze(e.body,t)}</merror>`;let Fe={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},st={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(e.type){case"first":break;case"group":case"root":$=ze(e.body,t);break;case"array":if((e.leftDelim&&e.leftDelim!=="."||e.rightDelim&&e.rightDelim!==".")&&($+="<mrow>",e.leftDelim&&e.leftDelim!=="."&&($+="<mo>"+(Fe[e.leftDelim]||e.leftDelim)+"</mo>")),$+="<mtable",e.colFormat){for($+=' columnalign="',Me=0;Me<e.colFormat.length;Me++)e.colFormat[Me].align&&($+={l:"left",c:"center",r:"right"}[e.colFormat[Me].align]+" ");$+='"'}for($+=">",me=0;me<e.array.length;me++){for($+="<mtr>",ue=0;ue<e.array[me].length;ue++)$+="<mtd>"+ze(e.array[me][ue],t)+"</mtd>";$+="</mtr>"}$+="</mtable>",(e.leftDelim&&e.leftDelim!=="."||e.rightDelim&&e.rightDelim!==".")&&(e.rightDelim&&e.rightDelim!=="."&&($+="<mo>"+(Fe[e.leftDelim]||e.rightDelim)+"</mo>"),$+="</mrow>");break;case"genfrac":(e.leftDelim||e.rightDelim)&&($+="<mrow>"),e.leftDelim&&e.leftDelim!=="."&&($+="<mo"+Xe(e.id,t)+">"+(Fe[e.leftDelim]||e.leftDelim)+"</mo>"),e.hasBarLine?($+="<mfrac>",$+=ze(e.above,t)||"<mi>&nbsp;</mi>",$+=ze(e.below,t)||"<mi>&nbsp;</mi>",$+="</mfrac>"):($+="<mtable"+Xe(e.id,t)+">",$+="<mtr>"+ze(e.above,t)+"</mtr>",$+="<mtr>"+ze(e.below,t)+"</mtr>",$+="</mtable>"),e.rightDelim&&e.rightDelim!=="."&&($+="<mo"+Xe(e.id,t)+">"+(Fe[e.rightDelim]||e.rightDelim)+"</mo>"),(e.leftDelim||e.rightDelim)&&($+="</mrow>");break;case"surd":e.hasEmptyBranch("above")?($+="<msqrt"+Xe(e.id,t)+">",$+=ze(e.body,t),$+="</msqrt>"):($+="<mroot"+Xe(e.id,t)+">",$+=ze(e.body,t),$+=ze(e.above,t),$+="</mroot>");break;case"leftright":let De=e,Pe=De.leftDelim;$="<mrow>",Pe&&Pe!=="."&&($+=`<mo${Xe(e.id,t)}>${(r=Fe[Pe])!=null?r:Pe}</mo>`),e.body&&($+=ze(e.body,t));let tt=De.matchingRightDelim();tt&&tt!=="."&&($+=`<mo${Xe(e.id,t)}>${(n=Fe[tt])!=null?n:tt}</mo>`),$+="</mrow>";break;case"sizeddelim":case"delim":$+=`<mo${Xe(e.id,t)}>${Fe[e.value]||e.value}</mo>`;break;case"accent":$+='<mover accent="true"'+Xe(e.id,t)+">",$+=ze(e.body,t),$+="<mo>"+(st[he]||e.accent)+"</mo>",$+="</mover>";break;case"line":case"overlap":break;case"overunder":fe=e.above,Ae=e.below,(e.svgAbove||fe)&&(e.svgBelow||Ae)?re=e.body:fe&&fe.length>0?(re=e.body,(o=(i=e.body)==null?void 0:i[0])!=null&&o.below?(Ae=e.body[0].below,re=e.body[0].body):((s=(a=e.body)==null?void 0:a[0])==null?void 0:s.type)==="first"&&(u=(l=e.body)==null?void 0:l[1])!=null&&u.below&&(Ae=e.body[1].below,re=e.body[1].body)):Ae&&Ae.length>0&&(re=e.body,(d=(c=e.body)==null?void 0:c[0])!=null&&d.above?(fe=e.body[0].above,re=e.body[0].body):((m=(p=e.body)==null?void 0:p[0])==null?void 0:m.type)==="first"&&(y=(g=e.body)==null?void 0:g[1])!=null&&y.above&&(fe=e.body[1].overscript,re=e.body[1].body)),(e.svgAbove||fe)&&(e.svgBelow||Ae)?($+=`<munderover ${Xe(e.id,t)}>`,$+=(L=N[e.svgBody])!=null?L:ze(re,t),$+=(E=N[e.svgBelow])!=null?E:ze(Ae,t),$+=(C=N[e.svgAbove])!=null?C:ze(fe,t),$+="</munderover>"):e.svgAbove||fe?($+=`<mover ${Xe(e.id,t)}>`+((v=N[e.svgBody])!=null?v:ze(re,t)),$+=(k=N[e.svgAbove])!=null?k:ze(fe,t),$+="</mover>"):(e.svgBelow||Ae)&&($+=`<munder ${Xe(e.id,t)}>`+((I=N[e.svgBody])!=null?I:ze(re,t)),$+=(T=N[e.svgBelow])!=null?T:ze(Ae,t),$+="</munder>");break;case"placeholder":$+="?";break;case"mord":{$=typeof e.value=="string"?e.value:he,he==="\\char"?$="&#x"+("000000"+e.args[0].number.toString(16)).slice(-4)+";":$.length>0&&$.startsWith("\\")&&(typeof e.value=="string"&&e.value.charCodeAt(0)>255?$="&#x"+("000000"+e.value.charCodeAt(0).toString(16)).slice(-4)+";":typeof e.value=="string"?$=e.value.charAt(0):(console.error("Did not expect this"),$=""));let pt=/\d/.test($)?"mn":"mi";$=`<${pt}${Xe(e.id,t)}>${fu($)}</${pt}>`;break}case"mbin":case"mrel":case"minner":$=io(e,t);break;case"mpunct":$='<mo separator="true"'+Xe(e.id,t)+">"+he+"</mo>";break;case"mop":case"operator":case"extensible-symbol":e.body!=="​"&&($="<mo"+Xe(e.id,t)+">",$+=he==="\\operatorname"?e.body:he||e.body,$+="</mo>");break;case"box":$='<menclose notation="box"',e.backgroundcolor&&($+=' mathbackground="'+e.backgroundcolor+'"'),$+=Xe(e.id,t)+">"+ze(e.body,t)+"</menclose>";break;case"spacing":$+='<mspace width="'+((R=z[he])!=null?R:0)+'em"/>';break;case"enclose":$='<menclose notation="';for(let pt in e.notation)Object.prototype.hasOwnProperty.call(e.notation,pt)&&e.notation[pt]&&($+=be+pt,be=" ");$+=Xe(e.id,t)+'">'+ze(e.body,t)+"</menclose>";break;case"prompt":$='<menclose notation="roundexbox""">'+ze(e.body,t)+"</menclose>";break;case"space":$+="&nbsp;";break;case"subsup":break;case"phantom":break;case"composition":break;case"rule":break;case"chem":break;case"mopen":$+=io(e,t);break;case"mclose":$+=io(e,t);break;case"macro":{let pt=e.command+Jo(e.macroArgs);pt&&($+=`<mo ${Xe(e.id,t)}>${pt}</mo>`)}break;case"latexgroup":$+=ze(e.body,t);break;case"latex":$+="<mtext"+Xe(e.id,t)+">"+e.value+"</mtext>";break;case"tooltip":$+=ze(e.body,t);break;case"text":$+=`<mtext ${Xe(e.id,t)}x>${e.value}</mtext>`;break;default:if(e.command==="\\displaystyle")return`<mrow ${Xe(e.id,t)} displaystyle="true">${ze(e.body,t)}</mrow>`;if(e.command==="\\textstyle")return`<mrow ${Xe(e.id,t)} displaystyle="false">${ze(e.body,t)}</mrow>`;console.info("Unexpected element in conversion to MathML:",e)}return $}var Lo={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},qd={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function ZM(e){let t="";return e.startsWith("\\")&&(t=" "+e.replace("\\","")+" "),t}function Ha(e){let t=0;if(Pt(e))for(let r of e)r.type!=="first"&&(t+=1);return t===1}function QM(e){if(Pt(e)){for(let t of e)if(t.type!=="first"&&t.id)return t.id.toString()}return""}function Hb(e){let t="";if(Pt(e))for(let r of e)r.type!=="first"&&typeof r.value=="string"&&(t+=r.value);return t}function eS(e){return e?e.map(t=>t.value).join(""):""}function th(e){return`<emphasis>${e}</emphasis>`}function tS(e,t){var r;let n="",i=!1,o=!1;for(let a=0;a<t.length;a++)t[a].type!=="first"&&(t[a].mode!=="text"&&(o=!1),a<t.length-2&&t[a].type==="mopen"&&t[a+2].type==="mclose"&&t[a+1].type==="mord"?(n+=" of ",n+=th(Be(e,t[a+1])),a+=2):t[a].mode==="text"?o?n+=(r=t[a].value)!=null?r:" ":(o=!0,n+=Be("text",t[a])):t[a].isDigit()?i?n+=t[a].asDigit():(i=!0,n+=Be(e,t[a])):(i=!1,n+=Be(e,t[a])));return n}function Be(e,t){var r,n,i,o;function a(m){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(m)?` <say-as interpret-as="character">${m}</say-as>`:/[A-Z]/.test(m)?`capital <say-as interpret-as="character">${m.toLowerCase()}</say-as>`:m:/[a-z]/.test(m)?" '"+m.toUpperCase()+"'":/[A-Z]/.test(m)?" 'capital "+m.toUpperCase()+"'":m}if(!t)return"";if(Pt(t))return tS(e,t);let s="";if(t.id&&e==="math"&&(s+='<mark name="'+t.id.toString()+'"/>'),t.mode==="text")return s+t.value;let l="",u="",c="",d=!1,{command:p}=t;switch(p){case"\\vec":return"vector "+Be(e,t.body);case"\\acute":return Be(e,t.body)+" acute";case"\\grave":return Be(e,t.body)+" grave";case"\\dot":return"dot over"+Be(e,t.body);case"\\ddot":return"double dot over"+Be(e,t.body);case"\\mathring":return"ring over"+Be(e,t.body);case"\\tilde":case"\\widetilde":return"tilde over"+Be(e,t.body);case"\\bar":return Be(e,t.body)+" bar";case"\\breve":return Be(e,t.body)+" breve";case"\\check":case"\\widecheck":return"check over "+Be(e,t.body);case"\\hat":case"\\widehat":return"hat over"+Be(e,t.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+Be(e,t.body);case"\\underarc":case"\\underparen":return"arc under "+Be(e,t.body)}switch(t.type){case"prompt":let m=t.body.length>1?'start input . <break time="500ms"/> '+Be(e,t.body)+'. <break time="500ms"/> end input':"blank";s+=' <break time="300ms"/> '+m+'. <break time="700ms"/>'+((r=t.correctness)!=null?r:"")+' . <break time="700ms"/> ';break;case"array":let g=t.array,y=t.environmentName;if(Object.keys(qd).includes(y)){s+=` begin ${qd[y]} `;for(let C=0;C<g.length;C++){C>0&&(s+=","),s+=` row ${C+1} `;for(let v=0;v<g[C].length;v++)v>0&&(s+=","),s+=` column ${v+1}: `,s+=Be("math",g[C][v])}s+=` end ${qd[y]} `}break;case"group":p==="\\ne"?s+=" not equal ":(p==="\\not"&&(s+=" not "),s+=Be("math",t.body));break;case"root":s+=Be("math",t.body);break;case"genfrac":if(l=Be("math",t.above),u=Be("math",t.below),Ha(t.above)&&Ha(t.below)){let C={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[Hb(t.above)+"/"+Hb(t.below)];C?s=C:s+=l+" over "+u}else s+=' the fraction <break time="150ms"/>'+l+' over <break time="150ms"/>'+u+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(c=Be("math",t.body),t.hasEmptyBranch("above"))s+=Ha(t.body)?" the square root of "+c+" , ":' the square root of <break time="200ms"/>'+c+'. <break time="200ms"/> End square root';else{let C=Be("math",t.above);C=C.trim();let v=C.replace(/<mark([^/]*)\/>/g,"");v==="3"?s+=' the cube root of <break time="200ms"/>'+c+'. <break time="200ms"/> End cube root':v==="n"?s+=' the nth root of <break time="200ms"/>'+c+'. <break time="200ms"/> End root':s+=' the root with index: <break time="200ms"/>'+C+', of <break time="200ms"/>'+c+'. <break time="200ms"/> End root'}break;case"leftright":{let C=t;s+=(n=C.leftDelim?Lo[C.leftDelim]:void 0)!=null?n:C.leftDelim,s+=Be("math",t.body),s+=(i=C.rightDelim?Lo[C.rightDelim]:void 0)!=null?i:C.rightDelim}break;case"rule":break;case"overunder":break;case"overlap":break;case"macro":let L=p.replace(/^\\/g,""),E=qh()[L];E&&(E!=null&&E.expand?s+=Be("math",t.body):s+=`${L} `);break;case"placeholder":s+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if(p==="\\mathbin"||p==="\\mathrel"||p==="\\mathopen"||p==="\\mathclose"||p==="\\mathpunct"||p==="\\mathord"||p==="\\mathinner"){s=Be(e,t.body);break}let C=t.isDigit()?t.asDigit():t.value,v=t.command;if((t.type==="delim"||t.type==="sizeddelim")&&(v=t.value,C=v),e==="text")s+=C;else{if(t.type==="mbin"&&(s+='<break time="150ms"/>'),C){let k=Lo[C]||(v?Lo[v.trim()]:"");if(k)s+=" "+k;else{let I=v?ZM(v.trim()):"";s+=I||a(C)}}else s+=Be("math",t.body);t.type==="mbin"&&(s+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if(t.value!=="​"){let C=t.command;if(C==="\\sum")if(!t.hasEmptyBranch("superscript")&&!t.hasEmptyBranch("subscript")){let v=Be("math",t.superscript);v=v.trim();let k=Be("math",t.subscript);k=k.trim(),s+=' the summation from <break time="200ms"/>'+k+'<break time="200ms"/> to  <break time="200ms"/>'+v+'<break time="200ms"/> of <break time="150ms"/>',d=!0}else if(t.hasEmptyBranch("subscript"))s+=" the summation of";else{let v=Be("math",t.subscript);v=v.trim(),s+=' the summation from <break time="200ms"/>'+v+'<break time="200ms"/> of <break time="150ms"/>',d=!0}else if(C==="\\prod")if(!t.hasEmptyBranch("superscript")&&!t.hasEmptyBranch("subscript")){let v=Be("math",t.superscript);v=v.trim();let k=Be("math",t.subscript);k=k.trim(),s+=' the product from <break time="200ms"/>'+k+'<break time="200ms"/> to <break time="200ms"/>'+v+'<break time="200ms"/> of <break time="150ms"/>',d=!0}else if(t.hasEmptyBranch("subscript"))s+=" the product  of ";else{let v=Be("math",t.subscript);v=v.trim(),s+=' the product from <break time="200ms"/>'+v+'<break time="200ms"/> of <break time="150ms"/>',d=!0}else if(C==="\\int")if(!t.hasEmptyBranch("superscript")&&!t.hasEmptyBranch("subscript")){let v=Be("math",t.superscript);v=v.trim();let k=Be("math",t.subscript);k=k.trim(),s+=' the integral from <break time="200ms"/>'+th(k)+'<break time="200ms"/> to <break time="200ms"/>'+th(v)+' <break time="200ms"/> of ',d=!0}else s+=' the integral of <break time="200ms"/> ';else if(C==="\\operatorname"||C==="\\operatorname*")s+=eS(t.body)+" ";else if(typeof t.value=="string"){let v=(o=Lo[t.value])!=null?o:t.command?Lo[t.command]:void 0;s+=v||" "+t.value}else t.command&&(t.command==="\\mathop"?s+=Be("math",t.body):s+=t.command.startsWith("\\")?" "+t.command.slice(1):" "+t.command)}break;case"enclose":c=Be("math",t.body),s+=" crossed out "+c+". End crossed out.";break}if(!d&&!t.hasEmptyBranch("superscript")){let m=Be(e,t.superscript);m=m.trim();let g=m.replace(/<[^>]*>/g,"");if(Ha(t.superscript)){if(e==="math"){let y=QM(t.superscript);y&&(s+='<mark name="'+y+'"/>')}g==="′"?s+=" prime ":g==="2"?s+=" squared ":g==="3"?s+=" cubed ":Number.isNaN(Number.parseInt(g))?s+=" to the "+m+"; ":s+=' to the <say-as interpret-as="ordinal">'+g+"</say-as> power; "}else Number.isNaN(Number.parseInt(g))?s+=" raised to the "+m+"; ":s+=' raised to the <say-as interpret-as="ordinal">'+g+"</say-as> power; "}if(!d&&!t.hasEmptyBranch("subscript")){let m=Be("math",t.subscript);m=m.trim(),s+=Ha(t.subscript)?" sub "+m:" subscript "+m+". End subscript. "}return s}function Yo(e){var t,r;let n=globalThis.MathfieldElement;if(n.textToSpeechRules==="sre"&&("sre"in window||"SRE"in window)){let o=ze(e);if(o){n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=(t=n.textToSpeechRulesOptions)!=null?t:{},n.textToSpeechRulesOptions=B(M({},n.textToSpeechRulesOptions),{markup:n.textToSpeechMarkup}),n.textToSpeechRulesOptions.markup==="ssml"&&(n.textToSpeechRulesOptions=B(M({},n.textToSpeechRulesOptions),{markup:"ssml_step"})),n.textToSpeechRulesOptions=B(M({},n.textToSpeechRulesOptions),{rate:n.speechEngineRate}));let a=(r=window.SRE)!=null?r:globalThis.sre.System.getInstance();n.textToSpeechRulesOptions&&a.setupEngine(n.textToSpeechRulesOptions);let s="";try{s=a.toSpeech(o)}catch(l){console.error("MathLive 0.101.0: `SRE.toSpeech()` runtime error",l)}return s}return""}let i=Be("math",e);if(n.textToSpeechMarkup==="ssml"){let o="";n.speechEngineRate&&(o='<prosody rate="'+n.speechEngineRate+'">'),i='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+o+"<p><s>"+i+"</s></p>"+(o?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else n.textToSpeechMarkup==="mac"&&pa()==="macos"?i=i.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):i=i.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return i}var Va={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\N":"NN","\\Z":"ZZ","\\Q":"QQ","\\C":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},Ua={"\\pm":"+-","\\colon":":","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":"*","\\ast":"**","\\star":"***","\\times":"xx","\\div":"-:","\\ltimes":"|><","\\rtimes":"><|","\\bowtie":"|><|","\\circ":"@"},Yl={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function rS(e){let t="";for(let r of e){let n=t[t.length-1];n!==void 0&&/\d/.test(n)&&/^\d/.test(r)&&(t+=" "),t+=r}return t}function ct(e,t){var r,n,i,o,a,s,l,u,c,d,p,m,g;if(!e)return"";if(Pt(e)){if(e.length===0)return"";if(e[0].mode==="latex")return e.map(k=>ct(k)).join("");if(e[0].mode==="text"){let k=0,I="";for(;((r=e[k])==null?void 0:r.mode)==="text";)I+=e[k].body?ct(e[k].body,t):e[k].value,k++;return t!=null&&t.plain?I+ct(e.slice(k),t):`"${I}" ${ct(e.slice(k))}`}let C=0,v=[];for(;e[C]&&e[C].mode==="math";){let k="";for(;e[C]&&e[C].type==="mord"&&/\d/.test(e[C].value);)k+=e[C++].value;k?v.push(k):v.push(ct(e[C++],t))}return v.push(ct(e.slice(C),t)),rS(v)}if(e.mode==="text")return t!=null&&t.plain?e.value:`"${e.value}"`;let y="",{command:L}=e,E;if(L==="\\placeholder")return`(${ct(e.body,t)})`;switch(e.type){case"accent":let C={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[L];y=`${C??""} ${ct(e.body,t)} `;break;case"first":return"";case"latexgroup":return e.body.map(N=>N.value).join("");case"group":case"root":y=(n=Va[L])!=null?n:ct(e.body,t);break;case"genfrac":{let N=e;(N.leftDelim||N.rightDelim)&&(y=N.leftDelim==="."||!N.leftDelim?"{:":N.leftDelim),N.hasBarLine?(y+="(",y+=ct(N.above,t),y+=")/(",y+=ct(N.below,t),y+=")"):(y+="("+ct(N.above,t)+"),",y+="("+ct(N.below,t)+")"),(N.leftDelim||N.rightDelim)&&(y+=N.rightDelim==="."||!N.rightDelim?"{:":N.rightDelim)}break;case"surd":e.hasEmptyBranch("above")?y+=`sqrt(${ct(e.body,t)})`:y+=`root(${ct(e.above,t)})(${ct(e.body,t)})`;break;case"latex":y=e.value;break;case"leftright":{let N=e,z=N.leftDelim;z&&Yl[z]&&(z=Yl[z]),y+=z==="."||!z?"{:":z,y+=ct(N.body,t);let $=N.matchingRightDelim();$&&Yl[$]&&($=Yl[$]),y+=$==="."||!$?":}":$}break;case"sizeddelim":case"delim":y=e.value;break;case"overlap":break;case"overunder":break;case"mord":y=(o=(i=Va[L])!=null?i:L)!=null?o:typeof e.value=="string"?e.value:"",y.startsWith("\\")&&(y+=" "),E=L?L.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,E?y=String.fromCodePoint(Number.parseInt("0x"+E[1])):y.length>0&&y.startsWith("\\")&&(y=typeof e.value=="string"?e.value.charAt(0):e.command),y=nS(y,e.style);break;case"mbin":case"mrel":case"minner":y=(s=(a=Va[L])!=null?a:Ua[L])!=null?s:e.value;break;case"mopen":case"mclose":y=e.value;break;case"mpunct":y=(l=Ua[L])!=null?l:L;break;case"mop":case"operator":case"extensible-symbol":e.value!=="​"&&(Ua[L]?y=Ua[L]:y=L==="\\operatorname"?ct(e.body,t):(u=e.value)!=null?u:L,y+=" ");break;case"array":let v=e.array,k=e.environmentName,I=(c={bmatrix:["[","]"],"bmatrix*":["[","]"]}[k])!=null?c:["(",")"],T=[];for(let N of v){let z=[];for(let $ of N)z.push(I[0]+ct($,t)+I[1]);T.push(z.join(","))}let R=(d={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[k])!=null?d:["(",")"];y=R[0]+T.join(",")+R[1];break;case"box":break;case"spacing":y=(p=Va[L])!=null?p:" ";break;case"enclose":y="("+ct(e.body,t)+")";break;case"space":y=" ";break;case"subsup":y="";break;case"macro":y=(g=(m=Va[L])!=null?m:Ua[L])!=null?g:ct(e.body,t);break}if(!e.hasEmptyBranch("subscript")){y+="_";let C=ct(e.subscript,t);y+=C.length!==1?`(${C})`:C}if(!e.hasEmptyBranch("superscript")){y+="^";let C=ct(e.superscript,t);y+=C.length!==1?`(${C})`:C}return y}function nS(e,t){if(!t)return e;let r=e;return t.variant==="double-struck"&&(r=`bbb "${r}"`),t.variant==="script"&&(r=`cc "${r}"`),t.variant==="fraktur"&&(r=`fr "${r}"`),t.variant==="sans-serif"&&(r=`sf "${r}"`),t.variant==="monospace"&&(r=`tt "${r}"`),t.variantStyle==="bold"&&(r=`bb "${r}"`),t.color?`color({${t.color}})(${r})`:r}function kt(e,t){var r;let n=B(M({},c2()),{renderPlaceholder:()=>new Z(160,{maxFontSize:1})}),i=(r=void 0)!=null?r:"math",o="math",a="displaystyle";i==="inline-math"?a="textstyle":i==="math"?a="displaystyle":i==="text"&&(a="textstyle",o="text");let s=new Ie({from:n}),l=new q({type:"root",mode:o,body:Mr(e,{context:s,parseMode:o,mathstyle:a})}).render(s);return l?(cc(Ts(l,s)),dc(l,{classes:"ML__latex"}).toMarkup()):""}function rh(e){if(typeof e=="string"){let t=iS(e);if(!t)throw new Error(`Invalid color: ${e}`);return t}return"C"in e?aS(e):"a"in e?j3(e):e}function Zo(e){return e<0?0:e>255?255:Math.round(e)}function iS(e){if(!e||e[0]!=="#")return;e=e.slice(1);let t;return e.length<=4?(t={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)},e.length===4&&(t.a=parseInt(e[3]+e[3],16)/255)):(t={r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)},e.length===8&&(t.a=parseInt(e[6]+e[7],16)/255)),t&&typeof t.a>"u"&&(t.a=1),t}function nh(e){let[t,r,n]=[e.L,e.C,e.H],i=n*Math.PI/180,o={L:t,a:r*Math.cos(i),b:r*Math.sin(i)};return e.alpha!==void 0&&(o.alpha=e.alpha),o}function oS(e){let[t,r,n]=[e.L,e.a,e.b],i=Math.sqrt(r*r+n*n),o=Math.atan2(n,r)*180/Math.PI,a={L:t,C:i,H:o};return e.alpha!==void 0&&(a.alpha=e.alpha),a}function Hd(e){let[t,r,n]=[e.L,e.a,e.b],i=Math.pow(.9999999984505198*t+.39633779217376786*r+.2158037580607588*n,3),o=Math.pow(1.00000000888176*t-.10556134232365635*r-.0638541747717059*n,3),a=Math.pow(t*1.000000054672411-.0894841820949657*r-1.2914855378640917*n,3),s=4.076741661347994*i-3.307711590408193*o+.230969928729428*a,l=-1.2684380040921763*i+2.6097574006633715*o-.3413193963102197*a,u=-.004196086541837188*i-.7034186144594493*o+1.7076147009309444*a,c=d=>{let p=Math.abs(d);return p<=.0031308?d*12.92:(Math.sign(d)||1)*(1.055*Math.pow(p,1/2.4)-.055)};return[c(s),c(l),c(u)]}function Vd(e){let[t,r,n]=e;return t>=0&&t<=1&&r>=0&&r<=1&&n>=0&&n<=1}function Ud(e,t){let[r,n,i]=e;return r=Zo(r*255),n=Zo(n*255),i=Zo(i*255),t!==void 0?{r,g:n,b:i,alpha:t}:{r,g:n,b:i}}function j3(e){let[t,r,n]=Hd(e);if(Vd([t,r,n]))return Ud([t,r,n],e.alpha);let i=oS(e);if(i.C=0,[t,r,n]=Hd(nh(i)),!Vd([t,r,n]))return Ud([t,r,n],e.alpha);let o=0,a=e.L,s=(o+a)/2;i.C=s;let l=.36/Math.pow(2,12);for(;a-o>l;)s=(o+a)/2,i.C=s,[t,r,n]=Hd(nh(i)),Vd([t,r,n])?o=s:a=s;return Ud([t,r,n],e.alpha)}function aS(e){return j3(nh(e))}function Vb(e,t){let r=rh(e),n=rh(t),i=.56,o=.57,a=.62,s=.65,l=.022,u=1.414,c=.1,d=5e-4,p=1.14,m=.027,g=1.14,y=.027;function L(R){return R>=l?R:R+(l-R)**u}function E(R){return(R<0?-1:1)*Math.pow(Math.abs(R),2.4)}let C=L(E(n.r/255)*.2126729+E(n.g/255)*.7151522+E(n.b/255)*.072175),v=L(E(r.r/255)*.2126729+E(r.g/255)*.7151522+E(r.b/255)*.072175),k,I,T;return Math.abs(v-C)<d?I=0:v>C?(k=v**i-C**o,I=k*p):(k=v**s-C**a,I=k*g),Math.abs(I)<c?T=0:I>0?T=I-y:T=I+m,T*100}function G3(e,t,r){r!=null||(r="#fff"),t!=null||(t="#000");let n=Vb(e,r),i=Vb(e,t);return Math.abs(n)>Math.abs(i)?r:t}function sS(e){let t=rh(e),r=((1<<24)+(Zo(t.r)<<16)+(Zo(t.g)<<8)+Zo(t.b)).toString(16).slice(1);return t.alpha!==void 0&&t.alpha<1&&(r+=("00"+Math.round(t.alpha*255).toString(16)).slice(-2)),r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]+(t.alpha!==void 0&&t.alpha<1?r[6]:"")),"#"+r}function Je(e){let t=X3(e),r="";for(let n of t){if(typeof n.value!="string")return"";r+=n.value}return r}function X3(e){let t=e.model.selection.ranges;if(t.length!==1)return[];let r=e.model.getAtoms(t[0]);return r.length===1&&r[0].type==="root"&&(r=r[0].children),r.filter(n=>n.type!=="first")}function lS(e,t){let r=X3(e);if(r.length!==1)return!1;let n=R0[t];return n?!!n.test(r[0].value):!1}function uS(e){return Je(e).length>0}function cS(e){return[Wd(e,"double-struck","mathbb","tooltip.blackboard"),Wd(e,"fraktur","mathfrak","tooltip.fraktur"),Wd(e,"calligraphic","mathcal","tooltip.caligraphic"),jd(e,"up","mathrm","tooltip.roman-upright"),jd(e,"bold","bm","tooltip.bold"),jd(e,"italic","mathit","tooltip.italic")]}function dS(e){return[{id:"accent-vec",class:"ML__center-menu",label:()=>kt(`\\vec{${Je(e)}}`),visible:()=>Je(e).length===1,onMenuSelect:()=>e.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>kt(`\\overrightarrow{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>kt(`\\overleftarrow{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>kt(`\\dot{${Je(e)}}`),visible:()=>Je(e).length===1,onMenuSelect:()=>e.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>kt(`\\ddot{${Je(e)}}`),visible:()=>Je(e).length===1,onMenuSelect:()=>e.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>kt(`\\bar{${Je(e)}}`),visible:()=>Je(e).length===1,onMenuSelect:()=>e.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>kt(`\\overline{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>kt(`\\overgroup{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>kt(`\\overbrace{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>kt(`\\underline{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>kt(`\\undergroup{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>kt(`\\underbrace{${Je(e)}}`),visible:()=>Je(e).length>0,onMenuSelect:()=>e.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function hS(e){return[{id:"decoration-boxed",label:()=>kt(`\\boxed{${e.getValue(e.model.selection)}}}`),onMenuSelect:()=>e.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>kt(`\\bbox[5px, border: 2px solid red]{${e.getValue(e.model.selection)}}`),onMenuSelect:()=>e.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>kt(`\\bbox[5px, border: 2px dashed black]{${e.getValue(e.model.selection)}}`),onMenuSelect:()=>e.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function pS(e){let t=[];for(let r of Object.keys(to))t.push({id:`background-color-${r}`,class:(sS(G3(to[r]))==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${to[r]} "></span>`,ariaLabel:()=>{var n;return(n=ve(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[e.queryStyle({backgroundColor:r})])!=null?n:!1},onMenuSelect:()=>e.applyStyle({backgroundColor:r},{operation:"toggle"})});return t}function mS(e){let t=[];for(let r of Object.keys(ro))t.push({id:`color-${r}`,class:(G3(ro[r])==="#000"?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${ro[r]} "></span>`,ariaLabel:()=>{var n;return(n=ve(r))!=null?n:r},checked:()=>{var n;return(n={some:"mixed",all:!0}[e.queryStyle({color:r})])!=null?n:!1},onMenuSelect:()=>e.applyStyle({color:r},{operation:"toggle"})});return t}var fS=class extends R3{constructor(e,t,r,n){super(e,t),this.row=r,this.col=n}set active(e){let t=this.parentMenu.children;if(e)for(let r of t)r.element.classList.toggle("active",r.row<=this.row&&r.col<=this.col);else for(let r of t)r.element.classList.remove("active")}};function gS(e){let t=[];for(let r=1;r<=5;r++)for(let n=1;n<=5;n++)t.push({id:`insert-matrix-${r}x${n}`,onCreate:(i,o)=>new fS(i,o,r,n),label:"☐",tooltip:()=>ve("tooltip.row-by-col",r,n),data:{row:r,col:n},onMenuSelect:()=>{e.insert(`\\begin{pmatrix}${Array(r).fill(Array(n).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return t}function bS(e){return[{label:()=>ve("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>e.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>zi(e)},{label:()=>ve("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>e.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>zi(e)},{label:()=>ve("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>e.executeCommand("addColumnBefore"),visible:()=>zi(e),keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let t=e.model.parentEnvironment;if(!t)return!1;let[r,n]=vS(e);return r<t.maxColumns}},{label:()=>ve("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>e.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>zi(e)},{type:"divider"},{label:()=>ve("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>e.executeCommand("removeRow"),visible:()=>zi(e)},{label:()=>ve("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>e.executeCommand("removeColumn"),visible:()=>zi(e)},{type:"divider"},{label:()=>ve("menu.borders"),visible:()=>(yS(e)||zi(e))&&e.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>Wa(e,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>Wa(e,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>Wa(e,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>Wa(e,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>Wa(e,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>ve("menu.insert matrix"),id:"insert-matrix",visible:()=>e.isSelectionEditable,submenu:gS(e),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>ve("menu.insert"),id:"insert",submenu:xS(e)},{type:"divider"},{label:()=>ve("menu.mode"),id:"mode",visible:()=>e.isSelectionEditable&&e.model.selectionIsCollapsed,submenu:[{label:()=>ve("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{la(e,"accept-all"),e.executeCommand(["switchMode","math"])},checked:()=>e.model.mode==="math"},{label:()=>ve("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{la(e,"accept-all"),e.executeCommand(["switchMode","text"])},checked:()=>e.model.mode==="text"},{label:()=>ve("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>e.executeCommand(["switchMode","latex"]),checked:()=>e.model.mode==="latex"}]},{type:"divider"},{label:()=>ve("menu.font-style"),id:"variant",visible:()=>e.isSelectionEditable,submenu:cS(e),submenuClass:"variant-submenu"},{label:()=>ve("menu.color"),id:"color",visible:()=>e.isSelectionEditable,submenu:mS(e),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ve("menu.background-color"),id:"background-color",visible:()=>e.isSelectionEditable,submenu:pS(e),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>ve("menu.accent"),id:"accent",visible:()=>e.isSelectionEditable,submenu:dS(e),submenuClass:"variant-submenu"},{label:()=>ve("menu.decoration"),id:"decoration",visible:()=>e.isSelectionEditable&&Je(e).length>0,submenu:hS(e),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>ve("menu.evaluate"),id:"ce-evaluate",visible:()=>e.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{let t=_S(e);if(!t){e.model.announce("plonk");return}e.model.selectionIsCollapsed?(e.model.position=e.model.lastOffset,e.insert(`=${t}`,{insertionMode:"insertAfter",selectionMode:"item"})):e.insert(t,{insertionMode:"replaceSelection",selectionMode:"item"})}},{label:()=>ve("menu.simplify"),id:"ce-simplify",visible:()=>e.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null,onMenuSelect:()=>{var t,r;if(e.model.selectionIsCollapsed){let n=(t=e.expression)==null?void 0:t.simplify();if(e.model.position=e.model.lastOffset,!n){e.model.announce("plonk");return}e.insert(`=${n.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(e.getValue(e.model.selection)).simplify();if(!n){e.model.announce("plonk");return}e.insert(n.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var t;let r=globalThis.MathfieldElement.computeEngine;if(r===null)return"";let n=(t=e.expression)==null?void 0:t.unknowns[0];if(n){let i=r.box(n).latex;return ve("menu.solve-for",kt(i))}return ve("menu.solve")},id:"ce-solve",visible:()=>{var t;return e.isSelectionEditable&&globalThis.MathfieldElement.computeEngine!==null&&((t=e.expression)==null?void 0:t.unknowns.length)===1&&e.expression.unknowns[0]!=="Nothing"},onMenuSelect:()=>{var t;let r=e.expression,n=r==null?void 0:r.unknowns[0],i=(t=r.solve(n))==null?void 0:t.map(o=>{var a;return(a=o.simplify().latex)!=null?a:""});if(!i){e.model.announce("plonk");return}e.insert(`${n}=${i.length===1?i[0]:"\\left\\lbrace"+(i==null?void 0:i.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"})}},{type:"divider"},{label:()=>ve("menu.cut"),id:"cut",onMenuSelect:()=>e.executeCommand("cutToClipboard"),visible:()=>!e.options.readOnly&&e.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>ve("menu.copy"),id:"copy",submenu:[{label:()=>ve("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>Ze.copyToClipboard(e,"latex"),keyboardShortcut:"meta+C"},{label:()=>ve("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>Ze.copyToClipboard(e,"ascii-math")},{label:()=>ve("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>Ze.copyToClipboard(e,"math-ml")}]},{label:()=>ve("menu.paste"),id:"paste",onMenuSelect:()=>e.executeCommand("pasteFromClipboard"),visible:()=>e.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>ve("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>e.executeCommand("selectAll")}]}function zi(e){var t;return!!((t=e.model.parentEnvironment)!=null&&t.array)}function yS(e){return e.model.at(e.model.position).type==="array"}function vS(e){var t;let r=(t=e.model.parentEnvironment)==null?void 0:t.array;return r?[r.length,r.reduce((n,i)=>Math.max(n,i.length),0)]:[0,0]}function Wa(e,t){vc(e),e.flushInlineShortcutBuffer(),L3(e.model,t),dt(e)}function _S(e){var t,r;let n;if(e.model.selectionIsCollapsed?n=(t=globalThis.MathfieldElement.computeEngine)==null?void 0:t.parse(e.getValue(),{canonical:!1}):n=(r=globalThis.MathfieldElement.computeEngine)==null?void 0:r.parse(e.getValue(e.model.selection),{canonical:!1}),!n)return"";let i=n.evaluate();return i.isSame(n)&&(i=n.N()),i.latex}function Wd(e,t,r,n){return{id:`variant-${t}`,label:()=>{var i;return Je(e).length<12?kt(`\\${r}{${Je(e)}}`):(i=ve(n))!=null?i:n},class:"ML__xl",tooltip:()=>{var i;return(i=ve(n))!=null?i:n},visible:()=>lS(e,t),checked:()=>{var i;return(i={some:"mixed",all:!0}[e.queryStyle({variant:t})])!=null?i:!1},onMenuSelect:()=>e.applyStyle({variant:t},{operation:"toggle"})}}function jd(e,t,r,n){return{id:`variant-style-${t}`,label:()=>{var i;let o=Je(e);return o.length>0&&o.length<12?kt(`\\${r}{${Je(e)}}`):(i=ve(n))!=null?i:n},class:()=>{let i=Je(e);return i.length>0&&i.length<12?"ML__xl":""},tooltip:()=>{var i;return(i=ve(n))!=null?i:n},visible:t==="bold"?!0:()=>uS(e),checked:()=>{var i;return(i={some:"mixed",all:!0}[e.queryStyle({variantStyle:t})])!=null?i:!1},onMenuSelect:()=>e.applyStyle({variantStyle:t},{operation:"toggle"})}}function xS(e){return[{label:()=>sr("abs"),id:"insert-abs",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("|#?|")},{label:()=>sr("nth-root"),id:"insert-nth-root",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\sqrt[#?]{#?}")},{label:()=>sr("log-base"),id:"insert-log-base",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>ve("menu.insert.heading-calculus")},{label:()=>sr("derivative"),id:"insert-derivative",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>sr("nth-derivative"),id:"insert-nth-derivative",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>sr("integral"),id:"insert-integral",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>sr("sum"),id:"insert-sum",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\sum_#?^#?#?")},{label:()=>sr("product"),id:"insert-product",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>ve("menu.insert.heading-complex-numbers")},{label:()=>sr("modulus"),id:"insert-modulus",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\lvert#?\\rvert")},{label:()=>sr("argument"),id:"insert-argument",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\arg(#?)")},{label:()=>sr("real-part"),id:"insert-real-part",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\Re(#?)")},{label:()=>sr("imaginary-part"),id:"insert-imaginary-part",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\Im(#?)")},{label:()=>sr("conjugate"),id:"insert-conjugate",visible:()=>e.isSelectionEditable,onMenuSelect:()=>e.insert("\\overline{#?}")}]}function sr(e){return`<span class='ML__insert-template'> ${kt(ve(`menu.insert.${e}-template`))}</span><span class="ML__insert-label">${ve(`menu.insert.${e}`)}</span>`}function ti(e,t){return typeof e=="string"?e+Yo(t):Yo(e)}function ih(e){var t;let r;if(e.parent.type==="prompt")e.parentBranch==="body"&&(r="prompt");else if(e.parentBranch==="body"){if(e.type==="first"&&(e.parent.type==="root"?r="mathfield":e.parent.type==="surd"?r="radicand":e.parent.type==="genfrac"?r="fraction":e.parent.type==="sizeddelim"&&(r="delimiter"),r))return r;e.type==="subsup"?e.superscript&&e.subscript?r="superscript and subscript":e.superscript?r="superscript":e.subscript&&(r="subscript"):e.type&&(r=(t={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[e.type])!=null?t:"parent")}else if(e.parent.type==="genfrac"){if(e.parentBranch==="above")return"numerator";if(e.parentBranch==="below")return"denominator"}else e.parent.type==="surd"?e.parentBranch==="above"&&(r="index"):e.parentBranch==="superscript"?r="superscript":e.parentBranch==="subscript"&&(r="subscript");return r??"parent"}function wS(e,t,r,n){let i="";if(t==="plonk"){globalThis.MathfieldElement.playSound("plonk"),e.flushInlineShortcutBuffer();return}if(t==="delete")i=ti("deleted: ",n);else if(t==="focus"||t.includes("move"))i=kS(e.model,r),i+=MS(e.model);else if(t==="replacement")i=ti(e.model.at(e.model.position));else if(t==="line"){let o=ti(e.model.root);e.keyboardDelegate.setAriaLabel(o)}else i=n?ti(t+" ",n):t;if(i){let o=e.ariaLiveText.textContent.includes(" ")?"   ":"   ";e.ariaLiveText.textContent=i+o}}function kS(e,t){if(Number.isNaN(t))return"";let r=e.at(t);if(!r||r.treeDepth<=e.at(e.position).treeDepth)return"";let n="",i=r.parent,o=e.at(e.position).parent;for(;i!==e.root&&i!==o;)n+=`out of ${ih(i)};`,i=i.parent;return n}function MS(e){if(!e.selectionIsCollapsed)return`selected: ${ti(e.getAtoms(e.selection))}`;let t="",r=e.at(e.position);if(r.isFirstSibling&&(t=`start of ${ih(r)}: `),r.isLastSibling){if(!r.isFirstSibling){if(!r.parent.parent)return`${ti(r)}; end of mathfield`;t=`${ti(r)}; end of ${ih(r)}`}}else t+=ti(r);return t}var SS=class{constructor(e,t,r){this.mathfield=e,this.mode=t,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=r}dispose(){this.mathfield=void 0}getState(){let e={ranges:[...this._selection.ranges]};return this.selection.direction&&this.selection.direction!=="none"&&(e.direction=this.selection.direction),{content:this.root.toJson(),selection:e,mode:this.mode}}setState(e,t){var r;let n=this.silenceNotifications;this.silenceNotifications=(r=t==null?void 0:t.silenceNotifications)!=null?r:!0;let i={};if((t==null?void 0:t.type)==="undo"&&(i={inputType:"historyUndo"}),(t==null?void 0:t.type)==="redo"&&(i={inputType:"historyRedo"}),this.contentWillChange(i)){let o=this.silenceNotifications;this.silenceNotifications=!0,this.mode=e.mode,this.root=ai(e.content),this.selection=e.selection,this.silenceNotifications=o,this.contentDidChange(i),this.selectionDidChange()}this.silenceNotifications=n}get atoms(){return this.root.children}get selection(){return this._selection}set selection(e){this.setSelection(e)}setSelection(e,t){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0,content:!0},()=>{var r,n,i;let o=this.normalizeSelection(e,t);if(o===void 0)throw new TypeError("Invalid selection");if(o.ranges.length===1&&o.ranges[0][0]===o.ranges[0][1]){let c=o.ranges[0][0];if(!this.mathfield.dirty&&!((r=this.at(c))!=null&&r.parentPrompt)&&this.mathfield.hasEditablePrompts){if((n=this.at(c-1))!=null&&n.parentPrompt){this._anchor=this.normalizeOffset(c-1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}if((i=this.at(c+1))!=null&&i.parentPrompt){this._anchor=this.normalizeOffset(c+1),this._position=this._anchor,this._selection=this.normalizeSelection(this._anchor);return}this._anchor=0,this._position=0,this._selection={ranges:[[0,0]]};return}this._anchor=c,this._position=c,this._selection=o;return}let a=Ut(o);o.direction==="backward"?[this._position,this._anchor]=a:[this._anchor,this._position]=a;let s=this.at(a[0]+1),l=this.at(a[1]),u=q.commonAncestor(s,l);(u==null?void 0:u.type)==="array"&&s.parent===u&&l.parent===u?this._selection={ranges:[a],direction:o.direction}:this._selection={ranges:[a],direction:o.direction},this._position>=0&&this._position<=this.lastOffset})}setPositionHandlingPlaceholder(e){var t;let r=this.at(e);(r==null?void 0:r.type)==="placeholder"?this.setSelection(e-1,e):((t=r==null?void 0:r.rightSibling)==null?void 0:t.type)==="placeholder"?this.setSelection(e,e+1):this.position=e,r instanceof Et&&r.isSuggestion&&(r.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(e){this.setSelection(e,e)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return Math.abs(this._anchor-this._position)===1?this.at(Math.max(this._anchor,this._position)).type==="placeholder":!1}collapseSelection(e="forward"){return this._anchor===this._position?!1:(e==="backward"?this.position=Math.min(this._anchor,this._position):this.position=Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(e){return this.atoms[e]}offsetOf(e){return this.atoms.indexOf(e)}getSiblingsRange(e){let t=this.at(e),{parent:r}=t;if(!r)return[0,this.lastOffset];let n=t.parent.branch(t.parentBranch);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getBranchRange(e,t){let r=this.at(e).branch(t);return[this.offsetOf(r[0]),this.offsetOf(r[r.length-1])]}getAtoms(e,t,r){let n=r??{};if(su(e)){if(n=t??{},e.ranges.length>1)return e.ranges.reduce((u,c)=>[...u,...this.getAtoms(c,n)],[]);e=e.ranges[0]}let i,o;if(Jn(e)){if(i=e,!Jn(t))return[];o=t}else[i,o]=e,n=t??{};if(!Number.isFinite(i))return[];n.includeChildren===void 0&&(n.includeChildren=!1),i<0&&(i=this.lastOffset-i+1),o<0&&(o=this.lastOffset+o+1);let a=Math.min(i,o)+1,s=Math.max(i,o);if(!n.includeChildren&&a===1&&s===this.lastOffset)return[this.root];let l=[];for(let u=a;u<=s;u++){let c=this.atoms[u];Ub(this,c,a,s)&&l.push(c)}return n.includeChildren||(l=l.filter(u=>{let c=!1,{parent:d}=u;for(;d&&!c;)c=Ub(this,d,a,s),d=d.parent;return!c})),l}getAllAtoms(e=0){let t=[],r=this.lastOffset;for(let n=e;n<=r;n++)t.push(this.atoms[n]);for(let n=0;n<e;n++)t.push(this.atoms[n]);return t}findAtom(e,t=0,r="forward"){let n,i=this.lastOffset;if(r==="forward"){for(let o=t;o<=i;o++)if(n=this.atoms[o],e(n))return n;for(let o=0;o<t;o++)if(n=this.atoms[o],e(n))return n;return}for(let o=t;o>=0;o--)if(n=this.atoms[o],e(n))return n;for(let o=i;o>t;o--)if(n=this.atoms[o],e(n))return n}extractAtoms(e){let t=this.getAtoms(e);if(t.length===1&&!t[0].parent)if(t[0].type==="root")t=[...t[0].body],t.shift();else return t=this.root.cells.flat(),this.root=new q({type:"root",body:[]}),t;for(let r of t)r.parent.removeChild(r);return t}deleteAtoms(e){e!=null||(e=[0,-1]),this.extractAtoms(e),this.position=e[0]}atomToString(e,t){let r=t??"latex";if(r.startsWith("latex"))return q.serialize([e],{expandMacro:r==="latex-expanded",skipStyles:r==="latex-unstyled",skipPlaceholders:r==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode});if(r==="math-ml")return ze(e);if(r==="spoken")return Yo(e);if(r==="spoken-text"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let i=Yo(e);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}if(r==="spoken-ssml"||r==="spoken-ssml-with-highlighting"){let n=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let i=Yo(e);return globalThis.MathfieldElement.textToSpeechMarkup=n,i}return r==="plain-text"?ct(e,{plain:!0}):r==="ascii-math"?ct(e):(console.error(`MathLive 0.101.0: Unexpected format "${r}`),"")}getValue(e,t,r){if(e===void 0)return this.atomToString(this.root,"latex");if(typeof e=="string"&&e!=="math-json")return this.atomToString(this.root,e);let n,i;if(Jn(e)&&Jn(t)?(n=[this.normalizeRange([e,t])],i=r):Du(e)?(n=[this.normalizeRange(e)],i=t):su(e)?(n=e.ranges,i=t):(n=[this.normalizeRange([0,-1])],i=e),i!=null||(i="latex"),i==="math-json"){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`The CortexJS Compute Engine library is not available.
Load the library, for example with:
import "https://unpkg.com/@cortex-js/compute-engine?module"`),'["Error", "compute-engine-not-available"]';let o=this.getValue({ranges:n},"latex-unstyled");try{let a=globalThis.MathfieldElement.computeEngine.parse(o);return JSON.stringify(a.json)}catch(a){return JSON.stringify(["Error",`'${a.toString()}'`])}}if(i.startsWith("latex")){let o={expandMacro:i==="latex-expanded",skipStyles:i==="latex-unstyled",skipPlaceholders:i==="latex-without-placeholders",defaultMode:this.mathfield.options.defaultMode};return Le(n.map(a=>q.serialize(this.getAtoms(a),o)))}return n.map(o=>this.getAtoms(o).map(a=>this.atomToString(a,i)).join("")).join("")}extendSelectionTo(e,t){return!this.mathfield.contentEditable&&this.mathfield.userSelect==="none"?!1:this.deferNotifications({selection:!0},()=>{let r=this.normalizeRange([e,t]),[n,i]=r,{parent:o}=this.at(i);if(o&&(o.type==="genfrac"||o.type==="subsup"))for(;o!==this.root&&Gd(this,o,[n,i]);)i=this.offsetOf(o),o=o.parent;for(o=this.at(n).parent;o!==this.root&&Gd(this,o,[n,i]);)n=this.offsetOf(o.leftSibling),o=o.parent;if(o=this.at(i).parent,(o==null?void 0:o.type)==="genfrac")for(;o!==this.root&&Gd(this,o,[n,i]);)i=this.offsetOf(o),o=o.parent;this._position=this.normalizeOffset(t),this._selection={ranges:[[n,i]],direction:"none"}})}announce(e,t,r=[]){var n,i;((i=(n=this.mathfield.host)==null?void 0:n.dispatchEvent(new CustomEvent("announce",{detail:{command:e,previousPosition:t,atoms:r},cancelable:!0,bubbles:!0,composed:!0})))==null||i)&&wS(this.mathfield,e,t,r)}deferNotifications(e,t){let r=this._selection,n=this._anchor,i=this._position,o=this.silenceNotifications;this.silenceNotifications=!0;let a=this.root.changeCounter;t(),this.silenceNotifications=o;let s=n!==this._anchor||i!==this._position||V9(this._selection,r)==="different";e.selection&&s&&this.selectionDidChange();let l=this.root.changeCounter!==a;return e.content&&l&&this.contentDidChange({inputType:e.type}),l||s}normalizeOffset(e){return e>0?e=Math.min(e,this.lastOffset):e<0&&(e=this.lastOffset+e+1),e}normalizeRange(e){let[t,r]=e;return t=this.normalizeOffset(t),r=this.normalizeOffset(r),t<r?[t,r]:[r,t]}normalizeSelection(e,t){var r;let n;if(Jn(e)){let i=this.normalizeOffset(e);if(Jn(t)){let o=this.normalizeOffset(t);n=i<=o?{ranges:[[i,o]],direction:"none"}:{ranges:[[o,i]],direction:"backward"}}else n={ranges:[[i,i]],direction:"none"}}else if(Du(e)){let i=this.normalizeOffset(e[0]),o=this.normalizeOffset(e[1]);n=i<=o?{ranges:[[i,o]],direction:"none"}:{ranges:[[o,i]],direction:"backward"}}else su(e)&&(n={ranges:e.ranges.map(i=>this.normalizeRange(i)),direction:(r=e.direction)!=null?r:"none"});return n}get parentEnvironment(){let e=this.at(this.position).parent;if(e){for(;e.parent&&e.type!=="array";)e=e.parent;if(e.type==="array")return e}}get cell(){var e;let t=this.at(this.position);if(t){for(;t&&((e=t.parent)==null?void 0:e.type)!=="array";)t=t.parent;if(!(!(t!=null&&t.parent)||t.parent.type!=="array"))return t.parentBranch}}contentWillChange(e={}){if(this.silenceNotifications||!this.mathfield)return!0;let t=this.silenceNotifications;this.silenceNotifications=!0;let r=this.mathfield.onContentWillChange(e);return this.silenceNotifications=t,r}contentDidChange(e){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Zn(this.mathfield)),this.silenceNotifications||!this.mathfield.host||!this.mathfield)return;let t=this.silenceNotifications;this.silenceNotifications=!0,setTimeout(()=>{var r;!this.mathfield||!Qn(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",B(M({},e),{data:e.data?e.data:(r=e.inputType)!=null?r:"",bubbles:!0,composed:!0})))},0),this.silenceNotifications=t}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Zn(this.mathfield)),this.silenceNotifications))return;let e=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=e}};function Ub(e,t,r,n){let i=e.offsetOf(t);if(i<r||i>n)return!1;if(!t.hasChildren)return!0;let o=e.offsetOf(t.firstChild);if(o>=r&&o<=n){let a=e.offsetOf(t.lastChild);if(a>=r&&a<=n)return!0}return!1}function Gd(e,t,r){if(!(t!=null&&t.hasChildren))return!1;let[n,i]=r,o=e.offsetOf(t.firstChild),a=e.offsetOf(t.lastChild);return o>=n&&o<=i&&a>=o&&a<=i}function ls(e,t,r,n){var i,o,a,s,l,u;let c=r.parent;if(c&&r instanceof mt){let d=!n&&t==="forward"||n==="body"&&t==="backward",p=d?e.offsetOf(r.firstChild):e.offsetOf(r.lastChild);return d?r.rightDelim!=="?"&&r.rightDelim!=="."?(r.leftDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--):r.leftDelim!=="?"&&r.leftDelim!=="."?(r.rightDelim=".",r.isDirty=!0):(c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),p--),e.position=p,!0}if(c&&r.type==="surd"){if(t==="forward"&&!n||t==="backward"&&n==="body"){let d=r.leftSibling;r.hasChildren&&c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),e.position=e.offsetOf(d)}else t==="forward"&&n==="body"?e.position=e.offsetOf(r):!n&&t==="backward"?r.hasChildren?e.position=e.offsetOf(r.lastChild):(e.position=Math.max(0,e.offsetOf(r)-1),c.removeChild(r)):n==="above"&&(r.hasEmptyBranch("above")&&r.removeBranch("above"),t==="backward"?e.position=e.offsetOf(r.leftSibling):e.position=e.offsetOf(r.body[0]));return!0}if(c&&(r.type==="box"||r.type==="enclose")){let d=n&&t==="backward"||!n&&t==="forward"?r.leftSibling:r.lastChild;return c.addChildrenAfter(r.removeBranch("body"),r),c.removeChild(r),e.position=e.offsetOf(d),!0}if(r.type==="genfrac"||r.type==="overunder"){if(!n)return r.type==="overunder"&&r.hasEmptyBranch("body")||r.type==="genfrac"&&r.hasEmptyBranch("below")&&r.hasEmptyBranch("above")?!1:(e.position=e.offsetOf(t==="forward"?r.firstChild:r.lastChild),!0);let d=lo.fractionNavigationOrder==="numerator-denominator"?"above":"below",p=d==="above"?"below":"above";if(c&&(t==="forward"&&n===d||t==="backward"&&n===p)){let m=r.removeBranch(d),g=r.removeBranch(p);return c.addChildrenAfter([...m,...g],r),c.removeChild(r),e.position=e.offsetOf(m.length>0?m[m.length-1]:g[0]),!0}return t==="backward"?e.position=e.offsetOf(r.leftSibling):e.position=e.offsetOf(r),!0}if(r.type==="extensible-symbol"||r.type==="subsup"){if(!n&&t==="forward")return!1;if(!n){if(r.subscript||r.superscript){let d=t==="forward"?(a=(i=r.superscript)==null?void 0:i[0])!=null?a:(o=r.subscript)==null?void 0:o[0]:(u=(s=r.subscript)==null?void 0:s[0].lastSibling)!=null?u:(l=r.superscript)==null?void 0:l[0].lastSibling;return d&&(e.position=e.offsetOf(d)),!0}return!1}if(!r.hasChildren&&r.type==="subsup"){let d=t==="forward"?e.offsetOf(r):Math.max(0,e.offsetOf(r)-1);return r.parent.removeChild(r),e.position=d,!0}if(n==="superscript")if(t==="backward"){let d=e.offsetOf(r.firstChild)-1;e.position=d}else r.subscript?e.position=e.offsetOf(r.subscript[0]):e.position=e.offsetOf(r);else n==="subscript"&&(t==="backward"&&r.superscript?e.position=e.offsetOf(r.superscript[0].lastSibling):t==="backward"?e.position=e.offsetOf(r.firstChild)-1:e.position=e.offsetOf(r));if(n&&r.hasEmptyBranch(n)&&(r.removeBranch(n),r.type==="subsup"&&!r.subscript&&!r.superscript)){let d=t==="forward"?e.offsetOf(r):Math.max(0,e.offsetOf(r)-1);r.parent.removeChild(r),e.position=d}return!0}if((c==null?void 0:c.type)==="genfrac"&&!n&&r.type!=="first"){let d=e.offsetOf(r.leftSibling);return c.removeChild(r),c.hasEmptyBranch("above")&&c.hasEmptyBranch("below")?(d=e.offsetOf(c.leftSibling),c.parent.removeChild(c),e.announce("delete",void 0,[c]),e.position=d,!0):(e.announce("delete",void 0,[r]),e.position=d,!0)}if(t==="backward"&&((c==null?void 0:c.command)==="\\ln"||(c==null?void 0:c.command)==="\\log")&&r.parentBranch!=="body"){let d=e.offsetOf(c.leftSibling);return c.parent.removeChild(c),e.announce("delete",void 0,[c]),e.position=d,!0}return!1}function CS(e){return!e.mathfield.isSelectionEditable||!e.contentWillChange({inputType:"deleteContentBackward"})?!1:e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let t=e.at(e.position);if(!(t&&ls(e,"backward",t))){if(t!=null&&t.isFirstSibling){if(ls(e,"backward",t.parent,t.parentBranch))return;t=null}if(!t){e.announce("plonk");return}e.position=e.offsetOf(t.leftSibling),t.parent.removeChild(t),e.announce("delete",void 0,[t])}}):Gr(e,Ut(e.selection),"deleteContentBackward")}function ES(e){return!e.mathfield.isSelectionEditable||!e.contentWillChange({inputType:"deleteContentForward"})?!1:e.selectionIsCollapsed?e.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var t,r;let n=e.at(e.position).rightSibling;if(n&&ls(e,"forward",n))return;if(n){if(e.at(e.position).isLastSibling&&ls(e,"forward",n.parent,n.parentBranch))return}else{if(n=e.at(e.position),n.isLastSibling&&ls(e,"forward",n.parent,n.parentBranch))return;n=void 0}if(e.position===e.lastOffset||!n){e.announce("plonk");return}n.parent.removeChild(n);let i=(t=e.at(e.position))==null?void 0:t.rightSibling;for(;(i==null?void 0:i.type)==="subsup";)i.parent.removeChild(i),i=(r=e.at(e.position))==null?void 0:r.rightSibling;e.announce("delete",void 0,[n])}):Gr(e,Ut(e.selection),"deleteContentForward")}function Gr(e,t,r){let n=e.getAtoms(t);if(n.length>0&&n[0].parent){let i=n[0].parent.firstChild;i.type==="first"&&(i=i.rightSibling);let o=n[n.length-1].parent.lastChild,a=n[0];a.type==="first"&&(a=a.rightSibling);let s=n[n.length-1];if(a===i&&s===o){let l=n[0].parent;l.parent&&l.type!=="prompt"&&(t=[e.offsetOf(l.leftSibling),e.offsetOf(l)])}if(n.length===1&&n[0].type==="placeholder"&&n[0].parent.type==="genfrac"){let l=n[0].parent,u=n[0].parentBranch==="below"?"above":"below",c=e.offsetOf(l.leftSibling);return e.deferNotifications({content:!0,selection:!0,type:r},()=>{var d,p;let m=l.removeBranch(u);if(m.length===1&&m[0].type==="placeholder")(p=l.parent)==null||p.removeChild(l),e.position=Math.max(0,c);else{let g=l.parent.addChildrenAfter(m,l);(d=l.parent)==null||d.removeChild(l),e.position=e.offsetOf(g)}})}}return e.deferNotifications({content:!0,selection:!0,type:r},()=>e.deleteAtoms(t))}Qt({deleteAll:e=>e.contentWillChange({inputType:"deleteContent"})&&Gr(e,[0,-1],"deleteContent"),deleteForward:e=>ES(e),deleteBackward:e=>CS(e),deleteNextWord:e=>e.contentWillChange({inputType:"deleteWordForward"})&&Gr(e,[e.anchor,W0(e,e.position,"forward")],"deleteWordForward"),deletePreviousWord:e=>e.contentWillChange({inputType:"deleteWordBackward"})&&Gr(e,[e.anchor,W0(e,e.position,"backward")],"deleteWordBackward"),deleteToGroupStart:e=>e.contentWillChange({inputType:"deleteSoftLineBackward"})&&Gr(e,[e.anchor,e.offsetOf(e.at(e.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:e=>e.contentWillChange({inputType:"deleteSoftLineForward"})&&Gr(e,[e.anchor,e.offsetOf(e.at(e.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:e=>e.contentWillChange({inputType:"deleteHardLineBackward"})&&Gr(e,[e.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:e=>e.contentWillChange({inputType:"deleteHardLineForward"})&&Gr(e,[e.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var LS=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${ve("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,AS=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${ve("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,DS=class{constructor(e,t){this.focusBlurInProgress=!1;var r,n,i;this.options=M(B(M({},hu()),{macros:qh(),registers:u2()}),zu(t)),this.eventController=new AbortController;let o=this.eventController.signal;t.eventSink&&(this.host=t.eventSink),this.element=e,e.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left",this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let a=(n=(r=t.value)!=null?r:this.element.textContent)!=null?n:"";a=a.trim();let s=wb(this.options),l=new q({type:"root",mode:s,body:Mr(a,{context:this.context})});this.model=new SS(this,s,l),this.undoManager=new lM(this.model);let u=[];if(u.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),u.push('<span part=container class=ML__container aria-hidden=true  style="visibility:hidden">'),u.push("<span part=content class=ML__content>"),u.push(v3(this)),u.push("</span>"),window.mathVirtualKeyboard&&(u.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),u.push(LS),u.push("</div>")),u.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),u.push(AS),u.push("</div>"),u.push("</span>"),u.push("<span class=ML__sr-only>"),u.push("<span role=status aria-live=assertive aria-atomic=true></span>"),u.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(u.join("")),!this.element.children){console.error("%cMathLive 0.101.0: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");return}this._l10Subscription=Se.subscribe(()=>Se.update(this.element)),Se.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",d=>d.stopImmediatePropagation(),{capture:!1,signal:o}),this.field.addEventListener("wheel",this,{passive:!1,signal:o}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:o}):this.field.addEventListener("mousedown",this,{signal:o}),(i=this.element.querySelector("[part=virtual-keyboard-toggle]"))==null||i.addEventListener("click",()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(Zn(this)))},{signal:o}),this.field.addEventListener("contextmenu",this,{signal:o});let c=this.element.querySelector("[part=menu-toggle]");c==null||c.addEventListener("pointerdown",d=>{if(d.currentTarget!==c)return;let p=this.menu;if(p.state!=="closed")return;this.element.classList.add("tracking");let m=c.getBoundingClientRect();p.modifiers=Ji(d),p.show({target:c,location:{x:m.left,y:m.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),d.preventDefault(),d.stopPropagation()},{signal:o}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||this.userSelect==="none")&&(c.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=pk(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:o}),document.addEventListener("scroll",this,{signal:o}),this.resizeObserver=new ResizeObserver(d=>{if(this.resizeObserverStarted){this.resizeObserverStarted=!1;return}dt(this)}),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:o}),dr!=="ready"&&document.fonts.ready.then(()=>Nu(this)),e.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value")}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Zn(this)),Jl(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,Z0())}showMenu(e){var t,r;let n=(r=(t=e==null?void 0:e.location)!=null?t:uu(this.field))!=null?r:void 0,i=e==null?void 0:e.modifiers,o=this.element.querySelector("[part=container]");return this._menu.show({target:o,location:n,modifiers:i})}get colorMap(){return e=>{var t,r,n;return(n=(r=(t=this.options).colorMap)==null?void 0:r.call(t,e))!=null?n:uc(e)}}get backgroundColorMap(){return e=>{var t,r,n,i,o,a;return(a=(o=(r=(t=this.options).backgroundColorMap)==null?void 0:r.call(t,e))!=null?o:(i=(n=this.options).colorMap)==null?void 0:i.call(n,e))!=null?a:zh(e)}}get smartFence(){var e;return(e=this.options.smartFence)!=null?e:!1}get readOnly(){var e;return(e=this.options.readOnly)!=null?e:!1}get disabled(){var e,t;return(t=(e=this.host)==null?void 0:e.disabled)!=null?t:!1}get contentEditable(){return this.host?this.host.getAttribute("contenteditable")!=="false":!1}get userSelect(){if(!this.host)return"";let e=getComputedStyle(this.host);return e.getPropertyValue("user-select")||e.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return this.disabled||!this.contentEditable?!1:!this.readOnly||this.hasEditablePrompts}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&this.model.findAtom(e=>e.type==="prompt"&&!e.locked)!==void 0}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let e=this.model.at(this.model.anchor),t=this.model.at(this.model.position),r=q.commonAncestor(e,t);return!!((r==null?void 0:r.type)==="prompt"||r!=null&&r.parentPrompt)}get letterShapeStyle(){var e;return(e=this.options.letterShapeStyle)!=null?e:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(e){let t=U0(this,e);"verbatimColor"in t&&delete t.verbatimColor,"verbatimBackgroundColor"in t&&delete t.verbatimBackgroundColor;let r=Object.keys(t).length;if(r===0)return"all";if(r>1){for(let l of Object.keys(t)){let u=this.queryStyle({[l]:t[l]});if(u==="none")return"none";if(u==="some")return"some"}return"all"}let n=Object.keys(t)[0],i=t[n];if(this.model.selectionIsCollapsed)return Ru(this)[n]===i?"all":"none";let o=this.model.getAtoms(this.model.selection,{includeChildren:!0}),a=o.length;if(a===0)return"none";let s=0;for(let l of o){if(l.type==="first"){a-=1;continue}l.style[n]===i&&(s+=1)}return s===0?"none":s===a?"all":"some"}get keybindings(){var e,t;if(this._keybindings)return this._keybindings;let[r,n]=yk(this.options.keybindings,(e=ws())!=null?e:ck());return((t=ws())==null?void 0:t.score)>0&&(this._keybindings=r,n.length>0&&console.error("MathLive 0.101.0: Invalid keybindings for current keyboard layout",n)),r}get menu(){return this._menu!=null||(this._menu=new Nb(bS(this),{host:this.host})),this._menu}set menuItems(e){this._menu?this._menu.menuItems=e:this._menu=new Nb(e,{host:this.host})}setOptions(e){var t;this.options=M(M({},this.options),zu(e)),this._keybindings=void 0,this.options.defaultMode==="inline-math"?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let r=this.options.defaultMode;r==="inline-math"&&(r="math"),((t=this.model.root.firstChild)==null?void 0:t.mode)!==r&&(this.model.root.firstChild.mode=r),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=q.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in e||this.model.getValue()!==n)&&_3(this),("value"in e||"registers"in e||"colorMap"in e||"backgroundColorMap"in e||"letterShapeStyle"in e||"minFontScale"in e||"maxMatrixCols"in e||"readOnly"in e||"placeholderSymbol"in e)&&dt(this)}getOptions(e){return Gi(this.options,e)}getOption(e){return Gi(this.options,e)}async handleEvent(e){var t;if(Qn(this)){if(rp(e)){if(!jh(e.origin,(t=this.options.originValidator)!=null?t:"none"))throw new DOMException(`Message from unknown origin (${e.origin}) cannot be handled`,"SecurityError");let{action:r}=e.data;if(r==="execute-command"){let n=ks(e.data.command);if(!n||Go(n)==="virtual-keyboard")return;this.executeCommand(n)}else r==="update-state"||(r==="focus"?this.focus({preventScroll:!0}):r==="blur"&&this.blur());return}switch(e.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":this.userSelect!=="none"&&Lb(this,e);break;case"pointerdown":!e.defaultPrevented&&this.userSelect!=="none"&&(Lb(this,e),e.shiftKey===!1&&await $b(e,this.element.querySelector("[part=container]"),this.menu)&&qu.stop());break;case"contextmenu":this.userSelect!=="none"&&e.shiftKey===!1&&await $b(e,this.element.querySelector("[part=container]"),this.menu)&&qu.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&Jl(this);break;case"resize":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Qn(this)&&this.onGeometryChange());break;case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame(()=>Qn(this)&&this.onGeometryChange());break;case"wheel":this.onWheel(e);break;case"message":break;default:console.warn("Unexpected event type",e.type)}}}dispose(){if(!Qn(this))return;Se.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose();let e=this.element;delete e.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,vM(),kk(),RM()}flushInlineShortcutBuffer(e){if(e!=null||(e={defer:!1}),!e.defer){this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=0;return}this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(e){return Go(e)==="virtual-keyboard"?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(e),requestAnimationFrame(()=>window.mathVirtualKeyboard.update(Zn(this))),!1):Dk(this,e)}get errors(){return Lw(this.model.getValue(),{context:this.context})}getValue(e,t,r){return this.model.getValue(e,t,r)}setValue(e,t){var r;t=t??{mode:"math"},t.insertionMode===void 0&&(t.insertionMode="replaceAll"),(t.format===void 0||t.format==="auto")&&(t.format="latex"),(t.mode===void 0||t.mode==="auto")&&(t.mode=(r=W9(this.model,this.model.position))!=null?r:"math");let n=this.undoManager.canUndo();Ze.insert(this.model,e,t)&&(dt(this),n||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let e=globalThis.MathfieldElement.computeEngine;return e?e.box(e.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.101.0:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var e;if(!this.element)return;if(this.host){if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let n=window.mathVirtualKeyboard.boundingRect,i=this.host.getBoundingClientRect();i.bottom>n.top&&((e=window.document.scrollingElement)==null||e.scrollBy(0,i.bottom-n.top+8))}}this.dirty&&no(this,{interactive:!0});let t=this.field.getBoundingClientRect(),r=null;if(this.model.selectionIsCollapsed)r=uu(this.field);else{let n=y2(this);if(n.length>0){let i=-1/0,o=-1/0;for(let a of n)a.right>i&&(i=a.right),a.top<o&&(o=a.top);r={x:i+t.left-this.field.scrollLeft,y:o+t.top-this.field.scrollTop,height:0}}}if(this.host&&r){let n=this.host.getBoundingClientRect(),i=r.y,o=this.host.scrollTop;i<n.top?o=i-n.top+this.host.scrollTop:i>n.bottom&&(o=i-n.bottom+this.host.scrollTop+r.height),this.host.scroll({top:o,left:0})}if(r){let n=r.x-window.scrollX,i=this.field.scrollLeft;n<t.left?i=n-t.left+this.field.scrollLeft-20:n>t.right&&(i=n-t.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:i})}}insert(e,t){return typeof e!="string"||e.length===0&&((t==null?void 0:t.insertionMode)==="insertBefore"||(t==null?void 0:t.insertionMode)==="insertAfter")||e.length===0&&this.model.selectionIsCollapsed?!1:(this.flushInlineShortcutBuffer(),t=t??{mode:"math"},t.focus&&this.focus(),t.feedback&&(globalThis.MathfieldElement.keypressVibration&&G4()&&navigator.vibrate(x3),globalThis.MathfieldElement.playSound("keypress")),e==="\\\\"?C3(this.model):e==="&"?E3(this.model):this.model.selectionIsCollapsed?Ze.insert(this.model,e,M({style:this.model.at(this.model.position).style},t)):Ze.insert(this.model,e,t),this.snapshot(`insert-${this.model.at(this.model.position).type}`),dt(this),t.scrollIntoView&&this.scrollIntoView(),!0)}switchMode(e,t="",r=""){if(this.model.mode===e||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:n}=this,i=n.mode;if(n.mode=e,this.host&&!this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){n.mode=i;return}n.mode=i,n.deferNotifications({content:!!r||!!t,selection:!0,type:"insertText"},()=>{let o=n.at(n.position),a=(c,d)=>{if(!c)return;let p=n.mode==="math"?Mr(N0(c,{format:"ascii-math"})[1],{context:this.context}):[...c].map(m=>new ma(m,m,{}));if(d.select){let m=o.parent.addChildrenAfter(p,o);n.setSelection(n.offsetOf(p[0].leftSibling),n.offsetOf(m))}else n.position=n.offsetOf(o.parent.addChildrenAfter(p,o));u=!0},s=(c,d)=>{let p=new rs(c);o.parent.addChildAfter(p,o),d.select?n.setSelection(n.offsetOf(p.firstChild),n.offsetOf(p.lastChild)):n.position=n.offsetOf(p.lastChild),u=!0},l=()=>{let c=e==="latex"?"latex":e==="math"?"plain-text":"ascii-math",d=Ut(n.selection),p=this.model.getValue(d,c),m=this.model.extractAtoms(d);return m.length===1&&m[0].type==="placeholder"&&(p=r),o=n.at(d[0]),p},u=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),la(this,"accept"),n.selectionIsCollapsed)a(t,{select:!1}),n.mode=e,e==="latex"?s(r,{select:!1}):a(r,{select:!1});else{let c=l();n.mode=e,e==="latex"?s(c,{select:!0}):a(c,{select:!0})}return dt(this),this.undoManager.snapshot(e==="latex"?"insert-latex":"insert"),u}),n.mode=e,window.mathVirtualKeyboard.update(Zn(this))}hasFocus(){return!this.blurred}focus(e){var t;this.hasFocus()||(this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.onFocus(),this.model.announce("line")),(t=e==null?void 0:e.preventScroll)!=null&&t||this.scrollIntoView()}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(e,t={}){var r;let n,i="set",o=!1;Du(t)?n=t:(t.operation==="toggle"&&(i="toggle"),n=t.range,o=(r=t.silenceNotifications)!=null?r:!1),n&&(n=this.model.normalizeRange(n)),n&&n[0]===n[1]&&(n=void 0);let a=U0(this,e);if(n===void 0&&this.model.selectionIsCollapsed){if(i==="set"){let l=M({},this.defaultStyle);"color"in a&&delete l.verbatimColor,"backgroundColor"in a&&delete l.verbatimBackgroundColor,this.defaultStyle=M(M({},l),a),this.styleBias="none";return}let s=M({},this.defaultStyle);for(let l of Object.keys(a))s[l]===a[l]?(l==="color"&&delete s.verbatimColor,l==="backgroundColor"&&delete s.verbatimBackgroundColor,delete s[l]):s[l]=a[l];this.defaultStyle=s,this.styleBias="none";return}this.model.deferNotifications({content:!o,type:"insertText"},()=>{if(n===void 0)for(let s of this.model.selection.ranges)$0(this.model,s,a,{operation:i});else $0(this.model,n,a,{operation:i})}),dt(this)}toggleContextMenu(){var e;let t=this.menu;if(!t.visible)return!1;if(t.state==="open")return t.hide(),!0;let r=(e=_2(this,this.model.position))==null?void 0:e.bounds;if(!r)return!1;let n={x:r.right,y:r.bottom};return t.show({target:this.element.querySelector("[part=container]"),location:n,onDismiss:()=>{var i;return(i=this.element)==null?void 0:i.focus()}}),!0}getPrompt(e){return this.model.findAtom(r=>r.type==="prompt"&&r.placeholderId===e)}getPromptValue(e,t){let r=this.getPrompt(e);if(!r)return"";let n=this.model.offsetOf(r.firstChild),i=this.model.offsetOf(r.lastChild);return this.model.getValue(n,i,t)}getPrompts(e){return this.model.getAllAtoms().filter(t=>t.type!=="prompt"?!1:e?!(e.id&&t.placeholderId!==e.id||e.locked&&t.locked!==e.locked||e.correctness==="undefined"&&t.correctness||e.correctness&&t.correctness!==e.correctness):!0).map(t=>t.placeholderId)}setPromptValue(e,t,r){if(t!==void 0){let n=this.getPrompt(e);if(!n){console.error(`MathLive 0.101.0: unknown prompt ${e}`);return}let i=this.model.getBranchRange(this.model.offsetOf(n),"body");this.model.setSelection(i),this.insert(t,B(M({},r),{insertionMode:"replaceSelection"}))}r!=null&&r.silenceNotifications&&(this.valueOnFocus=this.getValue()),dt(this)}setPromptState(e,t,r){let n=this.getPrompt(e);if(!n){console.error(`MathLive 0.101.0: unknown prompt ${e}`);return}t==="undefined"?n.correctness=void 0:typeof t=="string"&&(n.correctness=t),typeof r=="boolean"&&(n.locked=r,n.captureSelection=r),dt(this)}getPromptState(e){let t=this.getPrompt(e);return t?[t.correctness,t.locked]:(console.error(`MathLive 0.101.0: unknown prompt ${e}`),[void 0,!0])}getPromptRange(e){let t=this.getPrompt(e);return t?this.model.getBranchRange(this.model.offsetOf(t),"body"):(console.error(`MathLive 0.101.0: unknown prompt ${e}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(e){var t;this.undoManager.snapshot(e)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Zn(this)),(t=this.host)==null||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var e;this.undoManager.undo()&&((e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var e;this.undoManager.redo()&&((e=this.host)==null||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var e;(e=this.undoManager)==null||e.reset()}onSelectionDidChange(){var e,t;let r=this.model;if(this.keyboardDelegate.setValue(r.getValue(r.selection,"latex-expanded")),r.selectionIsCollapsed){let n=Zh(r),i=r.position,o=r.at(i),a=(e=o.mode)!=null?e:wb(this.options);if(n&&(i<r.offsetOf(n.firstChild)-1||i>r.offsetOf(n.lastChild)+1))la(this,"accept",{mode:a}),r.position=r.offsetOf(o);else{let s=r.at(i+1);(s==null?void 0:s.type)==="first"&&s.mode==="latex"?r.position=i+1:n&&(s==null?void 0:s.mode)!=="latex"?r.position=i-1:this.switchMode(a)}}(t=this.host)==null||t.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(Zn(this)),Jl(this)}onContentWillChange(e){var t,r,n;return(n=(r=this.host)==null?void 0:r.dispatchEvent(new InputEvent("beforeinput",B(M({},e),{data:e.data?e.data:(t=e.inputType)!=null?t:"",cancelable:!0,bubbles:!0,composed:!0}))))!=null?n:!0}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),this.stopCoalescingUndo(),no(this,{interactive:!0}),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),this.focusBlurInProgress=!1)}onBlur(){var e,t,r;if(!(this.focusBlurInProgress||this.blurred)&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",ua(this),this.model.getValue()!==this.valueOnFocus&&((e=this.host)==null||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),(t=this.host)==null||t.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),(r=this.host)==null||r.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),dt(this),this.focusBlurInProgress=!1,Z0(),sp.restoreFocusWhenDocumentFocused)){let n=new AbortController,i=n.signal;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&document.addEventListener("visibilitychange",()=>{Qn(this)&&document.visibilityState==="visible"&&this.focus({preventScroll:!0})},{once:!0,signal:i})},{once:!0,signal:i}),document.addEventListener("focusin",()=>n.abort(),{once:!0})}}onInput(e){G0(this,e)}onKeystroke(e){return P3(this,e)}onCompositionStart(e){this.model.deleteAtoms(Ut(this.model.selection));let t=uu(this.field);t&&requestAnimationFrame(()=>{no(this),this.keyboardDelegate.moveTo(t.x,t.y-t.height)})}onCompositionUpdate(e){Qk(this.model,e),dt(this)}onCompositionEnd(e){eM(this.model),G0(this,e,{simulateKeystroke:!0})}onCut(e){if(!this.isSelectionEditable){this.model.announce("plonk");return}this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),e.clipboardData?Ze.onCopy(this,e):Ze.copyToClipboard(this,"latex"),Gr(this.model,Ut(this.model.selection),"deleteByCut"),this.snapshot("cut"),dt(this))}onCopy(e){e.clipboardData?Ze.onCopy(this,e):Ze.copyToClipboard(this,"latex")}onPaste(e){let t=this.isSelectionEditable;return t&&(t=Ze.onPaste(this.model.at(this.model.position).mode,this,e.clipboardData)),t||this.model.announce("plonk"),e.preventDefault(),e.stopPropagation(),t}onGeometryChange(){var e;(e=this._menu)==null||e.hide(),xc(this),Jl(this)}onWheel(e){let t=5*e.deltaX;if(!Number.isFinite(t)||t===0)return;let r=this.field;t<0&&r.scrollLeft===0||t>0&&r.offsetWidth+r.scrollLeft>=r.scrollWidth||(r.scrollBy({top:0,left:t}),e.preventDefault(),e.stopPropagation())}getHTMLElement(e){let t=e;for(;!t.id&&t.hasChildren;)t=e.children[0];return this.field.querySelector(`[data-atom-id="${t.id}"]`)}get context(){var e,t;return{registers:(e=this.options.registers)!=null?e:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:(t=this.options.placeholderSymbol)!=null?t:"▢",colorMap:r=>this.colorMap(r),backgroundColorMap:r=>this.backgroundColorMap(r),getMacro:r=>t2(r,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};Qt({speak:(e,t,r)=>BS(e,t,r)},{target:"mathfield"});function BS(e,t,r){var n;r=r??{withHighlighting:!1};let{model:i}=e;function o(c){let d=null;switch(c){case"all":d=i.root;break;case"selection":d=i.getAtoms(i.selection);break;case"left":{d=i.getAtoms(i.offsetOf(i.at(i.position).leftSibling),i.position);break}case"right":{d=i.getAtoms(i.position,i.offsetOf(i.at(i.position).rightSibling));break}case"group":d=i.getAtoms(i.getSiblingsRange(i.position));break;case"parent":{let{parent:p}=i.at(i.position);p!=null&&p.parent?d=p:d=i.root;break}default:d=i.root}return d}function a(c){let d="";switch(c){case"all":console.error("Internal failure: speak all failed");break;case"selection":d="no selection";break;case"left":d="at start";break;case"right":d="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":d="no parent";break;default:console.error('unknown speak_ param value: "'+c+'"');break}return d}let s=globalThis.MathfieldElement,l=o(t);if(l===null)return(n=s.speakHook)==null||n.call(s,a(t)),!1;(r.withHighlighting||s.speechEngine==="amazon")&&(s.textToSpeechMarkup=globalThis.sre&&s.textToSpeechRules==="sre"?"ssml_step":"ssml");let u=Yo(l);return Cr()&&r.withHighlighting?(Wn().readAloudMathfield=e,no(e,{forHighlighting:!0}),s.readAloudHook&&s.readAloudHook(e.field,u)):s.speakHook&&s.speakHook(u),!1}function TS(e){var t,r;if(!Cr())return;let n=globalThis.MathfieldElement;if(!n.speechEngine||n.speechEngine==="local"){let i=new SpeechSynthesisUtterance(e);globalThis.speechSynthesis.speak(i)}else if(n.speechEngine==="amazon")if(!("AWS"in window))console.error("MathLive 0.101.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else{let i=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),o={OutputFormat:"mp3",VoiceId:(t=n.speechEngineVoice)!=null?t:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes((r=n.speechEngineVoice)!=null?r:"Joanna")?"neural":"standard",Text:e,TextType:"ssml"};i.synthesizeSpeech(o,(a,s)=>{if(a)console.trace(`MathLive 0.101.0: \`polly.synthesizeSpeech()\` error: ${a}`);else if(s!=null&&s.AudioStream){let l=new Uint8Array(s.AudioStream),u=new Blob([l.buffer],{type:"audio/mpeg"}),c=URL.createObjectURL(u);new Audio(c).play().catch(d=>console.error(d))}})}else n.speechEngine==="google"&&console.error("MathLive 0.101.0: The Google speech engine is not supported yet. Please come again.")}function J3(e){if(e&&(e.classList.remove("ML__highlight"),e.children))for(let t of e.children)J3(t)}function oh(e,t){var r;e&&(!t||((r=e.dataset)==null?void 0:r.atomId)===t?(e.classList.add("ML__highlight"),e.children&&e.children.length>0&&[...e.children].forEach(n=>{n instanceof HTMLElement&&oh(n)})):(e.classList.remove("ML__highlight"),e.children&&e.children.length>0&&[...e.children].forEach(n=>{n instanceof HTMLElement&&oh(n,t)})))}function FS(e,t){var r;if(!Cr())return;if(globalThis.MathfieldElement.speechEngine!=="amazon"){console.error("MathLive 0.101.0: Use Amazon TTS Engine for synchronized highlighting"),typeof globalThis.MathfieldElement.speakHook=="function"&&globalThis.MathfieldElement.speakHook(t);return}if(!globalThis.AWS){console.error("MathLive 0.101.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");return}let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"json",VoiceId:(r=globalThis.MathfieldElement.speechEngineVoice)!=null?r:"Joanna",Engine:"standard",Text:t,TextType:"ssml",SpeechMarkTypes:["ssml"]};Wn().readAloudElement=e,n.synthesizeSpeech(i,(o,a)=>{if(o){console.trace(`MathLive 0.101.0: \`polly.synthesizeSpeech()\` error: ${o}`);return}if(!(a!=null&&a.AudioStream))return;let s=new TextDecoder("utf-8").decode(new Uint8Array(a.AudioStream));Wn().readAloudMarks=s.split(`
`).map(l=>l?JSON.parse(l):{}),Wn().readAloudTokens=[];for(let l of Wn().readAloudMarks)l.value&&Wn().readAloudTokens.push(l.value);Wn().readAloudCurrentMark="",i.OutputFormat="mp3",i.SpeechMarkTypes=[],n.synthesizeSpeech(i,(l,u)=>{if(l){console.trace(`MathLive 0.101.0: \`polly.synthesizeSpeech("${t}") error:${l}`);return}if(!(u!=null&&u.AudioStream))return;let c=new Uint8Array(u.AudioStream),d=new Blob([c.buffer],{type:"audio/mpeg"}),p=URL.createObjectURL(d),m=Wn();m.readAloudAudio?m.readAloudAudio.pause():(m.readAloudAudio=new Audio,m.readAloudAudio.addEventListener("ended",()=>{let g=m.readAloudMathfield;m.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),g?(no(g),m.readAloudElement=null,m.readAloudMathfield=null,m.readAloudTokens=[],m.readAloudMarks=[],m.readAloudCurrentMark=""):J3(m.readAloudElement)}),m.readAloudAudio.addEventListener("timeupdate",()=>{let g="",y=m.readAloudAudio.currentTime*1e3+100;for(let L of m.readAloudMarks)L.time<y&&(g=L.value);m.readAloudCurrentMark!==g&&(m.readAloudCurrentToken=g,g&&g===m.readAloudFinalToken?m.readAloudAudio.pause():(m.readAloudCurrentMark=g,oh(m.readAloudElement,m.readAloudCurrentMark)))})),m.readAloudAudio.src=p,m.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),m.readAloudAudio.play()})})}Cr()||console.error('MathLive 0.101.0: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var qe=new WeakMap,OS=.5,Vn={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},vt=class mn extends HTMLElement{constructor(t){if(super(),this._observer=null,t){let r=[];for(let n of Object.keys(t))if(Vn[n])if(Vn[n].startsWith("mf."))if(Vn[n].startsWith(`mf.${n}`))r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Vn[n]}`);else{let i=Vn[n].match(/([a-zA-Z]+) =/);r.push(`Option \`${n}\` has been renamed \`${i[1]}\``)}else r.push(`Option \`${n}\` cannot be used as a constructor option. Use ${Vn[n]}`);if(r.length>0){console.group("%cMathLive 0.101.0: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let n of r)console.warn(n);console.groupEnd()}}if(Ao()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[To("core"),To("mathfield"),To("mathfield-element"),To("ui"),To("menu")],this.shadowRoot.appendChild(document.createElement("span"));let r=document.createElement("slot");r.style.display="none",this.shadowRoot.appendChild(r)}else this.shadowRoot.innerHTML="<style>"+ji("core")+ji("mathfield")+ji("mathfield-element")+ji("ui")+ji("menu")+'</style><span></span><slot style="display:none"></slot>';t&&this._setOptions(t)}static get formAssociated(){return Ao()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(t){t!==this._fontsDirectory&&(this._fontsDirectory=t,Ck())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(t){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(t){this._soundsDirectory=t,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(t){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(t){var r,n,i;this.audioBuffers={},t===null?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:typeof t=="string"?this._keypressSound={spacebar:t,return:t,delete:t,default:t}:typeof t=="object"&&"default"in t&&(this._keypressSound={spacebar:(r=t.spacebar)!=null?r:t.default,return:(n=t.return)!=null?n:t.default,delete:(i=t.delete)!=null?i:t.default,default:t.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(t){this.audioBuffers={},this._plonkSound=t}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(t){this._speechEngine=t}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(t){this._speechEngineRate=t}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(t){this._speechEngineVoice=t}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(t){this._textToSpeechMarkup=t}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(t){this._textToSpeechRules=t}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(t){this._textToSpeechRulesOptions=t}static get locale(){return Se.locale}static set locale(t){t==="auto"&&(t=navigator.language.slice(0,5)),Se.locale=t}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(t){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return Se.strings}static set strings(t){Se.merge(t)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(t){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(t){this._decimalSeparator=t,this._computeEngine&&(this._computeEngine.latexOptions.decimalMarker=this.decimalSeparator===","?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(t){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get computeEngine(){var t,r;if(this._computeEngine===void 0){let n=(t=window[Symbol.for("io.cortexjs.compute-engine")])==null?void 0:t.ComputeEngine;if(!n)return null;this._computeEngine=new n,this._computeEngine&&this.decimalSeparator===","&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return(r=this._computeEngine)!=null?r:null}static set computeEngine(t){this._computeEngine=t}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(t){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return typeof this._isFunction!="function"?()=>!1:this._isFunction}static set isFunction(t){this._isFunction=t,document.querySelectorAll("math-field").forEach(r=>{r instanceof mn&&_3(r._mathfield)})}static async loadSound(t){delete this.audioBuffers[t];let r="";switch(t){case"keypress":r=this._keypressSound.default;break;case"return":r=this._keypressSound.return;break;case"spacebar":r=this._keypressSound.spacebar;break;case"delete":r=this._keypressSound.delete;break;case"plonk":r=this.plonkSound;break}if(typeof r!="string")return;r=r.trim();let n=this.soundsDirectory;if(!(n==null||n==="null"||r==="none"||r==="null"))try{let i=await(await fetch(await y3(`${n}/${r}`))).arrayBuffer(),o=await this.audioContext.decodeAudioData(i);this.audioBuffers[t]=o}catch{}}static async playSound(t){if((this.audioContext.state==="suspended"||this.audioContext.state==="interrupted")&&await this.audioContext.resume(),this.audioBuffers[t]||await this.loadSound(t),!this.audioBuffers[t])return;let r=this.audioContext.createBufferSource();r.buffer=this.audioBuffers[t];let n=this.audioContext.createGain();n.gain.value=OS,r.connect(n).connect(this.audioContext.destination),r.start()}showMenu(t){var r,n;return(n=(r=this._mathfield)==null?void 0:r.showMenu(t))!=null?n:!1}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",t=>{let r=this._mathfield;if(r&&t.target===this&&!r.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:t.altKey,button:t.button,buttons:t.buttons,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,movementX:t.movementX,movementY:t.movementY,relatedTarget:t.relatedTarget,screenX:t.screenX,screenY:t.screenY,shiftKey:t.shiftKey}));let n=this.getOffsetFromPoint(t.clientX,t.clientY);n>=0&&mn.openUrl(nw(r,n)),t.pointerType==="touch"&&this.selectionIsCollapsed&&(this.position=n)}},{once:!0})}getPromptValue(t,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.getPromptValue(t,r))!=null?i:""}setPromptValue(t,r,n){var i;(i=this._mathfield)==null||i.setPromptValue(t,r,n)}getPromptRange(t){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptRange(t))!=null?n:null}getPrompts(t){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPrompts(t))!=null?n:[]}get form(){var t;return(t=this._internals)==null?void 0:t.form}get name(){var t;return(t=this.getAttribute("name"))!=null?t:""}get type(){return this.localName}get mode(){var t,r;return(r=(t=this._mathfield)==null?void 0:t.model.mode)!=null?r:this.defaultMode==="text"?"text":"math"}set mode(t){var r;(r=this._mathfield)==null||r.switchMode(t)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error(`MathLive 0.101.0: The CortexJS Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`),null)}set expression(t){var r,n;if(!this._mathfield)return;let i=(n=(r=mn.computeEngine)==null?void 0:r.box(t).latex)!=null?n:null;i!==null&&this._mathfield.setValue(i),window[Symbol.for("io.cortexjs.compute-engine")]||console.error(`MathLive 0.101.0: The Compute Engine library is not available.
        
        Load the library, for example with:
        
        import "https://unpkg.com/@cortex-js/compute-engine?module"`)}get errors(){var t,r;return(r=(t=this._mathfield)==null?void 0:t.errors)!=null?r:[]}_getOptions(t){return this._mathfield?Gi(this._mathfield.options,t):qe.has(this)?M({},Gi(M(M({},hu()),zu(qe.get(this).options)),t)):null}getOptions(t){return console.warn("%cMathLive 0.101.0: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?Gi(this._mathfield.options,t):qe.has(this)?Gi(M(M({},hu()),zu(qe.get(this).options)),t):null}reflectAttributes(){let t=hu(),r=this._getOptions();Object.keys(mn.optionsAttributes).forEach(n=>{let i=yn(n);mn.optionsAttributes[n]==="on/off"?t[i]!==r[i]?this.setAttribute(n,r[i]?"on":"off"):this.removeAttribute(n):t[i]!==r[i]&&(mn.optionsAttributes[n]==="boolean"?r[i]?this.setAttribute(n,""):this.removeAttribute(n):(typeof r[i]=="string"||typeof r[i]=="number")&&this.setAttribute(n,r[i].toString()))})}getOption(t){return console.warn("%cMathLive 0.101.0: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([t])[t]}_getOption(t){return this._getOptions([t])[t]}_setOptions(t){if(this._mathfield)this._mathfield.setOptions(t);else if(qe.has(this)){let r=M(M({},qe.get(this).options),t);qe.set(this,B(M({},qe.get(this)),{selection:{ranges:r.readOnly?[[0,0]]:[[0,-1]]},options:r}))}else qe.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:t,menuItems:void 0});this.reflectAttributes()}setOptions(t){console.group("%cMathLive 0.101.0: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let r of Object.keys(t))Vn[r]&&console.warn(`\`mf.setOptions({${r}:...})\` -> ${Vn[r]}`);console.groupEnd(),this._setOptions(t)}executeCommand(...t){var r,n;let i;if(t.length===1?i=t[0]:i=[t[0],...t.slice(1)],i)return(n=(r=this._mathfield)==null?void 0:r.executeCommand(i))!=null?n:!1;throw new Error("Invalid selector")}getValue(t,r,n){var i,o;if(this._mathfield)return this._mathfield.model.getValue(t,r,n);if(qe.has(this)){let a,s,l;if(su(t)?([a,s]=t.ranges[0],l=r):Du(t)?([a,s]=t,l=r):Jn(t)&&Jn(r)?(a=t,s=r,l=n):(a=0,s=-1,l=t),(l===void 0||l==="latex")&&a===0&&s===-1)return(o=(i=qe.get(this).value)!=null?i:this.textContent)!=null?o:""}return""}setValue(t,r){if(this._mathfield&&t!==void 0){if(this._mathfield.model.getValue()===t)return;r!=null||(r={silenceNotifications:!0,mode:"math"}),this._mathfield.setValue(t,r);return}if(qe.has(this)){let i=qe.get(this).options;qe.set(this,{value:t,selection:{ranges:[[-1,-1]],direction:"forward"},options:i,menuItems:void 0});return}let n=Zl(this);qe.set(this,{value:t,selection:{ranges:[[-1,-1]],direction:"forward"},options:n,menuItems:void 0})}hasFocus(){var t,r;return(r=(t=this._mathfield)==null?void 0:t.hasFocus())!=null?r:!1}focus(){var t;(t=this._mathfield)==null||t.focus()}blur(){var t;(t=this._mathfield)==null||t.blur()}select(){var t;(t=this._mathfield)==null||t.select()}insert(t,r){var n,i;return(i=(n=this._mathfield)==null?void 0:n.insert(t,r))!=null?i:!1}applyStyle(t,r){var n;return(n=this._mathfield)==null?void 0:n.applyStyle(t,r)}queryStyle(t){var r,n;return(n=(r=this._mathfield)==null?void 0:r.queryStyle(t))!=null?n:"none"}getOffsetFromPoint(t,r,n){return this._mathfield?mu(this._mathfield,t,r,n):-1}getElementInfo(t){return _2(this._mathfield,t)}resetUndo(){var t;(t=this._mathfield)==null||t.resetUndo()}canUndo(){return this._mathfield?this._mathfield.canUndo():!1}canRedo(){return this._mathfield?this._mathfield.canRedo():!1}handleEvent(t){var r,n,i,o,a;Fr.state==="closed"&&((n=(r=this._mathfield)==null?void 0:r.menu)==null?void 0:n.state)==="closed"&&(t.type==="pointerdown"&&this.onPointerDown(),t.type==="focus"&&((i=this._mathfield)==null||i.focus()),t.type==="blur"&&((o=Fr.scrim)==null?void 0:o.state)==="closed"&&!(j4()&&i9())&&((a=this._mathfield)==null||a.blur()))}connectedCallback(){var t,r,n,i;let o=this.shadowRoot,a=o.host,s=window.getComputedStyle(this).userSelect!=="none";if(s)a.addEventListener("pointerdown",this,!0);else{let c=o.querySelector("span");c.style.pointerEvents="none"}a.addEventListener("focus",this,!0),a.addEventListener("blur",this,!0),this._observer=new MutationObserver(()=>{var c;this.value=(c=this.textContent)!=null?c:""}),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),Ao()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),s&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let l=o.querySelector("slot:not([name])");if(l)try{this._style=l.assignedElements().filter(c=>c.tagName.toLowerCase()==="style").map(c=>c.textContent).join("")}catch(c){console.error(c)}if(this._style){let c=document.createElement("style");c.textContent=this._style,o.appendChild(c)}let u="";if(this.hasAttribute("value")?u=this.getAttribute("value"):u=(t=l==null?void 0:l.assignedNodes().map(c=>c.nodeType===3?c.textContent:"").join("").trim())!=null?t:"",this._mathfield=new DS(o.querySelector(":host > span"),B(M({},(n=(r=qe.get(this))==null?void 0:r.options)!=null?n:Zl(this)),{eventSink:this,value:u})),!qe.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let c of Object.keys(mn.optionsAttributes))this.upgradeProperty(yn(c))}if(!((i=this._mathfield)!=null&&i.model)){this._mathfield=null;return}if(qe.has(this)){let c=this._mathfield,d=qe.get(this),p=d.menuItems;c.model.deferNotifications({content:!1,selection:!1},()=>{let m=d.value;m!==void 0&&c.setValue(m),c.model.selection=d.selection,qe.delete(this)}),p&&(this.menuItems=p)}window.queueMicrotask(()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))}),ep()}disconnectedCallback(){var t,r,n;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;(t=this._observer)==null||t.disconnect(),this._observer=null,window.queueMicrotask(()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0})));let i=Gi(this._mathfield.options,Object.keys(mn.optionsAttributes).map(o=>yn(o)));qe.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:(n=(r=this._mathfield.menu)==null?void 0:r.menuItems)!=null?n:void 0,options:i}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(t){if(this.hasOwnProperty(t)){let r=this[t];delete this[t],(t==="readonly"||t==="read-only")&&(t="readOnly"),this[t]=r}}attributeChangedCallback(t,r,n){if(r===n)return;let i=n!==null;switch(t){case"contenteditable":dt(this._mathfield);break;case"disabled":this.disabled=i;break;case"read-only":case"readonly":this.readOnly=i;break}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(t){let r=!!t;r?(this.setAttribute("readonly",""),Ao()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(Ao()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:r})}get disabled(){return this.hasAttribute("disabled")}set disabled(t){var r;let n=!!t;n?this.setAttribute("disabled",""):this.removeAttribute("disabled"),Ao()?this._internals.ariaDisabled=n?"true":"false":this.setAttribute("aria-disabled",n?"true":"false"),n&&(r=this._mathfield)!=null&&r.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(t){this.setValue(t)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(t){this._setOptions({defaultMode:t})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(t){this._setOptions({macros:t})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let t=this;return new Proxy({},{get:(r,n)=>{if(typeof n=="string")return t._getOption("registers")[n]},set(r,n,i){return typeof n!="string"?!1:(t._setOptions({registers:B(M({},t._getOption("registers")),{[n]:i})}),!0)}})}set registers(t){this._setOptions({registers:t})}get colorMap(){return this._getOption("colorMap")}set colorMap(t){this._setOptions({colorMap:t})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(t){this._setOptions({backgroundColorMap:t})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(t){this._setOptions({letterShapeStyle:t})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(t){this._setOptions({minFontScale:t})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(t){this._setOptions({maxMatrixCols:t})}get smartMode(){return this._getOption("smartMode")}set smartMode(t){this._setOptions({smartMode:t})}get smartFence(){return this._getOption("smartFence")}set smartFence(t){this._setOptions({smartFence:t})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(t){this._setOptions({smartSuperscript:t})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(t){this._setOptions({scriptDepth:t})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(t){this._setOptions({removeExtraneousParentheses:t})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(t){this._setOptions({mathModeSpace:t})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(t){this._setOptions({placeholderSymbol:t})}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(t){this._setOptions({popoverPolicy:t})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(t){this._setOptions({environmentPopoverPolicy:t})}get menuItems(){var t;if(!this._mathfield)throw new Error("Mathfield not mounted");return(t=this._mathfield.menu._menuItems.map(r=>r.menuItem))!=null?t:[]}set menuItems(t){var r;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let n=(r=this._mathfield.element)==null?void 0:r.querySelector("[part=menu-toggle]");n&&(n.style.display=t.length===0?"none":""),this._mathfield.menu.menuItems=t}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(t){this._setOptions({mathVirtualKeyboardPolicy:t})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(t){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:t})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(t){this._setOptions({inlineShortcutTimeout:t})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(t){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:t})}get onInsertStyle(){let t=this._getOption("onInsertStyle");return t===void 0?ip:t}set onInsertStyle(t){this._setOptions({onInsertStyle:t})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(t){this._setOptions({onInlineShortcut:t})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(t){this._setOptions({onScrollIntoView:t})}get onExport(){return this._getOption("onExport")}set onExport(t){this._setOptions({onExport:t})}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOptions({readOnly:t})}get isSelectionEditable(){var t,r;return(r=(t=this._mathfield)==null?void 0:t.isSelectionEditable)!=null?r:!1}setPromptState(t,r,n){var i;(i=this._mathfield)==null||i.setPromptState(t,r,n)}getPromptState(t){var r,n;return(n=(r=this._mathfield)==null?void 0:r.getPromptState(t))!=null?n:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(t){this._setOptions({virtualKeyboardTargetOrigin:t})}get selection(){return this._mathfield?this._mathfield.model.selection:qe.has(this)?qe.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(t){if(typeof t=="number"&&(t={ranges:[[t,t]]}),this._mathfield){this._mathfield.model.selection=t,dt(this._mathfield);return}if(qe.has(this)){qe.set(this,B(M({},qe.get(this)),{selection:t}));return}qe.set(this,{value:void 0,selection:t,options:Zl(this),menuItems:void 0})}get selectionIsCollapsed(){let t=this.selection;return t.ranges.length===1&&t.ranges[0][0]===t.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:qe.has(this)?qe.get(this).selection.ranges[0][0]:0}set position(t){if(this._mathfield&&(this._mathfield.model.position=t,dt(this._mathfield)),qe.has(this)){qe.set(this,B(M({},qe.get(this)),{selection:{ranges:[[t,t]]}}));return}qe.set(this,{value:void 0,selection:{ranges:[[t,t]]},options:Zl(this),menuItems:void 0})}get lastOffset(){var t,r;return(r=(t=this._mathfield)==null?void 0:t.model.lastOffset)!=null?r:-1}};vt.version="0.101.0",vt.openUrl=e=>{if(!e)return;let t=new URL(e);if(!["http:","https:","file:"].includes(t.protocol.toLowerCase())){vt.playSound("plonk");return}window.open(t,"_blank")},vt._fontsDirectory="./fonts",vt._soundsDirectory="./sounds",vt.keypressVibration=!0,vt._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},vt._plonkSound="plonk.wav",vt.audioBuffers={},vt.createHTML=e=>e,vt._speechEngineRate="100%",vt._speechEngineVoice="Joanna",vt._textToSpeechMarkup="",vt._textToSpeechRules="mathlive",vt._textToSpeechRulesOptions={},vt.speakHook=TS,vt.readAloudHook=FS,vt.restoreFocusWhenDocumentFocused=!0,vt._decimalSeparator=".",vt.fractionNavigationOrder="numerator-denominator",vt._isFunction=e=>{var t,r;let n=globalThis.MathfieldElement.computeEngine;return(r=(t=n==null?void 0:n.parse(e).domain)==null?void 0:t.isFunction)!=null?r:!1};var lo=vt;function yn(e){return e.replace(/[^a-zA-Z\d]+(.)/g,(t,r)=>r.toUpperCase())}function Zl(e){let t={readOnly:!1},r=lo.optionsAttributes;return Object.keys(r).forEach(n=>{var i;if(e.hasAttribute(n)){let o=e.getAttribute(n);n==="placeholder"?t.contentPlaceholder=o??"":r[n]==="boolean"?t[yn(n)]=!0:r[n]==="on/off"?(o=(i=o==null?void 0:o.toLowerCase())!=null?i:"",o==="on"||o==="true"?t[yn(n)]=!0:o==="off"||o==="false"?t[yn(n)]=!1:t[yn(n)]=void 0):r[n]==="number"?t[yn(n)]=Number.parseFloat(o??"0"):t[yn(n)]=o}}),t}function Ao(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var sp=lo,Wb,jb,Gb;if(Cr()&&!((Wb=window.customElements)!=null&&Wb.get("math-field"))){window[jb=Symbol.for("io.cortexjs.mathlive")]!=null||(window[jb]={});let e=window[Symbol.for("io.cortexjs.mathlive")];e.version="0.101.0",globalThis.MathfieldElement=lo,(Gb=window.customElements)==null||Gb.define("math-field",lo)}function PS(e,t){let r=yi.singleton;return r?(r.show(),os(),r.currentLayer=t,r.render(),r.focus(),!0):!1}function IS(){let e=window.mathVirtualKeyboard;return e.visible?e.hide({animate:!0}):e.show({animate:!0}),!1}Qt({switchKeyboardLayer:PS,toggleVirtualKeyboard:IS,hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});function Wn(){var e;return globalThis[e=Symbol.for("io.cortexjs.mathlive")]!=null||(globalThis[e]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}const NS=$h("optimization",{state:()=>({selectedOptimization:"",constraints:[],objectiveFunction:""}),getters:{selectedOptimizationLabel(e){return e.selectedOptimization==="Minimize"?"Minimize":"Maximize"},getObjectiveFunction(){return this.objectiveFunction}},actions:{selectOptimization(e){this.selectedOptimization=e},addConstraint(){console.log(this.constraints[0]),this.constraints.push({id:Date.now(),content:""})},setObjectiveFunction(e){this.objectiveFunction=e},updateConstraint(e,t){const r=this.constraints.findIndex(n=>n.id===e);r!==-1&&(this.constraints[r]={...this.constraints[r],content:t}),console.log(this.constraints[0])},deleteConstraint(){this.constraints.pop()}}});function $S(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Y3={exports:{}};const zS={},KS=Object.freeze(Object.defineProperty({__proto__:null,default:zS},Symbol.toStringTag,{value:"Module"})),Xd=RS(KS);(function(e,t){var r=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(i={}){var o=i,a,s;o.ready=new Promise((h,f)=>{a=h,s=f});const l=[],u=[];o.print=h=>l.push(h),o.printErr=h=>u.push(h);var c=Object.assign({},o),d="./this.program",p=(h,f)=>{throw f},m=typeof window=="object",g=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L="",E,C,v;if(y){var k=Xd,I=Xd;L=g?I.dirname(L)+"/":__dirname+"/",E=(h,f)=>(h=W(h)?new URL(h):I.normalize(h),k.readFileSync(h,f?void 0:"utf8")),v=h=>(h=E(h,!0),h.buffer||(h=new Uint8Array(h)),h),C=(h,f,b,A=!0)=>{h=W(h)?new URL(h):I.normalize(h),k.readFile(h,A?void 0:"utf8",(P,j)=>{P?b(P):f(A?j.buffer:j)})},!o.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),p=(h,f)=>{throw process.exitCode=h,f},o.inspect=()=>"[Emscripten Module object]"}else(m||g)&&(g?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),n&&(L=n),L=L.indexOf("blob:")!==0?L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):"",E=h=>{var f=new XMLHttpRequest;return f.open("GET",h,!1),f.send(null),f.responseText},g&&(v=h=>{var f=new XMLHttpRequest;return f.open("GET",h,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),C=(h,f,b)=>{var A=new XMLHttpRequest;A.open("GET",h,!0),A.responseType="arraybuffer",A.onload=()=>{A.status==200||A.status==0&&A.response?f(A.response):b()},A.onerror=b,A.send(null)});var T=o.print||console.log.bind(console),R=o.printErr||console.error.bind(console);Object.assign(o,c),c=null,o.thisProgram&&(d=o.thisProgram),o.quit&&(p=o.quit);var N;o.wasmBinary&&(N=o.wasmBinary),typeof WebAssembly!="object"&&tt("no native wasm support detected");var z,$=!1,be,ue,me,Me,Ae;function fe(){var h=z.buffer;o.HEAP8=be=new Int8Array(h),o.HEAP16=me=new Int16Array(h),o.HEAPU8=ue=new Uint8Array(h),o.HEAPU16=new Uint16Array(h),o.HEAP32=Me=new Int32Array(h),o.HEAPU32=Ae=new Uint32Array(h),o.HEAPF32=new Float32Array(h),o.HEAPF64=new Float64Array(h)}var re=[],he=[],Fe=[];function st(){var h=o.preRun.shift();re.unshift(h)}var De=0,Pe=null;function tt(h){throw o.onAbort&&o.onAbort(h),h="Aborted("+h+")",R(h),$=!0,h=new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info."),s(h),h}var pt=h=>h.startsWith("data:application/octet-stream;base64,"),W=h=>h.startsWith("file://"),oe;if(oe="highs.wasm",!pt(oe)){var ne=oe;oe=o.locateFile?o.locateFile(ne,L):L+ne}function ce(h){if(h==oe&&N)return new Uint8Array(N);if(v)return v(h);throw"both async and sync fetching of the wasm failed"}function $e(h){if(!N&&(m||g)){if(typeof fetch=="function"&&!W(h))return fetch(h,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+h+"'";return f.arrayBuffer()}).catch(()=>ce(h));if(C)return new Promise((f,b)=>{C(h,A=>f(new Uint8Array(A)),b)})}return Promise.resolve().then(()=>ce(h))}function Re(h,f,b){return $e(h).then(A=>WebAssembly.instantiate(A,f)).then(A=>A).then(b,A=>{R(`failed to asynchronously prepare wasm: ${A}`),tt(A)})}function Ee(h,f){var b=oe;return N||typeof WebAssembly.instantiateStreaming!="function"||pt(b)||W(b)||y||typeof fetch!="function"?Re(b,h,f):fetch(b,{credentials:"same-origin"}).then(A=>WebAssembly.instantiateStreaming(A,h).then(f,function(P){return R(`wasm streaming compile failed: ${P}`),R("falling back to ArrayBuffer instantiation"),Re(b,h,f)}))}var ye,S;function x(h){this.name="ExitStatus",this.message=`Program terminated with exit(${h})`,this.status=h}var F=h=>{for(;0<h.length;)h.shift()(o)},Y=o.noExitRuntime||!0;function X(h){this.aa=h-24,this.Fa=function(f){Ae[this.aa+4>>2]=f},this.Ea=function(f){Ae[this.aa+8>>2]=f},this.va=function(f,b){this.Da(),this.Fa(f),this.Ea(b)},this.Da=function(){Ae[this.aa+16>>2]=0}}var Q=0,ie=(h,f)=>{for(var b=0,A=h.length-1;0<=A;A--){var P=h[A];P==="."?h.splice(A,1):P===".."?(h.splice(A,1),b++):b&&(h.splice(A,1),b--)}if(f)for(;b;b--)h.unshift("..");return h},_=h=>{var f=h.charAt(0)==="/",b=h.substr(-1)==="/";return(h=ie(h.split("/").filter(A=>!!A),!f).join("/"))||f||(h="."),h&&b&&(h+="/"),(f?"/":"")+h},w=h=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=f[0],f=f[1],!h&&!f?".":(f&&(f=f.substr(0,f.length-1)),h+f)},D=h=>{if(h==="/")return"/";h=_(h),h=h.replace(/\/$/,"");var f=h.lastIndexOf("/");return f===-1?h:h.substr(f+1)},U=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return b=>crypto.getRandomValues(b);if(y)try{var h=Xd;if(h.randomFillSync)return b=>h.randomFillSync(b);var f=h.randomBytes;return b=>(b.set(f(b.byteLength)),b)}catch{}tt("initRandomDevice")},ee=h=>(ee=U())(h);function J(){for(var h="",f=!1,b=arguments.length-1;-1<=b&&!f;b--){if(f=0<=b?arguments[b]:"/",typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";h=f+"/"+h,f=f.charAt(0)==="/"}return h=ie(h.split("/").filter(A=>!!A),!f).join("/"),(f?"/":"")+h||"."}var O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,K=(h,f)=>{for(var b=f+void 0,A=f;h[A]&&!(A>=b);)++A;if(16<A-f&&h.buffer&&O)return O.decode(h.subarray(f,A));for(b="";f<A;){var P=h[f++];if(P&128){var j=h[f++]&63;if((P&224)==192)b+=String.fromCharCode((P&31)<<6|j);else{var de=h[f++]&63;P=(P&240)==224?(P&15)<<12|j<<6|de:(P&7)<<18|j<<12|de<<6|h[f++]&63,65536>P?b+=String.fromCharCode(P):(P-=65536,b+=String.fromCharCode(55296|P>>10,56320|P&1023))}}else b+=String.fromCharCode(P)}return b},pe=[],ge=h=>{for(var f=0,b=0;b<h.length;++b){var A=h.charCodeAt(b);127>=A?f++:2047>=A?f+=2:55296<=A&&57343>=A?(f+=4,++b):f+=3}return f},je=(h,f,b,A)=>{if(!(0<A))return 0;var P=b;A=b+A-1;for(var j=0;j<h.length;++j){var de=h.charCodeAt(j);if(55296<=de&&57343>=de){var Ye=h.charCodeAt(++j);de=65536+((de&1023)<<10)|Ye&1023}if(127>=de){if(b>=A)break;f[b++]=de}else{if(2047>=de){if(b+1>=A)break;f[b++]=192|de>>6}else{if(65535>=de){if(b+2>=A)break;f[b++]=224|de>>12}else{if(b+3>=A)break;f[b++]=240|de>>18,f[b++]=128|de>>12&63}f[b++]=128|de>>6&63}f[b++]=128|de&63}}return f[b]=0,b-P};function St(h,f){var b=Array(ge(h)+1);return h=je(h,b,0,b.length),f&&(b.length=h),b}var zt=[];function vi(h,f){zt[h]={input:[],output:[],T:f},Ec(h,Cn)}var Cn={open(h){var f=zt[h.node.rdev];if(!f)throw new le(43);h.tty=f,h.seekable=!1},close(h){h.tty.T.fsync(h.tty)},fsync(h){h.tty.T.fsync(h.tty)},read(h,f,b,A){if(!h.tty||!h.tty.T.na)throw new le(60);for(var P=0,j=0;j<A;j++){try{var de=h.tty.T.na(h.tty)}catch{throw new le(29)}if(de===void 0&&P===0)throw new le(6);if(de==null)break;P++,f[b+j]=de}return P&&(h.node.timestamp=Date.now()),P},write(h,f,b,A){if(!h.tty||!h.tty.T.ga)throw new le(60);try{for(var P=0;P<A;P++)h.tty.T.ga(h.tty,f[b+P])}catch{throw new le(29)}return A&&(h.node.timestamp=Date.now()),P}},Os={na(){e:{if(!pe.length){var h=null;if(y){h=Buffer.alloc(256);var f=0,b=process.stdin.fd;try{f=k.readSync(b,h)}catch(A){if(A.toString().includes("EOF"))f=0;else throw A}h=0<f?h.slice(0,f).toString("utf-8"):null}else typeof window<"u"&&typeof window.prompt=="function"?(h=window.prompt("Input: "),h!==null&&(h+=`
`)):typeof readline=="function"&&(h=readline(),h!==null&&(h+=`
`));if(!h){h=null;break e}pe=St(h,!0)}h=pe.shift()}return h},ga(h,f){f===null||f===10?(T(K(h.output,0)),h.output=[]):f!=0&&h.output.push(f)},fsync(h){h.output&&0<h.output.length&&(T(K(h.output,0)),h.output=[])},xa(){return{Oa:25856,Qa:5,Na:191,Pa:35387,Ma:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ya(){return 0},za(){return[24,80]}},jt={ga(h,f){f===null||f===10?(R(K(h.output,0)),h.output=[]):f!=0&&h.output.push(f)},fsync(h){h.output&&0<h.output.length&&(R(K(h.output,0)),h.output=[])}};function ar(h,f){var b=h.K?h.K.length:0;b>=f||(f=Math.max(f,b*(1048576>b?2:1.125)>>>0),b!=0&&(f=Math.max(f,256)),b=h.K,h.K=new Uint8Array(f),0<h.N&&h.K.set(b.subarray(0,h.N),0))}var Oe={O:null,S(){return Oe.createNode(null,"/",16895,0)},createNode(h,f,b,A){if((b&61440)===24576||(b&61440)===4096)throw new le(63);return Oe.O||(Oe.O={dir:{node:{U:Oe.L.U,P:Oe.L.P,lookup:Oe.L.lookup,Z:Oe.L.Z,rename:Oe.L.rename,unlink:Oe.L.unlink,rmdir:Oe.L.rmdir,readdir:Oe.L.readdir,symlink:Oe.L.symlink},stream:{W:Oe.M.W}},file:{node:{U:Oe.L.U,P:Oe.L.P},stream:{W:Oe.M.W,read:Oe.M.read,write:Oe.M.write,ja:Oe.M.ja,oa:Oe.M.oa,qa:Oe.M.qa}},link:{node:{U:Oe.L.U,P:Oe.L.P,readlink:Oe.L.readlink},stream:{}},ka:{node:{U:Oe.L.U,P:Oe.L.P},stream:nv}}),b=pp(h,f,b,A),(b.mode&61440)===16384?(b.L=Oe.O.dir.node,b.M=Oe.O.dir.stream,b.K={}):(b.mode&61440)===32768?(b.L=Oe.O.file.node,b.M=Oe.O.file.stream,b.N=0,b.K=null):(b.mode&61440)===40960?(b.L=Oe.O.link.node,b.M=Oe.O.link.stream):(b.mode&61440)===8192&&(b.L=Oe.O.ka.node,b.M=Oe.O.ka.stream),b.timestamp=Date.now(),h&&(h.K[f]=b,h.timestamp=b.timestamp),b},Ra(h){return h.K?h.K.subarray?h.K.subarray(0,h.N):new Uint8Array(h.K):new Uint8Array(0)},L:{U(h){var f={};return f.dev=(h.mode&61440)===8192?h.id:1,f.ino=h.id,f.mode=h.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=h.rdev,f.size=(h.mode&61440)===16384?4096:(h.mode&61440)===32768?h.N:(h.mode&61440)===40960?h.link.length:0,f.atime=new Date(h.timestamp),f.mtime=new Date(h.timestamp),f.ctime=new Date(h.timestamp),f.ta=4096,f.blocks=Math.ceil(f.size/f.ta),f},P(h,f){if(f.mode!==void 0&&(h.mode=f.mode),f.timestamp!==void 0&&(h.timestamp=f.timestamp),f.size!==void 0&&(f=f.size,h.N!=f))if(f==0)h.K=null,h.N=0;else{var b=h.K;h.K=new Uint8Array(f),b&&h.K.set(b.subarray(0,Math.min(f,h.N))),h.N=f}},lookup(){throw Cc[44]},Z(h,f,b,A){return Oe.createNode(h,f,b,A)},rename(h,f,b){if((h.mode&61440)===16384){try{var A=Ps(f,b)}catch{}if(A)for(var P in A.K)throw new le(55)}delete h.parent.K[h.name],h.parent.timestamp=Date.now(),h.name=b,f.K[b]=h,f.timestamp=h.parent.timestamp,h.parent=f},unlink(h,f){delete h.K[f],h.timestamp=Date.now()},rmdir(h,f){var b=Ps(h,f),A;for(A in b.K)throw new le(55);delete h.K[f],h.timestamp=Date.now()},readdir(h){var f=[".",".."],b;for(b in h.K)h.K.hasOwnProperty(b)&&f.push(b);return f},symlink(h,f,b){return h=Oe.createNode(h,f,41471,0),h.link=b,h},readlink(h){if((h.mode&61440)!==40960)throw new le(28);return h.link}},M:{read(h,f,b,A,P){var j=h.node.K;if(P>=h.node.N)return 0;if(h=Math.min(h.node.N-P,A),8<h&&j.subarray)f.set(j.subarray(P,P+h),b);else for(A=0;A<h;A++)f[b+A]=j[P+A];return h},write(h,f,b,A,P,j){if(f.buffer===be.buffer&&(j=!1),!A)return 0;if(h=h.node,h.timestamp=Date.now(),f.subarray&&(!h.K||h.K.subarray)){if(j)return h.K=f.subarray(b,b+A),h.N=A;if(h.N===0&&P===0)return h.K=f.slice(b,b+A),h.N=A;if(P+A<=h.N)return h.K.set(f.subarray(b,b+A),P),A}if(ar(h,P+A),h.K.subarray&&f.subarray)h.K.set(f.subarray(b,b+A),P);else for(j=0;j<A;j++)h.K[P+j]=f[b+j];return h.N=Math.max(h.N,P+A),A},W(h,f,b){if(b===1?f+=h.position:b===2&&(h.node.mode&61440)===32768&&(f+=h.node.N),0>f)throw new le(28);return f},ja(h,f,b){ar(h.node,f+b),h.node.N=Math.max(h.node.N,f+b)},oa(h,f,b,A,P){if((h.node.mode&61440)!==32768)throw new le(43);if(h=h.node.K,P&2||h.buffer!==be.buffer){if((0<b||b+f<h.length)&&(h=h.subarray?h.subarray(b,b+f):Array.prototype.slice.call(h,b,b+f)),b=!0,tt(),f=void 0,!f)throw new le(48);be.set(h,f)}else b=!1,f=h.byteOffset;return{aa:f,La:b}},qa(h,f,b,A){return Oe.M.write(h,f,0,A,b,!1),0}}},ev=(h,f)=>{var b=0;return h&&(b|=365),f&&(b|=146),b},Sc=null,up={},fa=[],tv=1,ga=null,cp=!0,le=null,Cc={};function _i(h,f={}){if(h=J(h),!h)return{path:"",node:null};if(f=Object.assign({ma:!0,ha:0},f),8<f.ha)throw new le(32);h=h.split("/").filter(de=>!!de);for(var b=Sc,A="/",P=0;P<h.length;P++){var j=P===h.length-1;if(j&&f.parent)break;if(b=Ps(b,h[P]),A=_(A+"/"+h[P]),b.$&&(!j||j&&f.ma)&&(b=b.$.root),!j||f.la){for(j=0;(b.mode&61440)===40960;)if(b=iv(A),A=J(w(A),b),b=_i(A,{ha:f.ha+1}).node,40<j++)throw new le(32)}}return{path:A,node:b}}function dp(h){for(var f;;){if(h===h.parent)return h=h.S.pa,f?h[h.length-1]!=="/"?`${h}/${f}`:h+f:h;f=f?`${h.name}/${f}`:h.name,h=h.parent}}function hp(h,f){for(var b=0,A=0;A<f.length;A++)b=(b<<5)-b+f.charCodeAt(A)|0;return(h+b>>>0)%ga.length}function Ps(h,f){var b;if(b=(b=Is(h,"x"))?b:h.L.lookup?0:2)throw new le(b,h);for(b=ga[hp(h.id,f)];b;b=b.Ba){var A=b.name;if(b.parent.id===h.id&&A===f)return b}return h.L.lookup(h,f)}function pp(h,f,b,A){return h=new Sp(h,f,b,A),f=hp(h.parent.id,h.name),h.Ba=ga[f],ga[f]=h}function mp(h){var f=["r","w","rw"][h&3];return h&512&&(f+="w"),f}function Is(h,f){if(cp)return 0;if(!f.includes("r")||h.mode&292){if(f.includes("w")&&!(h.mode&146)||f.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function fp(h,f){try{return Ps(h,f),20}catch{}return Is(h,"wx")}function rv(){for(var h=0;4096>=h;h++)if(!fa[h])return h;throw new le(33)}function En(h){if(h=fa[h],!h)throw new le(8);return h}function gp(h,f=-1){return va||(va=function(){this.ba={}},va.prototype={},Object.defineProperties(va.prototype,{object:{get(){return this.node},set(b){this.node=b}},flags:{get(){return this.ba.flags},set(b){this.ba.flags=b}},position:{get(){return this.ba.position},set(b){this.ba.position=b}}})),h=Object.assign(new va,h),f==-1&&(f=rv()),h.fd=f,fa[f]=h}var nv={open(h){h.M=up[h.node.rdev].M,h.M.open&&h.M.open(h)},W(){throw new le(70)}};function Ec(h,f){up[h]={M:f}}function bp(h,f){var b=f==="/",A=!f;if(b&&Sc)throw new le(10);if(!b&&!A){var P=_i(f,{ma:!1});if(f=P.path,P=P.node,P.$)throw new le(10);if((P.mode&61440)!==16384)throw new le(54)}f={type:h,Sa:{},pa:f,Aa:[]},h=h.S(f),h.S=f,f.root=h,b?Sc=h:P&&(P.$=f,P.S&&P.S.Aa.push(f))}function Lc(h,f,b){var A=_i(h,{parent:!0}).node;if(h=D(h),!h||h==="."||h==="..")throw new le(28);var P=fp(A,h);if(P)throw new le(P);if(!A.L.Z)throw new le(63);return A.L.Z(A,h,f,b)}function nn(h){return Lc(h,16895,0)}function Ns(h,f,b){typeof b>"u"&&(b=f,f=438),Lc(h,f|8192,b)}function Ac(h,f){if(!J(h))throw new le(44);var b=_i(f,{parent:!0}).node;if(!b)throw new le(44);f=D(f);var A=fp(b,f);if(A)throw new le(A);if(!b.L.symlink)throw new le(63);b.L.symlink(b,f,h)}function iv(h){if(h=_i(h).node,!h)throw new le(44);if(!h.L.readlink)throw new le(28);return J(dp(h.parent),h.L.readlink(h))}function ba(h,f,b){if(h==="")throw new le(44);if(typeof f=="string"){var A={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[f];if(typeof A>"u")throw Error(`Unknown file open mode: ${f}`);f=A}if(b=f&64?(typeof b>"u"?438:b)&4095|32768:0,typeof h=="object")var P=h;else{h=_(h);try{P=_i(h,{la:!(f&131072)}).node}catch{}}if(A=!1,f&64)if(P){if(f&128)throw new le(20)}else P=Lc(h,b,0),A=!0;if(!P)throw new le(44);if((P.mode&61440)===8192&&(f&=-513),f&65536&&(P.mode&61440)!==16384)throw new le(54);if(!A&&(b=P?(P.mode&61440)===40960?32:(P.mode&61440)===16384&&(mp(f)!=="r"||f&512)?31:Is(P,mp(f)):44))throw new le(b);if(f&512&&!A){if(b=P,b=typeof b=="string"?_i(b,{la:!0}).node:b,!b.L.P)throw new le(63);if((b.mode&61440)===16384)throw new le(31);if((b.mode&61440)!==32768)throw new le(28);if(A=Is(b,"w"))throw new le(A);b.L.P(b,{size:0,timestamp:Date.now()})}return f&=-131713,P=gp({node:P,path:dp(P),flags:f,seekable:!0,position:0,M:P.M,Ka:[],error:!1}),P.M.open&&P.M.open(P),!o.logReadFiles||f&1||($s||($s={}),h in $s||($s[h]=1)),P}function yp(h){if(h.fd===null)throw new le(8);h.fa&&(h.fa=null);try{h.M.close&&h.M.close(h)}catch(f){throw f}finally{fa[h.fd]=null}h.fd=null}function vp(h,f,b){if(h.fd===null)throw new le(8);if(!h.seekable||!h.M.W)throw new le(70);if(b!=0&&b!=1&&b!=2)throw new le(28);h.position=h.M.W(h,f,b),h.Ka=[]}function Dc(h,f,b,A,P,j){if(0>A||0>P)throw new le(28);if(h.fd===null)throw new le(8);if(!(h.flags&2097155))throw new le(8);if((h.node.mode&61440)===16384)throw new le(31);if(!h.M.write)throw new le(28);h.seekable&&h.flags&1024&&vp(h,0,2);var de=typeof P<"u";if(!de)P=h.position;else if(!h.seekable)throw new le(70);return f=h.M.write(h,f,b,A,P,j),de||(h.position+=f),f}function ov(h){var f={};f.flags=f.flags||577;var b=ba("m.lp",f.flags,f.mode);if(typeof h=="string"){var A=new Uint8Array(ge(h)+1);h=je(h,A,0,A.length),Dc(b,A,0,h,void 0,f.ua)}else if(ArrayBuffer.isView(h))Dc(b,h,0,h.byteLength,void 0,f.ua);else throw Error("Unsupported data type");yp(b)}function _p(){le||(le=function(h,f){this.name="ErrnoError",this.node=f,this.Ca=function(b){this.V=b},this.Ca(h),this.message="FS error"},le.prototype=Error(),le.prototype.constructor=le,[44].forEach(h=>{Cc[h]=new le(h),Cc[h].stack="<generic error, no stack>"}))}var xp;function ya(h,f,b){h=_("/dev/"+h);var A=ev(!!f,!!b);Bc||(Bc=64);var P=Bc++<<8|0;Ec(P,{open(j){j.seekable=!1},close(){b&&b.buffer&&b.buffer.length&&b(10)},read(j,de,Ye,It){for(var _e=0,Ge=0;Ge<It;Ge++){try{var Ct=f()}catch{throw new le(29)}if(Ct===void 0&&_e===0)throw new le(6);if(Ct==null)break;_e++,de[Ye+Ge]=Ct}return _e&&(j.node.timestamp=Date.now()),_e},write(j,de,Ye,It){for(var _e=0;_e<It;_e++)try{b(de[Ye+_e])}catch{throw new le(29)}return It&&(j.node.timestamp=Date.now()),_e}}),Ns(h,A,P)}var Bc,xi={},va,$s,_a=void 0;function on(){var h=Me[+_a>>2];return _a+=4,h}var Tc={},wp=()=>{if(!Fc){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},f;for(f in Tc)Tc[f]===void 0?delete h[f]:h[f]=Tc[f];var b=[];for(f in h)b.push(`${f}=${h[f]}`);Fc=b}return Fc},Fc,Rs=h=>h%4===0&&(h%100!==0||h%400===0),kp=[31,29,31,30,31,30,31,31,30,31,30,31],Mp=[31,28,31,30,31,30,31,31,30,31,30,31],av=(h,f,b,A)=>{function P(V,Ue,it){for(V=typeof V=="number"?V.toString():V||"";V.length<Ue;)V=it[0]+V;return V}function j(V,Ue){return P(V,Ue,"0")}function de(V,Ue){function it(wi){return 0>wi?-1:0<wi?1:0}var er;return(er=it(V.getFullYear()-Ue.getFullYear()))===0&&(er=it(V.getMonth()-Ue.getMonth()))===0&&(er=it(V.getDate()-Ue.getDate())),er}function Ye(V){switch(V.getDay()){case 0:return new Date(V.getFullYear()-1,11,29);case 1:return V;case 2:return new Date(V.getFullYear(),0,3);case 3:return new Date(V.getFullYear(),0,2);case 4:return new Date(V.getFullYear(),0,1);case 5:return new Date(V.getFullYear()-1,11,31);case 6:return new Date(V.getFullYear()-1,11,30)}}function It(V){var Ue=V.X;for(V=new Date(new Date(V.Y+1900,0,1).getTime());0<Ue;){var it=V.getMonth(),er=(Rs(V.getFullYear())?kp:Mp)[it];if(Ue>er-V.getDate())Ue-=er-V.getDate()+1,V.setDate(1),11>it?V.setMonth(it+1):(V.setMonth(0),V.setFullYear(V.getFullYear()+1));else{V.setDate(V.getDate()+Ue);break}}return it=new Date(V.getFullYear()+1,0,4),Ue=Ye(new Date(V.getFullYear(),0,4)),it=Ye(it),0>=de(Ue,V)?0>=de(it,V)?V.getFullYear()+1:V.getFullYear():V.getFullYear()-1}var _e=Ae[A+40>>2];A={Ia:Me[A>>2],Ha:Me[A+4>>2],da:Me[A+8>>2],ia:Me[A+12>>2],ea:Me[A+16>>2],Y:Me[A+20>>2],R:Me[A+24>>2],X:Me[A+28>>2],Ta:Me[A+32>>2],Ga:Me[A+36>>2],Ja:_e&&_e?K(ue,_e):""},b=b?K(ue,b):"",_e={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ge in _e)b=b.replace(new RegExp(Ge,"g"),_e[Ge]);var Ct="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zr="January February March April May June July August September October November December".split(" ");_e={"%a":V=>Ct[V.R].substring(0,3),"%A":V=>Ct[V.R],"%b":V=>zr[V.ea].substring(0,3),"%B":V=>zr[V.ea],"%C":V=>j((V.Y+1900)/100|0,2),"%d":V=>j(V.ia,2),"%e":V=>P(V.ia,2," "),"%g":V=>It(V).toString().substring(2),"%G":V=>It(V),"%H":V=>j(V.da,2),"%I":V=>(V=V.da,V==0?V=12:12<V&&(V-=12),j(V,2)),"%j":V=>{for(var Ue=0,it=0;it<=V.ea-1;Ue+=(Rs(V.Y+1900)?kp:Mp)[it++]);return j(V.ia+Ue,3)},"%m":V=>j(V.ea+1,2),"%M":V=>j(V.Ha,2),"%n":()=>`
`,"%p":V=>0<=V.da&&12>V.da?"AM":"PM","%S":V=>j(V.Ia,2),"%t":()=>"	","%u":V=>V.R||7,"%U":V=>j(Math.floor((V.X+7-V.R)/7),2),"%V":V=>{var Ue=Math.floor((V.X+7-(V.R+6)%7)/7);if(2>=(V.R+371-V.X-2)%7&&Ue++,Ue)Ue==53&&(it=(V.R+371-V.X)%7,it==4||it==3&&Rs(V.Y)||(Ue=1));else{Ue=52;var it=(V.R+7-V.X-1)%7;(it==4||it==5&&Rs(V.Y%400-1))&&Ue++}return j(Ue,2)},"%w":V=>V.R,"%W":V=>j(Math.floor((V.X+7-(V.R+6)%7)/7),2),"%y":V=>(V.Y+1900).toString().substring(2),"%Y":V=>V.Y+1900,"%z":V=>{V=V.Ga;var Ue=0<=V;return V=Math.abs(V)/60,(Ue?"+":"-")+("0000"+(V/60*100+V%60)).slice(-4)},"%Z":V=>V.Ja,"%%":()=>"%"},b=b.replace(/%%/g,"\0\0");for(Ge in _e)b.includes(Ge)&&(b=b.replace(new RegExp(Ge,"g"),_e[Ge](A)));return b=b.replace(/\0\0/g,"%"),Ge=St(b,!1),Ge.length>f?0:(be.set(Ge,h),Ge.length-1)},sv=(h,f,b,A)=>{var P={string:_e=>{var Ge=0;if(_e!=null&&_e!==0){Ge=ge(_e)+1;var Ct=Oc(Ge);je(_e,ue,Ct,Ge),Ge=Ct}return Ge},array:_e=>{var Ge=Oc(_e.length);return be.set(_e,Ge),Ge}};h=o["_"+h];var j=[],de=0;if(A)for(var Ye=0;Ye<A.length;Ye++){var It=P[b[Ye]];It?(de===0&&(de=Bp()),j[Ye]=It(A[Ye])):j[Ye]=A[Ye]}return b=h.apply(null,j),b=function(_e){return de!==0&&Tp(de),f==="string"?_e?K(ue,_e):"":f==="boolean"?!!_e:_e}(b)};function Sp(h,f,b,A){h||(h=this),this.parent=h,this.S=h.S,this.$=null,this.id=tv++,this.name=f,this.mode=b,this.L={},this.M={},this.rdev=A}Object.defineProperties(Sp.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(h){h?this.mode|=146:this.mode&=-147}}}),_p(),ga=Array(4096),bp(Oe,"/"),nn("/tmp"),nn("/home"),nn("/home/web_user"),function(){nn("/dev"),Ec(259,{read:()=>0,write:(A,P,j,de)=>de}),Ns("/dev/null",259),vi(1280,Os),vi(1536,jt),Ns("/dev/tty",1280),Ns("/dev/tty1",1536);var h=new Uint8Array(1024),f=0,b=()=>(f===0&&(f=ee(h).byteLength),h[--f]);ya("random",b),ya("urandom",b),nn("/dev/shm"),nn("/dev/shm/tmp")}(),function(){nn("/proc");var h=nn("/proc/self");nn("/proc/self/fd"),bp({S(){var f=pp(h,"fd",16895,73);return f.L={lookup(b,A){var P=En(+A);return b={parent:null,S:{pa:"fake"},L:{readlink:()=>P.path}},b.parent=b}},f}},"/proc/self/fd")}();var lv={a:(h,f,b)=>{throw new X(h).va(f,b),Q=h,Q},d:function(h,f,b){_a=b;try{var A=En(h);switch(f){case 0:var P=on();if(0>P)return-28;for(;fa[P];)P++;return gp(A,P).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return P=on(),A.flags|=P,0;case 5:return P=on(),me[P+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Me[Dp()>>2]=28,-1;default:return-28}}catch(j){if(typeof xi>"u"||j.name!=="ErrnoError")throw j;return-j.V}},q:function(h,f,b){_a=b;try{var A=En(h);switch(f){case 21509:return A.tty?0:-59;case 21505:if(!A.tty)return-59;if(A.tty.T.xa){f=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var P=on();Me[P>>2]=25856,Me[P+4>>2]=5,Me[P+8>>2]=191,Me[P+12>>2]=35387;for(var j=0;32>j;j++)be[P+j+17>>0]=f[j]||0}return 0;case 21510:case 21511:case 21512:return A.tty?0:-59;case 21506:case 21507:case 21508:if(!A.tty)return-59;if(A.tty.T.ya)for(P=on(),f=[],j=0;32>j;j++)f.push(be[P+j+17>>0]);return 0;case 21519:return A.tty?(P=on(),Me[P>>2]=0):-59;case 21520:return A.tty?-28:-59;case 21531:if(P=on(),!A.M.wa)throw new le(59);return A.M.wa(A,f,P);case 21523:return A.tty?(A.tty.T.za&&(j=[24,80],P=on(),me[P>>1]=j[0],me[P+2>>1]=j[1]),0):-59;case 21524:return A.tty?0:-59;case 21515:return A.tty?0:-59;default:return-28}}catch(de){if(typeof xi>"u"||de.name!=="ErrnoError")throw de;return-de.V}},f:function(h,f,b,A){_a=A;try{f=f?K(ue,f):"";var P=f;if(P.charAt(0)==="/")f=P;else{var j=h===-100?"/":En(h).path;if(P.length==0)throw new le(44);f=_(j+"/"+P)}var de=A?on():0;return ba(f,b,de).fd}catch(Ye){if(typeof xi>"u"||Ye.name!=="ErrnoError")throw Ye;return-Ye.V}},n:()=>!0,c:()=>{tt("")},o:()=>Date.now(),b:()=>performance.now(),i:(h,f,b)=>ue.copyWithin(h,f,f+b),r:h=>{var f=ue.length;if(h>>>=0,2147483648<h)return!1;for(var b=1;4>=b;b*=2){var A=f*(1+.2/b);A=Math.min(A,h+100663296);var P=Math;A=Math.max(h,A);e:{P=(P.min.call(P,2147483648,A+(65536-A%65536)%65536)-z.buffer.byteLength+65535)/65536;try{z.grow(P),fe();var j=1;break e}catch{}j=void 0}if(j)return!0}return!1},l:(h,f)=>{var b=0;return wp().forEach((A,P)=>{var j=f+b;for(P=Ae[h+4*P>>2]=j,j=0;j<A.length;++j)be[P++>>0]=A.charCodeAt(j);be[P>>0]=0,b+=A.length+1}),0},m:(h,f)=>{var b=wp();Ae[h>>2]=b.length;var A=0;return b.forEach(P=>A+=P.length+1),Ae[f>>2]=A,0},h:h=>{Y||(o.onExit&&o.onExit(h),$=!0),p(h,new x(h))},e:function(h){try{var f=En(h);return yp(f),0}catch(b){if(typeof xi>"u"||b.name!=="ErrnoError")throw b;return b.V}},p:function(h,f,b,A){try{e:{var P=En(h);h=f;for(var j,de=f=0;de<b;de++){var Ye=Ae[h>>2],It=Ae[h+4>>2];h+=8;var _e=P,Ge=Ye,Ct=It,zr=j,V=be;if(0>Ct||0>zr)throw new le(28);if(_e.fd===null)throw new le(8);if((_e.flags&2097155)===1)throw new le(8);if((_e.node.mode&61440)===16384)throw new le(31);if(!_e.M.read)throw new le(28);var Ue=typeof zr<"u";if(!Ue)zr=_e.position;else if(!_e.seekable)throw new le(70);var it=_e.M.read(_e,V,Ge,Ct,zr);Ue||(_e.position+=it);var er=it;if(0>er){var wi=-1;break e}if(f+=er,er<It)break;typeof j<"u"&&(j+=er)}wi=f}return Ae[A>>2]=wi,0}catch(Pc){if(typeof xi>"u"||Pc.name!=="ErrnoError")throw Pc;return Pc.V}},j:function(h,f,b,A,P){f=b+2097152>>>0<4194305-!!f?(f>>>0)+4294967296*b:NaN;try{if(isNaN(f))return 61;var j=En(h);return vp(j,f,A),S=[j.position>>>0,(ye=j.position,1<=+Math.abs(ye)?0<ye?+Math.floor(ye/4294967296)>>>0:~~+Math.ceil((ye-+(~~ye>>>0))/4294967296)>>>0:0)],Me[P>>2]=S[0],Me[P+4>>2]=S[1],j.fa&&f===0&&A===0&&(j.fa=null),0}catch(de){if(typeof xi>"u"||de.name!=="ErrnoError")throw de;return de.V}},g:function(h,f,b,A){try{e:{var P=En(h);h=f;for(var j,de=f=0;de<b;de++){var Ye=Ae[h>>2],It=Ae[h+4>>2];h+=8;var _e=Dc(P,be,Ye,It,j);if(0>_e){var Ge=-1;break e}f+=_e,typeof j<"u"&&(j+=_e)}Ge=f}return Ae[A>>2]=Ge,0}catch(Ct){if(typeof xi>"u"||Ct.name!=="ErrnoError")throw Ct;return Ct.V}},k:(h,f,b,A)=>av(h,f,b,A)},xt=function(){function h(b){return xt=b.exports,z=xt.s,fe(),he.unshift(xt.t),De--,o.monitorRunDependencies&&o.monitorRunDependencies(De),De==0&&Pe&&(b=Pe,Pe=null,b()),xt}var f={a:lv};if(De++,o.monitorRunDependencies&&o.monitorRunDependencies(De),o.instantiateWasm)try{return o.instantiateWasm(f,h)}catch(b){R(`Module.instantiateWasm callback failed with error: ${b}`),s(b)}return Ee(f,function(b){h(b.instance)}).catch(s),{}}(),Cp=o._Highs_create=()=>(Cp=o._Highs_create=xt.u)(),Ep=o._Highs_destroy=h=>(Ep=o._Highs_destroy=xt.v)(h),Lp=o._Highs_run=h=>(Lp=o._Highs_run=xt.w)(h);o._Highs_readModel=(h,f)=>(o._Highs_readModel=xt.x)(h,f),o._Highs_writeSolution=(h,f)=>(o._Highs_writeSolution=xt.y)(h,f),o._Highs_writeSolutionPretty=(h,f)=>(o._Highs_writeSolutionPretty=xt.z)(h,f),o._Highs_setBoolOptionValue=(h,f,b)=>(o._Highs_setBoolOptionValue=xt.A)(h,f,b),o._Highs_setIntOptionValue=(h,f,b)=>(o._Highs_setIntOptionValue=xt.B)(h,f,b),o._Highs_setDoubleOptionValue=(h,f,b)=>(o._Highs_setDoubleOptionValue=xt.C)(h,f,b),o._Highs_setStringOptionValue=(h,f,b)=>(o._Highs_setStringOptionValue=xt.D)(h,f,b);var Ap=o._Highs_getModelStatus=h=>(Ap=o._Highs_getModelStatus=xt.E)(h);o._Highs_call=(h,f,b,A,P,j,de,Ye,It,_e,Ge,Ct,zr,V,Ue,it,er,wi)=>(o._Highs_call=xt.F)(h,f,b,A,P,j,de,Ye,It,_e,Ge,Ct,zr,V,Ue,it,er,wi);var Dp=()=>(Dp=xt.G)(),Bp=()=>(Bp=xt.H)(),Tp=h=>(Tp=xt.I)(h),Oc=h=>(Oc=xt.J)(h);o.cwrap=(h,f,b,A)=>{var P=!b||b.every(j=>j==="number"||j==="boolean");return f!=="string"&&P&&!A?o["_"+h]:function(){return sv(h,f,b,arguments)}};var zs;Pe=function h(){zs||Fp(),zs||(Pe=h)};function Fp(){function h(){if(!zs&&(zs=!0,o.calledRun=!0,!$)){if(o.noFSInit||xp||(xp=!0,_p(),o.stdin=o.stdin,o.stdout=o.stdout,o.stderr=o.stderr,o.stdin?ya("stdin",o.stdin):Ac("/dev/tty","/dev/stdin"),o.stdout?ya("stdout",null,o.stdout):Ac("/dev/tty","/dev/stdout"),o.stderr?ya("stderr",null,o.stderr):Ac("/dev/tty1","/dev/stderr"),ba("/dev/stdin",0),ba("/dev/stdout",1),ba("/dev/stderr",1)),cp=!1,F(he),a(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var f=o.postRun.shift();Fe.unshift(f)}F(Fe)}}if(!(0<De)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)st();F(re),0<De||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),h()},1)):h())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();Fp(),o.ra=o.cwrap("Highs_readModel","number",["number","string"]);const uv=o.cwrap("Highs_setIntOptionValue","number",["number","string","number"]),cv=o.cwrap("Highs_setDoubleOptionValue","number",["number","string","number"]),dv=o.cwrap("Highs_setStringOptionValue","number",["number","string","string"]),hv=o.cwrap("Highs_setBoolOptionValue","number",["number","string","number"]);o.sa=o.cwrap("Highs_writeSolutionPretty","number",["number","string"]);const pv={0:"Not Set",1:"Load error",2:"Model error",3:"Presolve error",4:"Solve error",5:"Postsolve error",6:"Empty",7:"Optimal",8:"Infeasible",9:"Primal infeasible or unbounded",10:"Unbounded",11:"Bound on objective reached",12:"Target for objective reached",13:"Time limit reached",14:"Iteration limit reached",15:"Unknown"};o.solve=function(h,f){ov(h);const b=Cp();Ks(()=>o.ra(b,"m.lp"),"read LP model (see http://web.mit.edu/lpsolve/doc/CPLEX-format.htm)"),h=f||{};for(const A in h){const P=h[A];f=typeof P;let j;if(f==="number")j=mv;else if(f==="boolean")j=hv;else if(f==="string")j=dv;else throw Error(`Unsupported option value type ${P} for '${A}'`);Ks(()=>j(b,A,P),`set option '${A}'`)}return Ks(()=>Lp(b),"solve the problem"),h=pv[Ap(b,0)]||"Unknown",l.length=0,Ks(()=>o.sa(b,""),"write and extract solution"),Ep(b),h=gv(h),l.length=0,u.length=0,h};function mv(h,f,b){let A=cv(h,f,b);return A===-1&&b===(b|0)&&(A=uv(h,f,b)),A}function xa(h){return h==="inf"?1/0:h==="-inf"?-1/0:+h}const fv={Index:h=>parseInt(h),Lower:xa,Upper:xa,Primal:xa,Dual:xa};function Op(h,f){const b=f.match(/[^\s]+/g)||[],A={};for(let j=0;j<b.length;j++){if(j>=h.length)throw Error("Unable to parse solution line: "+f);var P=b[j];const de=h[j],Ye=fv[de];P=Ye?Ye(P):P,A[de]=P}return A}function gv(h){if(3>l.length)throw Error("Unable to parse solution. Too few lines.");let f=Pp(l[1],l[2]);h={Status:h,Columns:{},Rows:[],ObjectiveValue:NaN};for(var b=2;l[b]!="Rows";b++){const A=Op(f,l[b]);h.Columns[A.Name]=A}for(f=Pp(l[b+1],l[b+2]),b+=2;l[b]!="";b++)h.Rows.push(Op(f,l[b]));return h.ObjectiveValue=xa(l[b+3].match(/Objective value: (.+)/)[1]),h}function Pp(h,f){return[...h.matchAll(/[^\s]+/g)].filter(b=>f[b.index]!==" "||f[b.index+b[0].length-1]!==" ").map(b=>b[0])}function Ks(h,f){let b;try{b=h()}catch(A){b=A}if(b!==0&&b!==1)throw Error("Unable to "+f+". HiGHS error "+b)}return i.ready}})();e.exports=r})(Y3);var qS=Y3.exports;const HS=$S(qS);let Z3;(async()=>{try{Z3=await HS({locateFile:e=>"https://lovasoa.github.io/highs-js/"+e}),console.log("Highs library loaded successfully.")}catch(e){console.error("Failed to load the Highs library:",e)}})();async function VS(e){try{return await Z3.solve(e)}catch(t){throw console.error("Fehler beim Lösen des LP-Problems:",t),t}}function US(e,t,r=[],n=[],i={}){let o="";return o+=e+`
`,o+=" obj: "+Jd(t)+`

`,o+=`Subject To
`,r.forEach((a,s)=>{o+=` c${s+1}: ${Jd(a.content)}
`}),o+=`
`,n.length>0&&(o+=`Bounds
`,n.forEach(a=>{o+=` ${Jd(t)}
`}),o+=`
`),Object.keys(i).length>0&&(i.general&&(o+=`General
`,i.general.forEach(a=>{o+=` ${a}
`}),o+=`
`),i.binary&&(o+=`Binary
`,i.binary.forEach(a=>{o+=` ${a}
`}),o+=`
`)),o+=`End
`,o}function Jd(e){const t={ge:">=",le:"<="},r=new RegExp(Object.keys(t).join("|"),"g");return e.replace(r,n=>t[n])}const WS={name:"OptimizationProblemInput",setup(){const e=NS();mathVirtualKeyboard.layouts=["compact"];const t=bt(()=>e.selectedOptimization==="Minimize"),r=bt(()=>e.selectedOptimization==="Maximize");return{optimizationStore:e,isMinimizationSelected:t,isMaximizationSelected:r,solveLP:async()=>{try{let i;console.log(e.selectedOptimization),i=US(e.$state.selectedOptimization,e.getObjectiveFunction,e.constraints,["0 <= x1 <= 5","0 <= x2 <= 10"],""),console.log(i);const o=await VS(i);console.log(o)}catch(i){console.error("Fehler beim Lösen des LP-Problems:",i)}}}}},jS={class:"inputContainer"},GS={class:"firstRow"},XS={class:"conditionContainer"},JS={id:"constraintContainer"},YS=["onInput"],ZS={class:"lastRow"};function QS(e,t,r,n,i,o){return fr(),kr("div",jS,[we("div",GS,[we("button",{class:us(["selectionOptimization",{selected:n.isMinimizationSelected}]),onClick:t[0]||(t[0]=a=>n.optimizationStore.selectOptimization("Minimize"))},nt(e.$t("minimization")),3),we("button",{class:us(["selectionOptimization",{selected:n.isMaximizationSelected}]),onClick:t[1]||(t[1]=a=>n.optimizationStore.selectOptimization("Maximize"))},nt(e.$t("maximization")),3)]),we("div",XS,[we("math-field",{class:"condition",placeholder:"Objective Function",onInput:t[2]||(t[2]=a=>n.optimizationStore.setObjectiveFunction(a.target.value)),id:"objectiveFunction"},null,32)]),we("div",JS,[(fr(!0),kr(Yt,null,x6(n.optimizationStore.constraints,a=>(fr(),kr("math-field",{key:a.id,class:"constraint",placeholder:"Constraint",onInput:s=>n.optimizationStore.updateConstraint(a.id,s.target.value)},null,40,YS))),128))]),we("div",ZS,[we("button",{class:"mainButton",onClick:t[3]||(t[3]=a=>n.optimizationStore.addConstraint())},nt(e.$t("addConstraint")),1),we("button",{class:"mainButton",onClick:t[4]||(t[4]=a=>n.solveLP())},nt(e.$t("solve")),1)])])}const eC=bi(WS,[["render",QS],["__scopeId","data-v-63202313"]]),tC={name:"Footer"},rC={class:"footer"},nC={class:"footer-link"};function iC(e,t,r,n,i,o){const a=rn("router-link");return fr(),kr("footer",rC,[we("a",nC,nt(e.$t("documentation")),1),ut(a,{to:"/about",class:"footer-link"},{default:t0(()=>[l0(nt(e.$t("aboutUs")),1)]),_:1}),ut(a,{to:"/agb",class:"footer-link"},{default:t0(()=>[l0(nt(e.$t("gtcs")),1)]),_:1})])}const lp=bi(tC,[["render",iC]]),oC={components:{Header:Rh,Footer:lp,OptimizationProblemInput:eC}};function aC(e,t,r,n,i,o){const a=rn("Header"),s=rn("OptimizationProblemInput"),l=rn("Footer");return fr(),kr(Yt,null,[ut(a),ut(s),ut(l)],64)}const sC=bi(oC,[["render",aC]]),lC={name:"Agbs"},uC={class:"section"},cC={class:"section"},dC={class:"section"},hC={class:"section"},pC={class:"section"},mC={class:"section"},fC={class:"section"},gC={class:"action-container"};function bC(e,t,r,n,i,o){return fr(),kr("div",null,[we("header",null,[we("h1",null,nt(e.$t("gtcsHeadline")),1)]),we("section",uC,[we("h2",null,"1. "+nt(e.$t("scope")),1),we("p",null,nt(e.$t("scopeText")),1)]),we("section",cC,[we("h2",null,"2. "+nt(e.$t("⁠useOfTheWebsite")),1),we("p",null,nt(e.$t("⁠useOfTheWebsiteText")),1)]),we("section",dC,[we("h2",null,"3. "+nt(e.$t("⁠openSourceLicense")),1),we("p",null,nt(e.$t("openSourceLizenzText")),1)]),we("section",hC,[we("h2",null,"4. "+nt(e.$t("disclaimer")),1),we("p",null,nt(e.$t("disclaimerText")),1)]),we("section",pC,[we("h2",null,"5. "+nt(e.$t("changesAndAvailability")),1),we("p",null,nt(e.$t("changesAndAvailabilityText")),1)]),we("section",mC,[we("h2",null,"6. "+nt(e.$t("⁠dataProtection")),1),we("p",null,nt(e.$t("dataProtectionText")),1)]),we("section",fC,[we("h2",null,"7."+nt(e.$t("⁠applicableLaw")),1),we("p",null,nt(e.$t("⁠applicablaLawText")),1)]),we("div",gC,[we("button",{class:"mainButton",onClick:t[0]||(t[0]=()=>{})},nt(e.$t("solve")),1)])])}const yC=bi(lC,[["render",bC]]),vC={components:{Header:Rh,Footer:lp,Agbs:yC}};function _C(e,t,r,n,i,o){const a=rn("Header"),s=rn("Agbs"),l=rn("Footer");return fr(),kr(Yt,null,[ut(a),ut(s,{class:"mainContent"}),ut(l)],64)}const xC=bi(vC,[["render",_C]]),wC={name:"AboutUs"},Q3=e=>(Ey("data-v-6c2cfc0a"),e=e(),Ly(),e),kC=Q3(()=>we("br",null,null,-1)),MC={class:"Home"},SC=Q3(()=>we("br",null,null,-1));function CC(e,t,r,n,i,o){return fr(),kr("div",null,[we("h1",null,nt(e.$t("aboutUsHeadline")),1),kC,we("p",null,nt(e.$t("aboutUsText"))+" 💻 ",1),we("div",MC,[SC,we("button",{class:"mainButton",onClick:t[0]||(t[0]=a=>e.optimizationStore.addConstraint())},nt(e.$t("addConstraint")),1)])])}const EC=bi(wC,[["render",CC],["__scopeId","data-v-6c2cfc0a"]]),LC={components:{Header:Rh,Footer:lp,AboutUs:EC}};function AC(e,t,r,n,i,o){const a=rn("Header"),s=rn("AboutUs"),l=rn("Footer");return fr(),kr(Yt,null,[ut(a),ut(s),ut(l)],64)}const DC=bi(LC,[["render",AC]]),BC=H8({history:a8("/linsolve/"),routes:[{path:"/",name:"Homepage",component:sC},{path:"/agb",name:"Agb",component:xC},{path:"/about",name:"About",component:DC}]}),Mc=R5(U8);Mc.use(R7());Mc.use(BC);Mc.use(w0);Mc.mount("#app");
